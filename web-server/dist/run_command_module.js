(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{213:function(e,t,a){"use strict";(function(e){var t=r(a(62)),n=r(a(15)),s=r(a(25)),o=r(a(2));function r(e){return e&&e.__esModule?e:{default:e}}var i={scripts:[{name:"test",parameters:[{name:"--number",value:2}]}],hpc:{is_hpc_job:!1,parameters:{wckey:"test1",nnodes:"1",partition:"mypartition",ntasks_per_node:"1",time_hours:"01",time_minutes:"30",time_seconds:"30",working_dir:"slycat"}}},c={scripts:[{name:"compute_timeseries",parameters:[{name:"--directory",value:"/home/slycat/src/slycat/web-client/500-times-series"},{name:"--cluster-sample-count",value:50},{name:"--cluster-sample-type",value:"uniform-paa"},{name:"--cluster-type",value:"average"},{name:"--cluster-metric",value:"euclidean"},{name:"--workdir",value:"/home/slycat/workdir"},{name:"--hash",value:"1a2b3c4d5e6f"}]}],hpc:{is_hpc_job:!1,parameters:{wckey:"test1",nnodes:"1",partition:"mypartition",ntasks_per_node:"1",time_hours:"01",time_minutes:"30",time_seconds:"30",working_dir:"slycat"}}},u={scripts:[{name:"timeseries_to_hdf5",parameters:[{name:"--output-directory",value:"/home/slycat/output"},{name:"--inputs-file",value:"/home/slycat/input"},{name:"--inputs-file-delimiter",value:","},{name:"--force",value:""}]}],hpc:{is_hpc_job:!1,parameters:{wckey:"test1",nnodes:"1",partition:"mypartition",ntasks_per_node:"1",time_hours:"01",time_minutes:"30",time_seconds:"30",working_dir:"slycat"}}};function l(e){document.getElementById("command").value="test"===e?(0,t.default)(i):"computer_time_series"===e?(0,t.default)(c):"timeseries_to_hdf5"===e?(0,t.default)(u):"command does not match command in list of commands"}document.getElementById("prettyPrint").addEventListener("click",function(){try{var a=e("#command").val(),n=JSON.parse(a);document.getElementById("command").value=(0,t.default)(n,void 0,4),a=e("#response").val(),n=JSON.parse(a),document.getElementById("response").value=(0,t.default)(n,void 0,4)}catch(e){}},!1),document.getElementById("go").addEventListener("click",function(){var a={command:JSON.parse(e("#command").val())};e.ajax({contentType:"application/json",type:"POST",url:(0,s.default)(n.default+"remotes/"+e("#hostname").val()+"/post-remote-command"),success:function(e){document.getElementById("response").value=(0,t.default)(e)},error:function(e,a,n){console.log("status:"+e.status),400===e.status?document.getElementById("response").value="status: "+e.status+"\n\nmessage: "+e.getResponseHeader("X-Slycat-Message"):document.getElementById("response").value="error response from server:\nerror request:"+(0,t.default)(e,void 0,4)+"\n\n status: "+e.status+"\n\n reason: "+n},data:(0,t.default)(a)})},!1),document.getElementById("getSession").addEventListener("click",function(){o.default.get_session_status({hostname:e("#hostname").val(),success:function(e){document.getElementById("response").value="host session found"},error:function(a,n,s){document.getElementById("response").value="no session found",o.default.post_remotes({hostname:e("#hostname").val(),username:e("#username").val(),password:e("#password").val(),success:function(e){document.getElementById("response").value="host session made sid:"+(0,t.default)(e,void 0,2)},error:function(e,t,a){window.alert("error request:"+e.responseJSON+" status: "+t+" reason: "+a),console.log("error request:"+e.responseJSON+" status: "+t+" reason: "+a)}})}})},!1),document.getElementById("test").addEventListener("click",function(){l("test")},!1),document.getElementById("computeTimeSeries").addEventListener("click",function(){l("computer_time_series")},!1),document.getElementById("timeseriesToHdf5").addEventListener("click",function(){l("timeseries_to_hdf5")},!1)}).call(this,a(1))},251:function(e,t,a){"use strict";a.r(t),function(e){var t=a(2),n=a.n(t),s=a(3),o=a.n(s),r=a(435),i=a(339),c=a(436),u=a(437),l=a(349),d=a(351),m=a(352),p=a(319),_=a(25),f=a.n(_);e(document).ready(function(){var t="scatter-plot",a=500,s=50,_=null,h="black",y="circle",v=null,g=null,w=null,I=null,E=f()(window.location).segment(-1),L=20,T=20,D=20,O=Number(new Date)+6e4,b=!1;function S(){n.a.get_model({mid:E,success:function(n){"artifact:dac-var-include-columns"in n&&"artifact:dac-metadata-include-columns"in n&&"artifact:dac-cont-colormap"in n&&"artifact:dac-disc-colormap"in n&&"artifact:dac-options"in n?e.when(i.a.get_parameters("dac-var-include-columns"),i.a.get_parameters("dac-metadata-include-columns"),i.a.get_parameters("dac-cont-colormap"),i.a.get_parameters("dac-disc-colormap"),i.a.get_parameters("dac-options")).then(function(e,n,o,r,i){v=e[0],g=n[0],w=JSON.parse(o[0][0]),I=JSON.parse(r[0][0]),L=i[0][0],D=i[0][0],T=i[0][0],a=i[0][1],s=i[0][2],_=i[0][3],y=i[0][4],t=i[0][5],A()}):A()},error:function(){A()}})}function A(){e.when(i.a.get_parameters("dac-ui-parms")).then(function(n){var p=parseFloat(n.ALPHA_STEP),f=parseInt(n.ALPHA_SLIDER_WIDTH),E=parseInt(n.ALPHA_BUTTONS_HEIGHT);null==_&&(_=parseInt(n.MAX_POINTS_ANIMATE));var O=parseFloat(n.SCATTER_BORDER),b=parseInt(n.SCATTER_BUTTONS_HEIGHT),S=n.POINT_COLOR,A=parseInt(n.POINT_SIZE),z=n.NO_SEL_COLOR,j=n.SELECTION_1_COLOR,x=n.SELECTION_2_COLOR,G=n.COLOR_BY_LOW,H=n.COLOR_BY_HIGH,R=parseInt(n.OUTLINE_NO_SEL),F=parseInt(n.OUTLINE_SEL),J={PLOTS_PULL_DOWN_HEIGHT:parseInt(n.PLOTS_PULL_DOWN_HEIGHT),PADDING_TOP:parseInt(n.PADDING_TOP),PADDING_BOTTOM:parseInt(n.PADDING_BOTTOM),PADDING_LEFT:parseInt(n.PADDING_LEFT),PADDING_RIGHT:parseInt(n.PADDING_RIGHT),X_LABEL_PADDING:parseInt(n.X_LABEL_PADDING),Y_LABEL_PADDING:parseInt(n.Y_LABEL_PADDING),LABEL_OPACITY:parseFloat(n.LABEL_OPACITY),X_TICK_FREQ:parseInt(n.X_TICK_FREQ),Y_TICK_FREQ:parseInt(n.Y_TICK_FREQ)};e("#dac-progress-feedback").remove(),r.a.setup(f,E,b,t),document.body.addEventListener("DACAlphaValuesChanged",N),document.body.addEventListener("DACSelectionsChanged",P),document.body.addEventListener("DACActiveSelectionChanged",B),document.body.addEventListener("DACDifferenceComputed",k),document.body.addEventListener("DACSubsetChanged",C),e.when(i.a.get_table_metadata("dac-variables-meta"),i.a.get_table("dac-variables-meta"),i.a.get_table_metadata("dac-datapoints-meta"),i.a.get_table("dac-datapoints-meta")).then(function(e,t,n,o){if(null==v){v=[];for(var r=0;r<e[0]["row-count"];r++)v.push(r)}if(null==g)for(g=[],r=0;r<n[0]["column-count"];r++)g.push(r);c.a.setup(p,e[0]["row-count"],t[0].data[0],T,v),u.a.setup(e[0]["row-count"],v),d.a.setup(j,x,h,J,a,s,L,e,t,v),l.a.setup(_,O,S,A,y,z,j,x,h,G,H,w,I,D,R,F,n[0],g,v),m.a.setup(n,o,g)},function(){o.a.ajax_error("Server error: could not load initial data.")("","","");for(var t=0;t<3;t++)e("#dac-select-plot-"+(t+1)).remove(),e("#dac-link-plot-"+(t+1)).remove(),e("#dac-low-resolution-plot-"+(t+1)).remove(),e("#dac-full-resolution-plot-"+(t+1)).remove(),e("#dac-link-label-plot-"+(t+1)).remove(),e("#dac-plots-displayed-"+(t+1)).remove(),e("#dac-plots-not-displayed-"+(t+1)).remove()})},function(){o.a.ajax_error("Server failure: could not load UI parameters.")("","",""),e("#dac-model").remove()})}function N(e){c.a.set_alpha_values(e.detail),l.a.update(e.detail)}function P(e){p.a.shuffle(),p.a.update_focus(),l.a.draw(),l.a.toggle_difference(!1),d.a.update_plots(),m.a.select_rows(),m.a.jump_to(e.detail.active_sel)}function B(e){p.a.set_focus(e.detail.active_sel),d.a.draw(),l.a.draw(),m.a.select_rows(),null!=e.detail.active_sel&&m.a.jump_to([e.detail.active_sel])}function k(e){d.a.change_selections(e.detail)}function C(e){var t=p.a.update_subset(e.detail.new_subset);d.a.draw(),l.a.draw(),e.detail.zoom&&l.a.reset_zoom(),l.a.update(c.a.get_alpha_values()),m.a.select_rows(),t.length>0&&m.a.jump_to(t)}e("#dac_processing_textarea").focus(function(){b=!0}),e("#dac_processing_textarea").focusout(function(){b=!1}),function t(){n.a.get_model_parameter({mid:E,aid:"dac-polling-progress",success:function(a){"Done"==a[0]?S():"Error"==a[0]?o.a.ajax_error("Server error: "+a[1]+".")("","",""):(e("#dac_processing_progress_bar").width(a[1]+"%"),e("#dac_processing_progress_bar").text(a[0]),e.when(i.a.get_parameters("dac-parse-log")).then(function(t){0==b&&(e("#dac_processing_textarea").text(t[1]),e("#dac_processing_textarea").scrollTop(e("#dac_processing_textarea")[0].scrollHeight))}),O=Number(new Date)+6e4,window.setTimeout(t,1e3))},error:function(){Number(new Date)<O?n.a.get_model({mid:E,success:function(e){"artifact:dac-polling-progress"in e?window.setTimeout(t,1e3):S()},error:function(){S()}}):S()}})}()})}.call(this,a(1))},319:function(e,t,a){"use strict";(function(e){t.a=e}).call(this,a(288)(e))},339:function(e,t,a){"use strict";(function(e){t.a={get_table_metadata:function(t){return e.ajax(location.href+"/tables/"+t+"/arrays/0/metadata")},get_table:function(t){return e.when(e.ajax(location.href+"/tables/"+t+"/arrays/0/metadata")).then(function(a){return e.ajax(location.href+"/tables/"+t+"/arrays/0/chunk?rows=0-"+a["row-count"]+"&columns=0-"+a["column-count"])})},get_parameters:function(t){return e.ajax(location.href+"/parameters/"+t)},get_array_metadata:function(t,a){return e.ajax(location.href+"/arraysets/"+t+"/metadata?arrays="+a)},get_array:function(t,a){return e.when(e.ajax(location.href+"/arraysets/"+t+"/metadata?arrays="+a)).then(function(n){return 1==n.arrays[0].dimensions.length?e.ajax(location.href+"/arraysets/"+t+"/arrays/"+a+"/attributes/0/chunk?ranges=0,"+n.arrays[0].dimensions[0].end):e.ajax(location.href+"/arraysets/"+t+"/arrays/"+a+"/attributes/0/chunk?ranges=0,"+n.arrays[0].dimensions[0].end+",0,"+n.arrays[0].dimensions[1].end)})}}}).call(this,a(1))},349:function(e,t,a){"use strict";(function(e){a(2),a(3),a(339),a(319),a(1),a(340),a(350);t.a=e}).call(this,a(288)(e))},351:function(e,t,a){"use strict";(function(e){a(2),a(3),a(319),a(1),a(340),a(350);t.a=e}).call(this,a(288)(e))},352:function(e,t,a){"use strict";(function(e){a(319),a(1),a(340);t.a=e}).call(this,a(288)(e))},435:function(e,t,a){"use strict";(function(e){var n=a(349),s=a(351),o=a(352);a(311);t.a={setup:function(t,a,r,i){"scatter-plot"==i?(e("#dac-control-bar-top").remove(),e("#dac-mds-pane-bar-top").remove(),e("#dac-model").layout({applyDefaultStyles:!0,east:{size:e(window).width()/3},onresize:function(){s.a.draw()}}),e("#dac-model > .ui-layout-center").layout({applyDefaultStyles:!0,south:{size:e(window).height()/4},onresize:function(){o.a.resize()},west:{size:t}}),e("#dac-model > .ui-layout-center > .ui-layout-center").layout({applyDefaultStyles:!0,north:{size:r},onresize:function(){n.a.draw()}}),e("#dac-model > .ui-layout-center > .ui-layout-west").layout({applyDefaultStyles:!0,south:{size:a}}),e(window).resize(function(){e("#dac-model").height(e(window).height())})):(e("#dac-control-bar-scatter-plot").remove(),e("#dac-mds-pane-bar-top").attr("id","dac-mds-pane"),e("#dac-model").layout({applyDefaultStyles:!0,east:{size:e(window).width()/3},onresize:function(){s.a.draw()}}),e("#dac-model > .ui-layout-center").layout({applyDefaultStyles:!0,north:{size:r},south:{size:e(window).height()/4},west:{size:t},onresize:function(){n.a.draw(),o.a.resize()}}),e("#dac-model > .ui-layout-center > .ui-layout-west").layout({applyDefaultStyles:!0,south:{size:a}}),e(window).resize(function(){e("#dac-model").height(e(window).height())}))}}}).call(this,a(1))},436:function(e,t,a){"use strict";(function(e){a(1);t.a=e}).call(this,a(288)(e))},437:function(e,t,a){"use strict";(function(e){a(3),a(1),a(339);t.a=e}).call(this,a(288)(e))}}]);
//# sourceMappingURL=run_command_module.js.map