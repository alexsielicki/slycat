(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{248:function(t,e,n){"use strict";(function(t){var e=A(n(100)),r=(A(n(315)),A(n(289)),A(n(293)),A(n(298)),A(n(300)),A(n(408)),A(n(15))),o=A(n(0)),i=A(n(2)),a=A(n(29)),l=u(n(3)),s=A(n(25)),c=u(n(336));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function A(t){return t&&t.__esModule?t:{default:t}}n(410),n(411),n(412),n(413),n(414),n(415),n(417),n(282),n(311),n(63),n(337),t(document).ready(function(){var n={_id:(0,s.default)(window.location).segment(-1)},u=null,A=null,d=null,h=null,f=null,p=null,g=null,v=null,m=null,w=null,y=null,b=null,_=null,x=null,C=null,k=null,M=null,S=null,E=null,R=null,N=null,D=null,P=null,T=!1,I=!1,L=!1,$=!1,H=!1,z=!1,F=null,W=null;t("#timeseries-model").layout({applyDefaultStyles:!1,north:{size:28,resizable:!1,resizeWhileDragging:!1},west:{size:t("#timeseries-model").width()/2,resizeWhileDragging:!1,onresize:function(){t("#dendrogram-viewer").dendrogram("resize_canvas")}},center:{resizeWhileDragging:!1,onresize:function(){t("#waveform-viewer").waveformplot("resize_canvas")}},east:{size:130,resizeWhileDragging:!1,onresize:function(){t("#legend").legend("option",{width:t("#legend-pane").width(),height:t("#legend-pane").height()})}},south:{size:t("#timeseries-model").height()/3,resizeWhileDragging:!1,onresize:function(){t("#table").table("resize_canvas")}}});function j(t){return Array.isArray(t)?t:JSON.parse(t)}function O(t){return"object"===(void 0===t?"undefined":(0,e.default)(t))?t:JSON.parse(t)}!function e(){t.ajax({type:"GET",url:r.default+"models/"+n._id,success:function(o){if("closed"===(n=o).state&&null===n.result&&(window.alert("model failed to complete possibly the connection was terminated to the hpc client try pulling data"),B(),setTimeout(e,15e3)),"finished"===n.state&&i.default.put_model({mid:n._id,state:"closed",success:function(){window.location.reload(!0)},error:function(){window.location.reload(!0)}}),"closed"===n.state&&"succeeded"===n.result){if(u=a.default.create(n.project,n._id),n["artifact:cluster-bin-count"],n["artifact:cluster-bin-type"],n["artifact:cluster-type"],n.hasOwnProperty("artifact:image-columns")?W=n["artifact:image-columns"]:(console.log("This model has no artifact:image-columns"),i.default.get_model_command({mid:n._id,type:"timeseries",command:"media-columns",success:function(t){i.default.put_model_parameter({mid:n._id,aid:"image-columns",value:t,input:!0,success:function(){W=t}})},error:function(t){console.log("error getting model command")}})),t(".slycat-job-checker").remove(),"failed"==n.result)return;!function(){function e(){null!==v&&null!==d&&u.getState(function(t){g=void 0!==(A=t)["cluster-index"]?A["cluster-index"]:0,S=[],"simulation-selection"in A?S=A["simulation-selection"]:"cluster-index"in A&&A["cluster-index"]+"-selected-row-simulations"in A&&(S=A[A["cluster-index"]+"-selected-row-simulations"]),x=[],C=[],k=[],M=[];for(var e=0;e<d.length;e++)x[e]=void 0!==A[e+"-column-index"]?A[e+"-column-index"]:v["column-count"]-1,C[e]=v["column-types"][x[e]],k[e]=v["column-min"][x[e]],M[e]=v["column-max"][x[e]];b=[];for(var e=0;e<v["column-count"];e++)void 0!=W&&-1==W.indexOf(e)&&b.push(e);b.unshift(b.pop()),F=[];for(var e=0;e<d.length;e++)F[e]=void 0!==A[e+"-selected-waveform-indexes"]?A[e+"-selected-waveform-indexes"]:null;y=void 0!==A.colormap?A.colormap:"night",E=void 0!=A["sort-variable"]?A["sort-variable"]:void 0,R=void 0!=A["sort-order"]?A["sort-order"]:void 0,N=[],D=[],P=[];for(var e=0;e<d.length;e++)N[e]=A[e+"-collapsed-nodes"],D[e]=A[e+"-expanded-nodes"],P[e]=A[e+"-selected-nodes"];Y(),q()})}t(".load-status").text("Loading data."),t.ajax({url:r.default+"models/"+n._id+"/files/clusters",contentType:"application/json",success:function(t){d=t,h=new Array(d.length),f=new Array(d.length),p=new Array(d.length),Y(),e()},error:U}),t.ajax({url:r.default+"models/"+n._id+"/tables/inputs/arrays/0/metadata?index=Index",contentType:"application/json",success:function(t){v=t,Y(),q(),e()},error:U})}()}else B(),setTimeout(e,15e3)},error:function(t,e,n){window.alert("Error retrieving model: "+n)}})}();var B=function(){var e=t("#timeseries-model").children()[0],r=t(e);r.detach(),t(t("#timeseries-model").children()).remove(),t("#timeseries-model").append(r),o.default.applyBindings({jid:n["artifact:jid"]},document.getElementById("slycat-job-checker-wrapper"))};function U(){t(".load-status").css("display","none"),l.dialog({title:"Load Error",message:"Oops, there was a problem retrieving data from the model. This likely means that there was a problem during computation."})}function q(){A&&v&&null!=x&&null!==g&&V({column:x[g],callback:function(t){Y()}})}function V(e){var o=v["column-count"]-1,i=v["column-min"][o],a=v["column-max"][o]+1;t.ajax({url:r.default+"models/"+n._id+"/tables/inputs/arrays/0/chunk?rows="+i+"-"+a+"&columns="+e.column+"&index=Index&sort="+o+":ascending",async:!0,callback:e.callback,success:function(t){m=t.data[0],this.callback(t.data[0])},error:function(t,e,n){window.alert("Error getting color coding values from table-chunker worker: "+n)}})}function Y(){if(A&&j(d)&&null!==g&&void 0===f[g]&&void 0===p[g]&&(f[g]=null,p[g]=null,c.get_model_arrayset({api_root:r.default+"",mid:n._id,aid:"preview-"+j(d)[g],success:function(t,e){f[g]=t,p[g]=e,Y()},error:U})),A&&j(d)&&void 0===h[g]&&(h[g]=null,t.ajax({url:r.default+"models/"+n._id+"/files/cluster-"+j(d)[g],contentType:"application/json",success:function(t){h[g]=t,Y()},error:U})),!T&&A&&j(d)&&null!==g&&null!=S&&v&&null!==b&&null!==F&&null!==x&&null!==g){T=!0,t("#cluster-pane .load-status").css("display","none");var e={mid:n._id,model_name:window.model_name,aid:"inputs",metadata:v,highlight:S,clusters:j(d),cluster:g,color_variables:b,"color-variable":x[g],selection:F[parseInt(g,10)],image_columns:W};t("#controls").controls(e),t("#controls").bind("cluster-changed",function(t,e){G(e)}),t("#controls").bind("color-selection-changed",function(e,n){K(n=parseInt(n)),t("#table").table("option","variable-selection",[x[g]])})}if(!I&&A&&null!==y&&(I=!0,t("#color-switcher").colorswitcher({colormap:y}),Q(Y),t("#color-switcher").bind("colormap-changed",function(e,o){!function(e){y=e,t("#legend-pane").css("background",t("#color-switcher").colorswitcher("get_background",y).toString()),t("#legend").legend("option",{gradient:t("#color-switcher").colorswitcher("get_gradient_data",y)}),t("#dendrogram-sparkline-backdrop").css({"background-color":t("#color-switcher").colorswitcher("get_background",y).toString()}),t("#waveform-pane").css({"background-color":t("#color-switcher").colorswitcher("get_background",y).toString()}),t("#waveform-viewer rect.selectionMask").css({fill:t("#color-switcher").colorswitcher("get_background",y).toString(),"fill-opacity":t("#color-switcher").colorswitcher("get_opacity",y)}),J(),t.ajax({type:"POST",url:r.default+"events/models/"+n._id+"/select/colormap/"+y}),u.updateState({colormap:y})}(o)})),!z&&A&&v&&null!==g&&null!==y&&null!==x&&null!==C&&null!==w&&(z=!0,t("#legend-pane .load-status").css("display","none"),t("#legend-pane").css("background",t("#color-switcher").colorswitcher("get_background",y).toString()),t("#legend").legend({width:t("#legend-pane").width(),height:t("#legend-pane").height(),gradient:t("#color-switcher").colorswitcher("get_gradient_data",y),label:v["column-names"][x[g]],min:v["column-min"][x[g]],max:v["column-max"][x[g]],v_type:C[g],uniqueValues:_})),!$&&A&&null!==g&&null!==f&&void 0!==f[g]&&null!==f[g]&&null!==m&&null!==w&&null!==v&&null!==S&&null!==F){$=!0,t("#waveform-pane .load-status").css("display","none"),t("#waveform-pane").css({"background-color":t("#color-switcher").colorswitcher("get_background",y).toString()}),t("#waveform-viewer rect.selectionMask").css({fill:t("#color-switcher").colorswitcher("get_background",y).toString(),"fill-opacity":t("#color-switcher").colorswitcher("get_opacity",y)});var o={mid:n._id,waveforms:f[g],color_scale:w,color_array:m,highlight:S,selection:F[parseInt(g,10)]};t("#waveform-viewer").waveformplot(o),t("#waveform-viewer").bind("waveform-selection-changed",function(e,n){X(n),t("#dendrogram-viewer").dendrogram("option","highlight",n),t("#controls").controls("option","highlight",n),t("#table").table("option","row-selection",n)})}if(!H&&A&&v&&null!==g&&null!==S&&null!==y&&null!==w&&null!==x&&null!==C&&null!==k&&null!==M&&null!==E&&null!==R&&null!==W){H=!0,t("#table-pane .load-status").css("display","none");var i={api_root:r.default,mid:n._id,aid:"inputs",metadata:v,colorscale:w,colormap:y,"variable-selection":[x[g]],"row-selection":S,"sort-variable":E,"sort-order":R,image_columns:W};t("#table").table(i),t("#table").bind("row-selection-changed",function(e,n){X(n),t("#controls").controls("option","highlight",n),t("#waveform-viewer").waveformplot("option","highlight",n),t("#dendrogram-viewer").dendrogram("option","highlight",n)}),t("#table").bind("variable-sort-changed",function(e,o,i){!function(e,o){E=e,R=o,t.ajax({type:"POST",url:r.default+"events/models/"+n._id+"/select/sort-order/"+e+"/"+o}),u.updateState({"sort-variable":E,"sort-order":R})}(o,i),t("#dendrogram-viewer").dendrogram("option","dendrogram_sort_order",null==o&&null==i)}),t("#table").bind("variable-selection-changed",function(e,n){K(n.variable[0]),t("#controls").controls("option","color-variable",x[g])})}if(!L&&A&&j(d)&&null!==g&&void 0!==h[g]&&null!==h[g]&&null!==m&&null!==w&&null!==S&&null!==y&&null!==k&&null!==M&&null!==E){L=!0,t("#dendrogram-pane .load-status").css("display","none"),t("#dendrogram-sparkline-backdrop").css({"background-color":t("#color-switcher").colorswitcher("get_background",y).toString()});var a=Z(g);a.api_root=r.default,a.mid=n._id,a.clusters=j(d),a.cluster_data=O(h[g]),a.color_scale=w,a.color_array=m,void 0!=E&&(a.dendrogram_sort_order=!1),t("#dendrogram-viewer").bind("node-selection-changed",function(e,o){!function(e){if(F[parseInt(g,10)]=function(e){var n=[],r=null;return t.each(e,function(t,e){null!=(r=e["waveform-index"])&&n.push(r)}),n}(e.selection),P[g]=function(t){for(var e=[],n=null,r=0;r<t.length;r++)null!=(n=t[r]["node-index"])&&e.push(n);return e}(e.selection),1!=e.skip_bookmarking){t("#controls").controls("option","selection",F[parseInt(g,10)]),t("#controls").controls("option","highlight",S),t("#waveform-viewer").waveformplot("option","selection",F[parseInt(g,10)]),t("#waveform-viewer").waveformplot("option","highlight",S);var o={};o[g+"-selected-nodes"]=P[g],o[g+"-selected-waveform-indexes"]=F[parseInt(g,10)],u.updateState(o)}t("#table").table("option","row-selection-silent",S),t("#table").table("option","selection",e.selection),null!=e.node&&null!=e.node["node-index"]&&t.ajax({type:"POST",url:r.default+"events/models/"+n._id+"/select/node/"+e.node["node-index"]})}(o)}),t("#dendrogram-viewer").dendrogram(a),t("#dendrogram-viewer").bind("expanded-collapsed-nodes-changed",function(t,e){!function(t){N[g]=t.collapsed,D[g]=t.expanded;var e={};e[g+"-expanded-nodes"]=D[g],e[g+"-collapsed-nodes"]=N[g],u.updateState(e)}(e)}),t("#dendrogram-viewer").bind("node-toggled",function(e,o){!function(e){t.ajax({type:"POST",url:r.default+"events/models/"+n._id+"/toggle/node/"+e["node-index"]})}(o)}),t("#dendrogram-viewer").bind("waveform-selection-changed",function(e,n){X(n),t("#controls").controls("option","highlight",n),t("#waveform-viewer").waveformplot("option","highlight",n),t("#table").table("option","row-selection",n)}),t("#dendrogram-viewer").bind("sort-by-dendrogram-order",function(e){t("#table").table("option","sort-variable",null)}),t("#dendrogram-viewer").bind("cluster-changed",function(t,e){G(e)})}}function G(e){(function(e){if(void 0===h[e]||null===h[e])t.ajax({url:r.default+"models/"+n._id+"/files/cluster-"+j(d)[e],contentType:"application/json",success:function(n){h[e]=n;var r=Z(e);r.cluster_data=O(h[e]),t("#dendrogram-viewer").dendrogram("option",r)},error:U});else{var o=Z(e);o.cluster_data=O(h[e]),t("#dendrogram-viewer").dendrogram("option",o)}})(g=e),function(e){if(void 0===f[e])c.get_model_arrayset({api_root:r.default,mid:n._id,aid:"preview-"+j(d)[e],success:function(n,r){f[e]=n,p[e]=r;var o={waveforms:f[e],selection:F[e],highlight:S};t("#waveform-viewer").waveformplot("option","waveforms",o)},error:U});else{var o={waveforms:f[e],selection:F[e],highlight:S};t("#waveform-viewer").waveformplot("option","waveforms",o)}}(g),t("#table").table("option","variable-selection",[x[g]]),t("#controls").controls("option","color-variable",x[g]),J(),t.ajax({type:"POST",url:r.default+"events/models/"+n._id+"/select/cluster/"+g}),u.updateState({"cluster-index":g})}function X(e){S=e,t.ajax({type:"POST",url:r.default+"events/models/"+n._id+"/select/simulation/count/"+S.length});var o={};o["simulation-selection"]=S,u.updateState(o)}function K(e){x[g]=e,C[g]=v["column-types"][x[g]],k[g]=v["column-min"][x[g]],M[g]=v["column-max"][x[g]],J(),t.ajax({type:"POST",url:r.default+"events/models/"+n._id+"/select/variable/"+x[g]});var o={};o[g+"-column-index"]=x[g],u.updateState(o)}function Q(e){"string"!=C[g]?(w=t("#color-switcher").colorswitcher("get_color_scale",void 0,k[g],M[g]),e(w)):t.ajax({type:"GET",url:r.default+"models/"+n._id+"/arraysets/inputs/metadata?unique=0/"+x[g]+"/...",success:function(n){_=n.unique[0].values[0],w=t("#color-switcher").colorswitcher("get_color_scale_ordinal",void 0,_),e(w)},error:function(t){console.log("there was an error. here it is: "+t)}})}function J(){Q(function(e){V({column:x[g],callback:function(n){var r={color_array:n,color_scale:e};t("#waveform-viewer").waveformplot("option","color-options",r),t("#dendrogram-viewer").dendrogram("option","color-options",r),t("#table").table("option","colorscale",e),t("#legend").legend("option",{min:v["column-min"][x[g]],max:v["column-max"][x[g]],label:v["column-names"][x[g]],v_type:C[g],uniqueValues:_})}})})}function Z(t){var e={cluster:t};return e.collapsed_nodes=N[t],e.expanded_nodes=D[t],e.selected_nodes=P[t],e.highlight=S,e}})}).call(this,n(1))},283:function(t,e,n){"use strict";var r,o,i,a=u(n(229)),l=u(n(100)),s=u(n(62)),c=u(n(228));function u(t){return t&&t.__esModule?t:{default:t}}!function(){function n(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function u(t){return null!=t&&!isNaN(t)}function A(t){return{left:function(e,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=e.length);o>r;){var i=r+o>>>1;t(e[i],n)<0?r=i+1:o=i}return r},right:function(e,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=e.length);o>r;){var i=r+o>>>1;t(e[i],n)>0?o=i:r=i+1}return r}}}function d(t){return t.length}function h(t,e){try{for(var n in e)(0,c.default)(t.prototype,n,{value:e[n],enumerable:!1})}catch(n){t.prototype=e}}function f(){}function p(t){return ui+t in this}function g(){var t=[];return this.forEach(function(e){t.push(e)}),t}function v(){var t=0;for(var e in this)e.charCodeAt(0)===Ai&&++t;return t}function m(){for(var t in this)if(t.charCodeAt(0)===Ai)return!1;return!0}function w(){}function y(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function b(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.substring(1);for(var n=0,r=di.length;r>n;++n){var o=di[n]+e;if(o in t)return o}}function _(){}function x(){}function C(t){function e(){for(var e,r=n,o=-1,i=r.length;++o<i;)(e=r[o].on)&&e.apply(this,arguments);return t}var n=[],r=new f;return e.on=function(e,o){var i,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,i=n.indexOf(a)).concat(n.slice(i+1)),r.remove(e)),o&&n.push(r.set(e,{on:o})),t)},e}function k(){Qo.event.preventDefault()}function M(){for(var t,e=Qo.event;t=e.sourceEvent;)e=t;return e}function S(t){for(var e=new x,n=0,r=arguments.length;++n<r;)e[arguments[n]]=C(e);return e.of=function(n,r){return function(o){try{var i=o.sourceEvent=Qo.event;o.target=t,Qo.event=o,e[o.type].apply(n,r)}finally{Qo.event=i}}},e}function E(t){return fi(t,wi),t}function R(t){return"function"==typeof t?t:function(){return pi(t,this)}}function N(t){return"function"==typeof t?t:function(){return gi(t,this)}}function D(t,e){return t=Qo.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function P(t){return t.trim().replace(/\s+/g," ")}function T(t){return new RegExp("(?:^|\\s+)"+Qo.requote(t)+"(?:\\s+|$)","g")}function I(t){return t.trim().split(/^|\s+/)}function L(t,e){var n=(t=I(t).map($)).length;return"function"==typeof e?function(){for(var r=-1,o=e.apply(this,arguments);++r<n;)t[r](this,o)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function $(t){var e=T(t);return function(n,r){if(o=n.classList)return r?o.add(t):o.remove(t);var o=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(o)||n.setAttribute("class",P(o+" "+t))):n.setAttribute("class",P(o.replace(e," ")))}}function H(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function z(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function F(t){return"function"==typeof t?t:(t=Qo.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function W(t){return{__data__:t}}function j(t){return function(){return mi(this,t)}}function O(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function B(t,e){for(var n=0,r=t.length;r>n;n++)for(var o,i=t[n],a=0,l=i.length;l>a;a++)(o=i[a])&&e(o,a,n);return t}function U(t){return fi(t,bi),t}function q(){var t=this.__transition__;t&&++t.active}function V(t,e,n){function r(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}var o="__on"+t,i=t.indexOf("."),a=Y;i>0&&(t=t.substring(0,i));var l=xi.get(t);return l&&(t=l,a=G),i?e?function(){var i=a(e,Zo(arguments));r.call(this),this.addEventListener(t,this[o]=i,i.$=n),i._=e}:r:e?_:function(){var e,n=new RegExp("^__on([^.]+)"+Qo.requote(t)+"$");for(var r in this)if(e=r.match(n)){var o=this[r];this.removeEventListener(e[1],o,o.$),delete this[r]}}}function Y(t,e){return function(n){var r=Qo.event;Qo.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{Qo.event=r}}}function G(t,e){var n=Y(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function X(){var t=".dragsuppress-"+ ++ki,e="click"+t,n=Qo.select(ni).on("touchmove"+t,k).on("dragstart"+t,k).on("selectstart"+t,k);if(Ci){var r=ei.style,o=r[Ci];r[Ci]="none"}return function(i){function a(){n.on(e,null)}n.on(t,null),Ci&&(r[Ci]=o),i&&(n.on(e,function(){k(),a()},!0),setTimeout(a,0))}}function K(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function Q(){return Qo.event.changedTouches[0].identifier}function J(){return Qo.event.target}function Z(){return ni}function tt(t){return t>0?1:0>t?-1:0}function et(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function nt(t){return t>1?0:-1>t?Mi:Math.acos(t)}function rt(t){return t>1?Ei:-1>t?-Ei:Math.asin(t)}function ot(t){return((t=Math.exp(t))+1/t)/2}function it(t){return(t=Math.sin(t/2))*t}function at(){}function lt(t,e,n){return new st(t,e,n)}function st(t,e,n){this.h=t,this.s=e,this.l=n}function ct(t,e,n){function r(t){return Math.round(255*function(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(i-o)*t/60:180>t?i:240>t?o+(i-o)*(240-t)/60:o}(t))}var o,i;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,o=2*(n=0>n?0:n>1?1:n)-(i=.5>=n?n*(1+e):n+e-n*e),_t(r(t+120),r(t),r(t-120))}function ut(t,e,n){return new At(t,e,n)}function At(t,e,n){this.h=t,this.c=e,this.l=n}function dt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),ht(n,Math.cos(t*=Di)*e,Math.sin(t)*e)}function ht(t,e,n){return new ft(t,e,n)}function ft(t,e,n){this.l=t,this.a=e,this.b=n}function pt(t,e,n){var r=(t+16)/116,o=r+e/500,i=r-n/200;return _t(wt(3.2404542*(o=vt(o)*ji)-1.5371385*(r=vt(r)*Oi)-.4985314*(i=vt(i)*Bi)),wt(-.969266*o+1.8760108*r+.041556*i),wt(.0556434*o-.2040259*r+1.0572252*i))}function gt(t,e,n){return t>0?ut(Math.atan2(n,e)*Pi,Math.sqrt(e*e+n*n),t):ut(NaN,NaN,t)}function vt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function mt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function wt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function yt(t){return _t(t>>16,255&t>>8,255&t)}function bt(t){return yt(t)+""}function _t(t,e,n){return new xt(t,e,n)}function xt(t,e,n){this.r=t,this.g=e,this.b=n}function Ct(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function kt(t,e,n){var r,o,i,a=0,l=0,s=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(o=r[2].split(","),r[1]){case"hsl":return n(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return e(Rt(o[0]),Rt(o[1]),Rt(o[2]))}return(i=Vi.get(t))?e(i.r,i.g,i.b):(null==t||"#"!==t.charAt(0)||isNaN(i=parseInt(t.substring(1),16))||(4===t.length?(a=(3840&i)>>4,a|=a>>4,l=240&i,l|=l>>4,s=15&i,s|=s<<4):7===t.length&&(a=(16711680&i)>>16,l=(65280&i)>>8,s=255&i)),e(a,l,s))}function Mt(t,e,n){var r,o,i=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),l=a-i,s=(a+i)/2;return l?(o=.5>s?l/(a+i):l/(2-a-i),r=t==a?(e-n)/l+(n>e?6:0):e==a?(n-t)/l+2:(t-e)/l+4,r*=60):(r=NaN,o=s>0&&1>s?0:r),lt(r,o,s)}function St(t,e,n){var r=mt((.4124564*(t=Et(t))+.3575761*(e=Et(e))+.1804375*(n=Et(n)))/ji),o=mt((.2126729*t+.7151522*e+.072175*n)/Oi);return ht(116*o-16,500*(r-o),200*(o-mt((.0193339*t+.119192*e+.9503041*n)/Bi)))}function Et(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Rt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Nt(t){return"function"==typeof t?t:function(){return t}}function Dt(t){return t}function Pt(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Tt(e,n,t,r)}}function Tt(t,e,n,r){function o(){var t,e=s.status;if(!e&&s.responseText||e>=200&&300>e||304===e){try{t=n.call(i,s)}catch(t){return void a.error.call(i,t)}a.load.call(i,t)}else a.error.call(i,s)}var i={},a=Qo.dispatch("beforesend","progress","load","error"),l={},s=new XMLHttpRequest,c=null;return!ni.XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=o:s.onreadystatechange=function(){s.readyState>3&&o()},s.onprogress=function(t){var e=Qo.event;Qo.event=t;try{a.progress.call(i,s)}finally{Qo.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(c=t,i):c},i.response=function(t){return n=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(Zo(arguments)))}}),i.send=function(n,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),s.open(n,t,!0),null==e||"accept"in l||(l.accept=e+",*/*"),s.setRequestHeader)for(var u in l)s.setRequestHeader(u,l[u]);return null!=e&&s.overrideMimeType&&s.overrideMimeType(e),null!=c&&(s.responseType=c),null!=o&&i.on("error",o).on("load",function(t){o(null,t)}),a.beforesend.call(i,s),s.send(null==r?null:r),i},i.abort=function(){return s.abort(),i},Qo.rebind(i,a,"on"),null==r?i:i.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}function It(){var t=Lt(),e=$t()-t;e>24?(isFinite(e)&&(clearTimeout(Ki),Ki=setTimeout(It,e)),Xi=0):(Xi=1,Ji(It))}function Lt(){var t=Date.now();for(Qi=Yi;Qi;)t>=Qi.t&&(Qi.f=Qi.c(t-Qi.t)),Qi=Qi.n;return t}function $t(){for(var t,e=Yi,n=1/0;e;)e.f?e=t?t.n=e.n:Yi=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return Gi=t,n}function Ht(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function zt(t){return t+""}function Ft(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Wt(t,e,n){function r(e){var n=t(e),r=i(n,1);return r-e>e-n?n:r}function o(n){return e(n=t(new ra(n-1)),1),n}function i(t,n){return e(t=new ra(+t),n),t}function a(t,r,i){var a=o(t),l=[];if(i>1)for(;r>a;)n(a)%i||l.push(new Date(+a)),e(a,1);else for(;r>a;)l.push(new Date(+a)),e(a,1);return l}t.floor=t,t.round=r,t.ceil=o,t.offset=i,t.range=a;var l=t.utc=jt(t);return l.floor=l,l.round=jt(r),l.ceil=jt(o),l.offset=jt(i),l.range=function(t,e,n){try{ra=Ft;var r=new Ft;return r._=t,a(r,e,n)}finally{ra=Date}},t}function jt(t){return function(e,n){try{ra=Ft;var r=new Ft;return r._=e,t(r,n)._}finally{ra=Date}}}function Ot(t,e,n){var r=0>t?"-":"",o=(r?-t:t)+"",i=o.length;return r+(n>i?new Array(n-i+1).join(e)+o:o)}function Bt(t){return new RegExp("^(?:"+t.map(Qo.requote).join("|")+")","i")}function Ut(t){for(var e=new f,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function qt(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Vt(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n));return r?(t.U=+r[0],n+r[0].length):-1}function Yt(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n));return r?(t.W=+r[0],n+r[0].length):-1}function Gt(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Xt(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+2));return r?(t.y=function(t){return t+(t>68?1900:2e3)}(+r[0]),n+r[0].length):-1}function Kt(t,e,n){return/^[+-]\d{4}$/.test(e=e.substring(n,n+5))?(t.Z=-e,n+5):-1}function Qt(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Jt(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Zt(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function te(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ee(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ne(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function re(t,e,n){aa.lastIndex=0;var r=aa.exec(e.substring(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function oe(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=~~(ci(e)/60),o=ci(e)%60;return n+Ot(r,"0",2)+Ot(o,"0",2)}function ie(t,e,n){la.lastIndex=0;var r=la.exec(e.substring(n,n+1));return r?n+r[0].length:-1}function ae(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function le(){}function se(t,e,n){var r=n.s=t+e,o=r-t,i=r-o;n.t=t-i+(e-o)}function ce(t,e){t&&Aa.hasOwnProperty(t.type)&&Aa[t.type](t,e)}function ue(t,e,n){var r,o=-1,i=t.length-n;for(e.lineStart();++o<i;)r=t[o],e.point(r[0],r[1],r[2]);e.lineEnd()}function Ae(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)ue(t[n],e,1);e.polygonEnd()}function de(){function t(t,e){e=e*Di/2+Mi/4;var n=(t*=Di)-r,a=n>=0?1:-1,l=a*n,s=Math.cos(e),c=Math.sin(e),u=i*c,A=o*s+u*Math.cos(l),d=u*a*Math.sin(l);ha.add(Math.atan2(d,A)),r=t,o=s,i=c}var e,n,r,o,i;fa.point=function(a,l){fa.point=t,r=(e=a)*Di,o=Math.cos(l=(n=l)*Di/2+Mi/4),i=Math.sin(l)},fa.lineEnd=function(){t(e,n)}}function he(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function fe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function pe(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ge(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ve(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function me(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function we(t){return[Math.atan2(t[1],t[0]),rt(t[2])]}function ye(t,e){return ci(t[0]-e[0])<Ri&&ci(t[1]-e[1])<Ri}function be(t,e){t*=Di;var n=Math.cos(e*=Di);_e(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function _e(t,e,n){va+=(t-va)/++pa,ma+=(e-ma)/pa,wa+=(n-wa)/pa}function xe(){function t(t,o){t*=Di;var i=Math.cos(o*=Di),a=i*Math.cos(t),l=i*Math.sin(t),s=Math.sin(o),c=Math.atan2(Math.sqrt((c=n*s-r*l)*c+(c=r*a-e*s)*c+(c=e*l-n*a)*c),e*a+n*l+r*s);ga+=c,ya+=c*(e+(e=a)),ba+=c*(n+(n=l)),_a+=c*(r+(r=s)),_e(e,n,r)}var e,n,r;Ma.point=function(o,i){o*=Di;var a=Math.cos(i*=Di);e=a*Math.cos(o),n=a*Math.sin(o),r=Math.sin(i),Ma.point=t,_e(e,n,r)}}function Ce(){Ma.point=be}function ke(){function t(t,e){t*=Di;var n=Math.cos(e*=Di),a=n*Math.cos(t),l=n*Math.sin(t),s=Math.sin(e),c=o*s-i*l,u=i*a-r*s,A=r*l-o*a,d=Math.sqrt(c*c+u*u+A*A),h=r*a+o*l+i*s,f=d&&-nt(h)/d,p=Math.atan2(d,h);xa+=f*c,Ca+=f*u,ka+=f*A,ga+=p,ya+=p*(r+(r=a)),ba+=p*(o+(o=l)),_a+=p*(i+(i=s)),_e(r,o,i)}var e,n,r,o,i;Ma.point=function(a,l){e=a,n=l,Ma.point=t,a*=Di;var s=Math.cos(l*=Di);r=s*Math.cos(a),o=s*Math.sin(a),i=Math.sin(l),_e(r,o,i)},Ma.lineEnd=function(){t(e,n),Ma.lineEnd=Ce,Ma.point=be}}function Me(){return!0}function Se(t,e,n,r,o){var i=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(ye(n,r)){o.lineStart();for(var l=0;e>l;++l)o.point((n=t[l])[0],n[1]);return void o.lineEnd()}var s=new Re(n,t,null,!0),c=new Re(n,null,s,!1);s.o=c,i.push(s),a.push(c),c=new Re(r,null,s=new Re(r,t,null,!1),!0),s.o=c,i.push(s),a.push(c)}}),a.sort(e),Ee(i),Ee(a),i.length){for(var l=0,s=n,c=a.length;c>l;++l)a[l].e=s=!s;for(var u,A,d=i[0];;){for(var h=d,f=!0;h.v;)if((h=h.n)===d)return;u=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(l=0,c=u.length;c>l;++l)o.point((A=u[l])[0],A[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(f)for(l=(u=h.p.z).length-1;l>=0;--l)o.point((A=u[l])[0],A[1]);else r(h.x,h.p.x,-1,o);h=h.p}u=(h=h.o).z,f=!f}while(!h.v);o.lineEnd()}}}function Ee(t){if(e=t.length){for(var e,n,r=0,o=t[0];++r<e;)o.n=n=t[r],n.p=o,o=n;o.n=n=t[0],n.p=o}}function Re(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ne(t,e,n,r){return function(o,i){function a(e,n){var r=o(e,n);t(e=r[0],n=r[1])&&i.point(e,n)}function l(t,e){var n=o(t,e);g.point(n[0],n[1])}function s(){m.point=l,g.lineStart()}function c(){m.point=a,g.lineEnd()}function u(t,e){p.push([t,e]);var n=o(t,e);y.point(n[0],n[1])}function A(){y.lineStart(),p=[]}function d(){u(p[0][0],p[0][1]),y.lineEnd();var t,e=y.clean(),n=w.buffer(),r=n.length;if(p.pop(),f.push(p),p=null,r)if(1&e){var o,a=-1;if((r=(t=n[0]).length-1)>0){for(b||(i.polygonStart(),b=!0),i.lineStart();++a<r;)i.point((o=t[a])[0],o[1]);i.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),h.push(n.filter(De))}var h,f,p,g=e(i),v=o.invert(r[0],r[1]),m={point:a,lineStart:s,lineEnd:c,polygonStart:function(){m.point=u,m.lineStart=A,m.lineEnd=d,h=[],f=[]},polygonEnd:function(){m.point=a,m.lineStart=s,m.lineEnd=c,h=Qo.merge(h);var t=function(t,e){var n=t[0],r=t[1],o=[Math.sin(n),-Math.cos(n),0],i=0,a=0;ha.reset();for(var l=0,s=e.length;s>l;++l){var c=e[l],u=c.length;if(u)for(var A=c[0],d=A[0],h=A[1]/2+Mi/4,f=Math.sin(h),p=Math.cos(h),g=1;;){g===u&&(g=0);var v=(t=c[g])[0],m=t[1]/2+Mi/4,w=Math.sin(m),y=Math.cos(m),b=v-d,_=b>=0?1:-1,x=_*b,C=x>Mi,k=f*w;if(ha.add(Math.atan2(k*_*Math.sin(x),p*y+k*Math.cos(x))),i+=C?b+_*Si:b,C^d>=n^v>=n){var M=pe(he(A),he(t));me(M);var S=pe(o,M);me(S);var E=(C^b>=0?-1:1)*rt(S[2]);(r>E||r===E&&(M[0]||M[1]))&&(a+=C^b>=0?1:-1)}if(!g++)break;d=v,f=w,p=y,A=t}}return(-Ri>i||Ri>i&&0>ha)^1&a}(v,f);h.length?(b||(i.polygonStart(),b=!0),Se(h,Te,t,n,i)):t&&(b||(i.polygonStart(),b=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),b&&(i.polygonEnd(),b=!1),h=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}},w=Pe(),y=e(w),b=!1;return m}}function De(t){return t.length>1}function Pe(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:_,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Te(t,e){return((t=t.x)[0]<0?t[1]-Ei-Ri:Ei-t[1])-((e=e.x)[0]<0?e[1]-Ei-Ri:Ei-e[1])}function Ie(t,e,n,r){return function(o){var i,a=o.a,l=o.b,s=a.x,c=a.y,u=0,A=1,d=l.x-s,h=l.y-c;if(i=t-s,d||!(i>0)){if(i/=d,0>d){if(u>i)return;A>i&&(A=i)}else if(d>0){if(i>A)return;i>u&&(u=i)}if(i=n-s,d||!(0>i)){if(i/=d,0>d){if(i>A)return;i>u&&(u=i)}else if(d>0){if(u>i)return;A>i&&(A=i)}if(i=e-c,h||!(i>0)){if(i/=h,0>h){if(u>i)return;A>i&&(A=i)}else if(h>0){if(i>A)return;i>u&&(u=i)}if(i=r-c,h||!(0>i)){if(i/=h,0>h){if(i>A)return;i>u&&(u=i)}else if(h>0){if(u>i)return;A>i&&(A=i)}return u>0&&(o.a={x:s+u*d,y:c+u*h}),1>A&&(o.b={x:s+A*d,y:c+A*h}),o}}}}}}function Le(t,e,n,r){function o(r,o){return ci(r[0]-t)<Ri?o>0?0:3:ci(r[0]-n)<Ri?o>0?2:1:ci(r[1]-e)<Ri?o>0?1:0:o>0?3:2}function i(t,e){return a(t.x,e.x)}function a(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(l){function s(i,l,s,c){var u=0,A=0;if(null==i||(u=o(i,s))!==(A=o(l,s))||a(i,l)<0^s>0)do{c.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+s+4)%4)!==A);else c.point(l[0],l[1])}function c(o,i){return o>=t&&n>=o&&i>=e&&r>=i}function u(t,e){c(t,e)&&l.point(t,e)}function A(t,e){var n=c(t=Math.max(-Ea,Math.min(Ea,t)),e=Math.max(-Ea,Math.min(Ea,e)));if(h&&f.push([t,e]),b)p=t,g=e,v=n,b=!1,n&&(l.lineStart(),l.point(t,e));else if(n&&y)l.point(t,e);else{var r={a:{x:m,y:w},b:{x:t,y:e}};k(r)?(y||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),n||l.lineEnd(),_=!1):n&&(l.lineStart(),l.point(t,e),_=!1)}m=t,w=e,y=n}var d,h,f,p,g,v,m,w,y,b,_,x=l,C=Pe(),k=Ie(t,e,n,r),M={point:u,lineStart:function(){M.point=A,h&&h.push(f=[]),b=!0,y=!1,m=w=NaN},lineEnd:function(){d&&(A(p,g),v&&y&&C.rejoin(),d.push(C.buffer())),M.point=u,y&&l.lineEnd()},polygonStart:function(){l=C,d=[],h=[],_=!0},polygonEnd:function(){l=x,d=Qo.merge(d);var e=function(t){for(var e=0,n=h.length,r=t[1],o=0;n>o;++o)for(var i,a=1,l=h[o],s=l.length,c=l[0];s>a;++a)i=l[a],c[1]<=r?i[1]>r&&et(c,i,t)>0&&++e:i[1]<=r&&et(c,i,t)<0&&--e,c=i;return 0!==e}([t,r]),n=_&&e,o=d.length;(n||o)&&(l.polygonStart(),n&&(l.lineStart(),s(null,null,1,l),l.lineEnd()),o&&Se(d,i,e,s,l),l.polygonEnd()),d=h=f=null}};return M}}function $e(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function He(t){var e=0,n=Mi/3,r=Xe(t),o=r(e,n);return o.parallels=function(t){return arguments.length?r(e=t[0]*Mi/180,n=t[1]*Mi/180):[e/Mi*180,n/Mi*180]},o}function ze(t,e){function n(t,e){var n=Math.sqrt(i-2*o*Math.sin(e))/o;return[n*Math.sin(t*=o),a-n*Math.cos(t)]}var r=Math.sin(t),o=(r+Math.sin(e))/2,i=1+r*(2*o-r),a=Math.sqrt(i)/o;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/o,rt((i-(t*t+n*n)*o*o)/(2*o))]},n}function Fe(){function t(t,e){Na+=o*t-r*e,r=t,o=e}var e,n,r,o;La.point=function(i,a){La.point=t,e=r=i,n=o=a},La.lineEnd=function(){t(e,n)}}function We(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function je(t,e){va+=t,ma+=e,++wa}function Oe(){function t(t,r){var o=t-e,i=r-n,a=Math.sqrt(o*o+i*i);ya+=a*(e+t)/2,ba+=a*(n+r)/2,_a+=a,je(e=t,n=r)}var e,n;Ha.point=function(r,o){Ha.point=t,je(e=r,n=o)}}function Be(){Ha.point=je}function Ue(){function t(t,e){var n=t-r,i=e-o,a=Math.sqrt(n*n+i*i);ya+=a*(r+t)/2,ba+=a*(o+e)/2,_a+=a,xa+=(a=o*t-r*e)*(r+t),Ca+=a*(o+e),ka+=3*a,je(r=t,o=e)}var e,n,r,o;Ha.point=function(i,a){Ha.point=t,je(e=r=i,n=o=a)},Ha.lineEnd=function(){t(e,n)}}function qe(t){function e(t){return(l?r:n)(t)}function n(e){return Ye(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){m=NaN,x.point=i,e.lineStart()}function i(n,r){var i=he([n,r]),a=t(n,r);o(m,w,v,y,b,_,m=a[0],w=a[1],v=n,y=i[0],b=i[1],_=i[2],l,e),e.point(m,w)}function a(){x.point=n,e.lineEnd()}function s(){r(),x.point=c,x.lineEnd=u}function c(t,e){i(A=t,e),d=m,h=w,f=y,p=b,g=_,x.point=i}function u(){o(m,w,v,y,b,_,d,h,A,f,p,g,l,e),x.lineEnd=a,a()}var A,d,h,f,p,g,v,m,w,y,b,_,x={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),x.lineStart=s},polygonEnd:function(){e.polygonEnd(),x.lineStart=r}};return x}function o(e,n,r,l,s,c,u,A,d,h,f,p,g,v){var m=u-e,w=A-n,y=m*m+w*w;if(y>4*i&&g--){var b=l+h,_=s+f,x=c+p,C=Math.sqrt(b*b+_*_+x*x),k=Math.asin(x/=C),M=ci(ci(x)-1)<Ri||ci(r-d)<Ri?(r+d)/2:Math.atan2(_,b),S=t(M,k),E=S[0],R=S[1],N=E-e,D=R-n,P=w*N-m*D;(P*P/y>i||ci((m*N+w*D)/y-.5)>.3||a>l*h+s*f+c*p)&&(o(e,n,r,l,s,c,E,R,M,b/=C,_/=C,x,g,v),v.point(E,R),o(E,R,M,b,_,x,u,A,d,h,f,p,g,v))}}var i=.5,a=Math.cos(30*Di),l=16;return e.precision=function(t){return arguments.length?(l=(i=t*t)>0&&16,e):Math.sqrt(i)},e}function Ve(t){this.stream=t}function Ye(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Ge(t){return Xe(function(){return t})()}function Xe(t){function e(t){return[(t=l(t[0]*Di,t[1]*Di))[0]*d+s,c-t[1]*d]}function n(t){return(t=l.invert((t[0]-s)/d,(c-t[1])/d))&&[t[0]*Pi,t[1]*Pi]}function r(){l=$e(a=Ze(v,m,w),i);var t=i(p,g);return s=h-t[0]*d,c=f+t[1]*d,o()}function o(){return u&&(u.valid=!1,u=null),e}var i,a,l,s,c,u,A=qe(function(t,e){return[(t=i(t,e))[0]*d+s,c-t[1]*d]}),d=150,h=480,f=250,p=0,g=0,v=0,m=0,w=0,y=Sa,b=Dt,_=null,x=null;return e.stream=function(t){return u&&(u.valid=!1),(u=Ke(y(a,A(b(t))))).valid=!0,u},e.clipAngle=function(t){return arguments.length?(y=null==t?(_=t,Sa):function(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t,e,n){var r=[1,0,0],i=pe(he(t),he(e)),a=fe(i,i),l=i[0],s=a-l*l;if(!s)return!n&&t;var c=o*a/s,u=-o*l/s,A=pe(r,i),d=ve(r,c);ge(d,ve(i,u));var h=A,f=fe(d,h),p=fe(h,h),g=f*f-p*(fe(d,d)-1);if(!(0>g)){var v=Math.sqrt(g),m=ve(h,(-f-v)/p);if(ge(m,d),m=we(m),!n)return m;var w,y=t[0],b=e[0],_=t[1],x=e[1];y>b&&(w=y,y=b,b=w);var C=b-y,k=ci(C-Mi)<Ri;if(!k&&_>x&&(w=_,_=x,x=w),k||Ri>C?k?_+x>0^m[1]<(ci(m[0]-y)<Ri?_:x):_<=m[1]&&m[1]<=x:C>Mi^(y<=m[0]&&m[0]<=b)){var M=ve(h,(-f+v)/p);return ge(M,d),[m,we(M)]}}}function r(e,n){var r=i?t:Mi-t,o=0;return-r>e?o|=1:e>r&&(o|=2),-r>n?o|=4:n>r&&(o|=8),o}var o=Math.cos(t),i=o>0,a=ci(o)>Ri;return Ne(e,function(t){var o,l,s,c,u;return{lineStart:function(){c=s=!1,u=1},point:function(A,d){var h,f=[A,d],p=e(A,d),g=i?p?0:r(A,d):p?r(A+(0>A?Mi:-Mi),d):0;if(!o&&(c=s=p)&&t.lineStart(),p!==s&&(h=n(o,f),(ye(o,h)||ye(f,h))&&(f[0]+=Ri,f[1]+=Ri,p=e(f[0],f[1]))),p!==s)u=0,p?(t.lineStart(),h=n(f,o),t.point(h[0],h[1])):(h=n(o,f),t.point(h[0],h[1]),t.lineEnd()),o=h;else if(a&&o&&i^p){var v;g&l||!(v=n(f,o,!0))||(u=0,i?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!p||o&&ye(o,f)||t.point(f[0],f[1]),o=f,s=p,l=g},lineEnd:function(){s&&t.lineEnd(),o=null},clean:function(){return u|(c&&s)<<1}}},rn(t,6*Di),i?[0,-t]:[-Mi,t-Mi])}((_=+t)*Di),o()):_},e.clipExtent=function(t){return arguments.length?(x=t,b=t?Le(t[0][0],t[0][1],t[1][0],t[1][1]):Dt,o()):x},e.scale=function(t){return arguments.length?(d=+t,r()):d},e.translate=function(t){return arguments.length?(h=+t[0],f=+t[1],r()):[h,f]},e.center=function(t){return arguments.length?(p=t[0]%360*Di,g=t[1]%360*Di,r()):[p*Pi,g*Pi]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Di,m=t[1]%360*Di,w=t.length>2?t[2]%360*Di:0,r()):[v*Pi,m*Pi,w*Pi]},Qo.rebind(e,A,"precision"),function(){return i=t.apply(this,arguments),e.invert=i.invert&&n,r()}}function Ke(t){return Ye(t,function(e,n){t.point(e*Di,n*Di)})}function Qe(t,e){return[t,e]}function Je(t,e){return[t>Mi?t-Si:-Mi>t?t+Si:t,e]}function Ze(t,e,n){return t?e||n?$e(en(t),nn(e,n)):en(t):e||n?nn(e,n):Je}function tn(t){return function(e,n){return[(e+=t)>Mi?e-Si:-Mi>e?e+Si:e,n]}}function en(t){var e=tn(t);return e.invert=tn(-t),e}function nn(t,e){function n(t,e){var n=Math.cos(e),l=Math.cos(t)*n,s=Math.sin(t)*n,c=Math.sin(e),u=c*r+l*o;return[Math.atan2(s*i-u*a,l*r-c*o),rt(u*i+s*a)]}var r=Math.cos(t),o=Math.sin(t),i=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),l=Math.cos(t)*n,s=Math.sin(t)*n,c=Math.sin(e),u=c*i-s*a;return[Math.atan2(s*i+c*a,l*r+u*o),rt(u*r-l*o)]},n}function rn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(o,i,a,l){var s=a*e;null!=o?(o=on(n,o),i=on(n,i),(a>0?i>o:o>i)&&(o+=a*Si)):(o=t+a*Si,i=t-.5*s);for(var c,u=o;a>0?u>i:i>u;u-=s)l.point((c=we([n,-r*Math.cos(u),-r*Math.sin(u)]))[0],c[1])}}function on(t,e){var n=he(e);n[0]-=t,me(n);var r=nt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ri)%(2*Math.PI)}function an(t,e,n){var r=Qo.range(t,e-Ri,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function ln(t,e,n){var r=Qo.range(t,e-Ri,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function sn(t){return t.source}function cn(t){return t.target}function un(t,e){function n(e,n){var r=Math.cos(e),o=Math.cos(n),i=t(r*o);return[i*o*Math.sin(e),i*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),o=e(r),i=Math.sin(o),a=Math.cos(o);return[Math.atan2(t*i,r*a),Math.asin(r&&n*i/r)]},n}function An(t,e){function n(t,e){a>0?-Ei+Ri>e&&(e=-Ei+Ri):e>Ei-Ri&&(e=Ei-Ri);var n=a/Math.pow(o(e),i);return[n*Math.sin(i*t),a-n*Math.cos(i*t)]}var r=Math.cos(t),o=function(t){return Math.tan(Mi/4+t/2)},i=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(o(e)/o(t)),a=r*Math.pow(o(t),i)/i;return i?(n.invert=function(t,e){var n=a-e,r=tt(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(a/r,1/i))-Ei]},n):hn}function dn(t,e){function n(t,e){var n=i-e;return[n*Math.sin(o*t),i-n*Math.cos(o*t)]}var r=Math.cos(t),o=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),i=r/o+t;return ci(o)<Ri?Qe:(n.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/o,i-tt(o)*Math.sqrt(t*t+n*n)]},n)}function hn(t,e){return[t,Math.log(Math.tan(Mi/4+e/2))]}function fn(t){var e,n=Ge(t),r=n.scale,o=n.translate,i=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=o.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=i.apply(n,arguments);if(a===n){if(e=null==t){var l=Mi*r(),s=o();i([[s[0]-l,s[1]-l],[s[0]+l,s[1]+l]])}}else e&&(a=null);return a},n.clipExtent(null)}function pn(t,e){return[Math.log(Math.tan(Mi/4+e/2)),-t]}function gn(t){return t[0]}function vn(t){return t[1]}function mn(t){for(var e=t.length,n=[0,1],r=2,o=2;e>o;o++){for(;r>1&&et(t[n[r-2]],t[n[r-1]],t[o])<=0;)--r;n[r++]=o}return n.slice(0,r)}function wn(t,e){return t[0]-e[0]||t[1]-e[1]}function yn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function bn(t,e,n,r){var o=t[0],i=n[0],a=e[0]-o,l=r[0]-i,s=t[1],c=n[1],u=e[1]-s,A=r[1]-c,d=(l*(s-c)-A*(o-i))/(A*a-l*u);return[o+d*a,s+d*u]}function _n(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function xn(t){var e=Qa.pop()||new function(){Wn(this),this.edge=this.site=this.circle=null};return e.site=t,e}function Cn(t){Pn(t),Ga.remove(t),Qa.push(t),Wn(t)}function kn(t){var e=t.circle,n=e.x,r=e.cy,o={x:n,y:r},i=t.P,a=t.N,l=[t];Cn(t);for(var s=i;s.circle&&ci(n-s.circle.x)<Ri&&ci(r-s.circle.cy)<Ri;)i=s.P,l.unshift(s),Cn(s),s=i;l.unshift(s),Pn(s);for(var c=a;c.circle&&ci(n-c.circle.x)<Ri&&ci(r-c.circle.cy)<Ri;)a=c.N,l.push(c),Cn(c),c=a;l.push(c),Pn(c);var u,A=l.length;for(u=1;A>u;++u)c=l[u],s=l[u-1],Hn(c.edge,s.site,c.site,o);s=l[0],(c=l[A-1]).edge=Ln(s.site,c.site,null,o),Dn(s),Dn(c)}function Mn(t){for(var e,n,r,o,i=t.x,a=t.y,l=Ga._;l;)if((r=Sn(l,a)-i)>Ri)l=l.L;else{if(!((o=i-En(l,a))>Ri)){r>-Ri?(e=l.P,n=l):o>-Ri?(e=l,n=l.N):e=n=l;break}if(!l.R){e=l;break}l=l.R}var s=xn(t);if(Ga.insert(e,s),e||n){if(e===n)return Pn(e),n=xn(e.site),Ga.insert(s,n),s.edge=n.edge=Ln(e.site,s.site),Dn(e),void Dn(n);if(!n)return void(s.edge=Ln(e.site,s.site));Pn(e),Pn(n);var c=e.site,u=c.x,A=c.y,d=t.x-u,h=t.y-A,f=n.site,p=f.x-u,g=f.y-A,v=2*(d*g-h*p),m=d*d+h*h,w=p*p+g*g,y={x:(g*m-h*w)/v+u,y:(d*w-p*m)/v+A};Hn(n.edge,c,f,y),s.edge=Ln(c,t,null,y),n.edge=Ln(t,f,null,y),Dn(e),Dn(n)}}function Sn(t,e){var n=t.site,r=n.x,o=n.y,i=o-e;if(!i)return r;var a=t.P;if(!a)return-1/0;var l=(n=a.site).x,s=n.y,c=s-e;if(!c)return l;var u=l-r,A=1/i-1/c,d=u/c;return A?(-d+Math.sqrt(d*d-2*A*(u*u/(-2*c)-s+c/2+o-i/2)))/A+r:(r+l)/2}function En(t,e){var n=t.N;if(n)return Sn(n,e);var r=t.site;return r.y===e?r.x:1/0}function Rn(t){this.site=t,this.edges=[]}function Nn(t,e){return e.angle-t.angle}function Dn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,o=t.site,i=n.site;if(r!==i){var a=o.x,l=o.y,s=r.x-a,c=r.y-l,u=i.x-a,A=2*(s*(g=i.y-l)-c*u);if(!(A>=-Ni)){var d=s*s+c*c,h=u*u+g*g,f=(g*d-c*h)/A,p=(s*h-u*d)/A,g=p+l,v=Ja.pop()||new function(){Wn(this),this.x=this.y=this.arc=this.site=this.cy=null};v.arc=t,v.site=o,v.x=f+a,v.y=g+Math.sqrt(f*f+p*p),v.cy=g,t.circle=v;for(var m=null,w=Ka._;w;)if(v.y<w.y||v.y===w.y&&v.x<=w.x){if(!w.L){m=w.P;break}w=w.L}else{if(!w.R){m=w;break}w=w.R}Ka.insert(m,v),m||(Xa=v)}}}}function Pn(t){var e=t.circle;e&&(e.P||(Xa=e.N),Ka.remove(e),Ja.push(e),Wn(e),t.circle=null)}function Tn(t,e){var n=t.b;if(n)return!0;var r,o,i=t.a,a=e[0][0],l=e[1][0],s=e[0][1],c=e[1][1],u=t.l,A=t.r,d=u.x,h=u.y,f=A.x,p=A.y,g=(d+f)/2,v=(h+p)/2;if(p===h){if(a>g||g>=l)return;if(d>f){if(i){if(i.y>=c)return}else i={x:g,y:s};n={x:g,y:c}}else{if(i){if(i.y<s)return}else i={x:g,y:c};n={x:g,y:s}}}else if(o=v-(r=(d-f)/(p-h))*g,-1>r||r>1)if(d>f){if(i){if(i.y>=c)return}else i={x:(s-o)/r,y:s};n={x:(c-o)/r,y:c}}else{if(i){if(i.y<s)return}else i={x:(c-o)/r,y:c};n={x:(s-o)/r,y:s}}else if(p>h){if(i){if(i.x>=l)return}else i={x:a,y:r*a+o};n={x:l,y:r*l+o}}else{if(i){if(i.x<a)return}else i={x:l,y:r*l+o};n={x:a,y:r*a+o}}return t.a=i,t.b=n,!0}function In(t,e){this.l=t,this.r=e,this.a=this.b=null}function Ln(t,e,n,r){var o=new In(t,e);return Va.push(o),n&&Hn(o,t,e,n),r&&Hn(o,e,t,r),Ya[t.i].edges.push(new zn(o,t,e)),Ya[e.i].edges.push(new zn(o,e,t)),o}function $n(t,e,n){var r=new In(t,null);return r.a=e,r.b=n,Va.push(r),r}function Hn(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function zn(t,e,n){var r=t.a,o=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(o.x-r.x,r.y-o.y):Math.atan2(r.x-o.x,o.y-r.y)}function Fn(){this._=null}function Wn(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function jn(t,e){var n=e,r=e.R,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function On(t,e){var n=e,r=e.L,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Bn(t){for(;t.L;)t=t.L;return t}function Un(t,e){var n,r,o,i=t.sort(qn).pop();for(Va=[],Ya=new Array(t.length),Ga=new Fn,Ka=new Fn;;)if(o=Xa,i&&(!o||i.y<o.y||i.y===o.y&&i.x<o.x))(i.x!==n||i.y!==r)&&(Ya[i.i]=new Rn(i),Mn(i),n=i.x,r=i.y),i=t.pop();else{if(!o)break;kn(o.arc)}e&&(function(t){for(var e,n=Va,r=Ie(t[0][0],t[0][1],t[1][0],t[1][1]),o=n.length;o--;)(!Tn(e=n[o],t)||!r(e)||ci(e.a.x-e.b.x)<Ri&&ci(e.a.y-e.b.y)<Ri)&&(e.a=e.b=null,n.splice(o,1))}(e),function(t){for(var e,n,r,o,i,a,l,s,c,u,A=t[0][0],d=t[1][0],h=t[0][1],f=t[1][1],p=Ya,g=p.length;g--;)if((i=p[g])&&i.prepare())for(s=(l=i.edges).length,a=0;s>a;)r=(u=l[a].end()).x,o=u.y,e=(c=l[++a%s].start()).x,n=c.y,(ci(r-e)>Ri||ci(o-n)>Ri)&&(l.splice(a,0,new zn($n(i.site,u,ci(r-A)<Ri&&f-o>Ri?{x:A,y:ci(e-A)<Ri?n:f}:ci(o-f)<Ri&&d-r>Ri?{x:ci(n-f)<Ri?e:d,y:f}:ci(r-d)<Ri&&o-h>Ri?{x:d,y:ci(e-d)<Ri?n:h}:ci(o-h)<Ri&&r-A>Ri?{x:ci(n-h)<Ri?e:A,y:h}:null),i.site,null)),++s)}(e));var a={cells:Ya,edges:Va};return Ga=Ka=Va=Ya=null,a}function qn(t,e){return e.y-t.y||e.x-t.x}function Vn(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function Yn(t){return t.x}function Gn(t){return t.y}function Xn(t,e){t=Qo.rgb(t),e=Qo.rgb(e);var n=t.r,r=t.g,o=t.b,i=e.r-n,a=e.g-r,l=e.b-o;return function(t){return"#"+Ct(Math.round(n+i*t))+Ct(Math.round(r+a*t))+Ct(Math.round(o+l*t))}}function Kn(t,e){var n,r={},o={};for(n in t)n in e?r[n]=Zn(t[n],e[n]):o[n]=t[n];for(n in e)n in t||(o[n]=e[n]);return function(t){for(n in r)o[n]=r[n](t);return o}}function Qn(t,e){return e-=t=+t,function(n){return t+e*n}}function Jn(t,e){var n,r,o,i=tl.lastIndex=el.lastIndex=0,a=-1,l=[],s=[];for(t+="",e+="";(n=tl.exec(t))&&(r=el.exec(e));)(o=r.index)>i&&(o=e.substring(i,o),l[a]?l[a]+=o:l[++a]=o),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:Qn(n,r)})),i=el.lastIndex;return i<e.length&&(o=e.substring(i),l[a]?l[a]+=o:l[++a]=o),l.length<2?s[0]?(e=s[0].x,function(t){return e(t)+""}):function(){return e}:(e=s.length,function(t){for(var n,r=0;e>r;++r)l[(n=s[r]).i]=n.x(t);return l.join("")})}function Zn(t,e){for(var n,r=Qo.interpolators.length;--r>=0&&!(n=Qo.interpolators[r](t,e)););return n}function tr(t,e){var n,r=[],o=[],i=t.length,a=e.length,l=Math.min(t.length,e.length);for(n=0;l>n;++n)r.push(Zn(t[n],e[n]));for(;i>n;++n)o[n]=t[n];for(;a>n;++n)o[n]=e[n];return function(t){for(n=0;l>n;++n)o[n]=r[n](t);return o}}function er(t){return function(e){return 1-t(1-e)}}function nr(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function rr(t){return t*t}function or(t){return t*t*t}function ir(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function ar(t){return 1-Math.cos(t*Ei)}function lr(t){return Math.pow(2,10*(t-1))}function sr(t){return 1-Math.sqrt(1-t*t)}function cr(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function ur(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Ar(t){var e=[t.a,t.b],n=[t.c,t.d],r=hr(e),o=dr(e,n),i=hr(function(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}(n,e,-o))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,o*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Pi,this.translate=[t.e,t.f],this.scale=[r,i],this.skew=i?Math.atan2(o,i)*Pi:0}function dr(t,e){return t[0]*e[0]+t[1]*e[1]}function hr(t){var e=Math.sqrt(dr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function fr(t,e){var n,r=[],o=[],i=Qo.transform(t),a=Qo.transform(e),l=i.translate,s=a.translate,c=i.rotate,u=a.rotate,A=i.skew,d=a.skew,h=i.scale,f=a.scale;return l[0]!=s[0]||l[1]!=s[1]?(r.push("translate(",null,",",null,")"),o.push({i:1,x:Qn(l[0],s[0])},{i:3,x:Qn(l[1],s[1])})):s[0]||s[1]?r.push("translate("+s+")"):r.push(""),c!=u?(c-u>180?u+=360:u-c>180&&(c+=360),o.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:Qn(c,u)})):u&&r.push(r.pop()+"rotate("+u+")"),A!=d?o.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:Qn(A,d)}):d&&r.push(r.pop()+"skewX("+d+")"),h[0]!=f[0]||h[1]!=f[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),o.push({i:n-4,x:Qn(h[0],f[0])},{i:n-2,x:Qn(h[1],f[1])})):(1!=f[0]||1!=f[1])&&r.push(r.pop()+"scale("+f+")"),n=o.length,function(t){for(var e,i=-1;++i<n;)r[(e=o[i]).i]=e.x(t);return r.join("")}}function pr(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return(n-t)*e}}function gr(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return Math.max(0,Math.min(1,(n-t)*e))}}function vr(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;for(var n=mr(t),r=mr(e),o=n.pop(),i=r.pop(),a=null;o===i;)a=o,o=n.pop(),i=r.pop();return a}(e,n),o=[e];e!==r;)e=e.parent,o.push(e);for(var i=o.length;n!==r;)o.splice(i,0,n),n=n.parent;return o}function mr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function wr(t){t.fixed|=2}function yr(t){t.fixed&=-7}function br(t){t.fixed|=4,t.px=t.x,t.py=t.y}function _r(t){t.fixed&=-5}function xr(t,e){return Qo.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Sr,t}function Cr(t){return t.children}function kr(t){return t.value}function Mr(t,e){return e.value-t.value}function Sr(t){return Qo.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function Er(t){return t.x}function Rr(t){return t.y}function Nr(t,e,n){t.y0=e,t.y=n}function Dr(t){return Qo.range(t.length)}function Pr(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function Tr(t){for(var e,n=1,r=0,o=t[0][1],i=t.length;i>n;++n)(e=t[n][1])>o&&(r=n,o=e);return r}function Ir(t){return t.reduce(Lr,0)}function Lr(t,e){return t+e[1]}function $r(t,e){return Hr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Hr(t,e){for(var n=-1,r=+t[0],o=(t[1]-r)/e,i=[];++n<=e;)i[n]=o*n+r;return i}function zr(t){return[Qo.min(t),Qo.max(t)]}function Fr(t,e){return t.parent==e.parent?1:2}function Wr(t){var e=t.children;return e&&e.length?e[0]:t._tree.thread}function jr(t){var e,n=t.children;return n&&(e=n.length)?n[e-1]:t._tree.thread}function Or(t,e){var n=t.children;if(n&&(o=n.length))for(var r,o,i=-1;++i<o;)e(r=Or(n[i],e),t)>0&&(t=r);return t}function Br(t,e){return t.x-e.x}function Ur(t,e){return e.x-t.x}function qr(t,e){return t.depth-e.depth}function Vr(t,e){!function t(n,r){var o=n.children;if(o&&(a=o.length))for(var i,a,l=null,s=-1;++s<a;)t(i=o[s],l),l=i;e(n,r)}(t,null)}function Yr(t,e,n){t=t._tree;var r=n/((e=e._tree).number-t.number);t.change+=r,e.change-=r,e.shift+=n,e.prelim+=n,e.mod+=n}function Gr(t,e,n){return t._tree.ancestor.parent==e.parent?t._tree.ancestor:n}function Xr(t,e){return t.value-e.value}function Kr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Qr(t,e){t._pack_next=e,e._pack_prev=t}function Jr(t,e){var n=e.x-t.x,r=e.y-t.y,o=t.r+e.r;return.999*o*o>n*n+r*r}function Zr(t){function e(t){u=Math.min(t.x-t.r,u),A=Math.max(t.x+t.r,A),d=Math.min(t.y-t.r,d),h=Math.max(t.y+t.r,h)}if((n=t.children)&&(c=n.length)){var n,r,o,i,a,l,s,c,u=1/0,A=-1/0,d=1/0,h=-1/0;if(n.forEach(to),(r=n[0]).x=-r.r,r.y=0,e(r),c>1&&((o=n[1]).x=o.r,o.y=0,e(o),c>2))for(no(r,o,i=n[2]),e(i),Kr(r,i),r._pack_prev=i,Kr(i,o),o=r._pack_next,a=3;c>a;a++){no(r,o,i=n[a]);var f=0,p=1,g=1;for(l=o._pack_next;l!==o;l=l._pack_next,p++)if(Jr(l,i)){f=1;break}if(1==f)for(s=r._pack_prev;s!==l._pack_prev&&!Jr(s,i);s=s._pack_prev,g++);f?(g>p||p==g&&o.r<r.r?Qr(r,o=l):Qr(r=s,o),a--):(Kr(r,i),o=i,e(i))}var v=(u+A)/2,m=(d+h)/2,w=0;for(a=0;c>a;a++)(i=n[a]).x-=v,i.y-=m,w=Math.max(w,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=w,n.forEach(eo)}}function to(t){t._pack_next=t._pack_prev=t}function eo(t){delete t._pack_next,delete t._pack_prev}function no(t,e,n){var r=t.r+n.r,o=e.x-t.x,i=e.y-t.y;if(r&&(o||i)){var a=e.r+n.r,l=o*o+i*i,s=.5+((r*=r)-(a*=a))/(2*l),c=Math.sqrt(Math.max(0,2*a*(r+l)-(r-=l)*r-a*a))/(2*l);n.x=t.x+s*o+c*i,n.y=t.y+s*i-c*o}else n.x=t.x+r,n.y=t.y}function ro(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function oo(t,e){var n=t.x+e[3],r=t.y+e[0],o=t.dx-e[1]-e[3],i=t.dy-e[0]-e[2];return 0>o&&(n+=o/2,o=0),0>i&&(r+=i/2,i=0),{x:n,y:r,dx:o,dy:i}}function io(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function ao(t){return t.rangeExtent?t.rangeExtent():io(t.range())}function lo(t,e,n,r){var o=n(t[0],t[1]),i=r(e[0],e[1]);return function(t){return i(o(t))}}function so(t,e){var n,r=0,o=t.length-1,i=t[r],a=t[o];return i>a&&(n=r,r=o,o=n,n=i,i=a,a=n),t[r]=e.floor(i),t[o]=e.ceil(a),t}function co(t,e,n,r){var o=[],i=[],a=0,l=Math.min(t.length,e.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=l;)o.push(n(t[a-1],t[a])),i.push(r(e[a-1],e[a]));return function(e){var n=Qo.bisect(t,e,1,l)-1;return i[n](o[n](e))}}function uo(t,e){return Qo.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Ao(t,e){return so(t,function(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:dl}(ho(t,e)[2]))}function ho(t,e){null==e&&(e=10);var n=io(t),r=n[1]-n[0],o=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),i=e/r*o;return.15>=i?o*=10:.35>=i?o*=5:.75>=i&&(o*=2),n[0]=Math.ceil(n[0]/o)*o,n[1]=Math.floor(n[1]/o)*o+.5*o,n[2]=o,n}function fo(t,e){return Qo.range.apply(Qo,ho(t,e))}function po(t,e,n){var r=ho(t,e);if(n){var o=ta.exec(n);if(o.shift(),"s"===o[8]){var i=Qo.formatPrefix(Math.max(ci(r[0]),ci(r[1])));return o[7]||(o[7]="."+go(i.scale(r[2]))),o[8]="f",n=Qo.format(o.join("")),function(t){return n(i.scale(t))+i.symbol}}o[7]||(o[7]="."+function(t,e){var n=go(e[2]);return t in hl?Math.abs(n-go(Math.max(ci(e[0]),ci(e[1]))))+ +("e"!==t):n-2*("%"===t)}(o[8],r)),n=o.join("")}else n=",."+go(r[2])+"f";return Qo.format(n)}function go(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function vo(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function mo(t){return t.innerRadius}function wo(t){return t.outerRadius}function yo(t){return t.startAngle}function bo(t){return t.endAngle}function _o(t){function e(e){function a(){c.push("M",i(t(u),l))}for(var s,c=[],u=[],A=-1,d=e.length,h=Nt(n),f=Nt(r);++A<d;)o.call(this,s=e[A],A)?u.push([+h.call(this,s,A),+f.call(this,s,A)]):u.length&&(a(),u=[]);return u.length&&a(),c.length?c.join(""):null}var n=gn,r=vn,o=Me,i=xo,a=i.key,l=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?i=t:(i=_l.get(t)||xo).key,e):a},e.tension=function(t){return arguments.length?(l=t,e):l},e}function xo(t){return t.join("L")}function Co(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("V",(r=t[e])[1],"H",r[0]);return o.join("")}function ko(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("H",(r=t[e])[0],"V",r[1]);return o.join("")}function Mo(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return xo(t);var n=t.length!=e.length,r="",o=t[0],i=t[1],a=e[0],l=a,s=1;if(n&&(r+="Q"+(i[0]-2*a[0]/3)+","+(i[1]-2*a[1]/3)+","+i[0]+","+i[1],o=t[1],s=2),e.length>1){l=e[1],i=t[s],s++,r+="C"+(o[0]+a[0])+","+(o[1]+a[1])+","+(i[0]-l[0])+","+(i[1]-l[1])+","+i[0]+","+i[1];for(var c=2;c<e.length;c++,s++)i=t[s],l=e[c],r+="S"+(i[0]-l[0])+","+(i[1]-l[1])+","+i[0]+","+i[1]}if(n){var u=t[s];r+="Q"+(i[0]+2*l[0]/3)+","+(i[1]+2*l[1]/3)+","+u[0]+","+u[1]}return r}function So(t,e){for(var n,r=[],o=(1-e)/2,i=t[0],a=t[1],l=1,s=t.length;++l<s;)n=i,i=a,a=t[l],r.push([o*(a[0]-n[0]),o*(a[1]-n[1])]);return r}function Eo(t){if(t.length<3)return xo(t);var e=1,n=t.length,r=t[0],o=r[0],i=r[1],a=[o,o,o,(r=t[1])[0]],l=[i,i,i,r[1]],s=[o,",",i,"L",Ro(kl,a),",",Ro(kl,l)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),l.shift(),l.push(r[1]),No(s,a,l);return t.pop(),s.push("L",r),s.join("")}function Ro(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function No(t,e,n){t.push("C",Ro(xl,e),",",Ro(xl,n),",",Ro(Cl,e),",",Ro(Cl,n),",",Ro(kl,e),",",Ro(kl,n))}function Do(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Po(t){for(var e,n,r,o,i=[],a=function(t){for(var e=0,n=t.length-1,r=[],o=t[0],i=t[1],a=r[0]=Do(o,i);++e<n;)r[e]=(a+(a=Do(o=i,i=t[e+1])))/2;return r[e]=a,r}(t),l=-1,s=t.length-1;++l<s;)e=Do(t[l],t[l+1]),ci(e)<Ri?a[l]=a[l+1]=0:(o=(n=a[l]/e)*n+(r=a[l+1]/e)*r)>9&&(o=3*e/Math.sqrt(o),a[l]=o*n,a[l+1]=o*r);for(l=-1;++l<=s;)o=(t[Math.min(s,l+1)][0]-t[Math.max(0,l-1)][0])/(6*(1+a[l]*a[l])),i.push([o||0,a[l]*o||0]);return i}function To(t){for(var e,n,r,o=-1,i=t.length;++o<i;)n=(e=t[o])[0],r=e[1]+yl,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Io(t){function e(e){function s(){p.push("M",l(t(v),A),u,c(t(g.reverse()),A),"Z")}for(var d,h,f,p=[],g=[],v=[],m=-1,w=e.length,y=Nt(n),b=Nt(o),_=n===r?function(){return h}:Nt(r),x=o===i?function(){return f}:Nt(i);++m<w;)a.call(this,d=e[m],m)?(g.push([h=+y.call(this,d,m),f=+b.call(this,d,m)]),v.push([+_.call(this,d,m),+x.call(this,d,m)])):g.length&&(s(),g=[],v=[]);return g.length&&s(),p.length?p.join(""):null}var n=gn,r=gn,o=0,i=vn,a=Me,l=xo,s=l.key,c=l,u="L",A=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(o=i=t,e):i},e.y0=function(t){return arguments.length?(o=t,e):o},e.y1=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(s="function"==typeof t?l=t:(l=_l.get(t)||xo).key,c=l.reverse||l,u=l.closed?"M":"L",e):s},e.tension=function(t){return arguments.length?(A=t,e):A},e}function Lo(t){return t.radius}function $o(t){return[t.x,t.y]}function Ho(){return 64}function zo(){return"circle"}function Fo(t){var e=Math.sqrt(t/Mi);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Wo(t,e){return fi(t,Dl),t.id=e,t}function jo(t,e,n,r){var o=t.id;return B(t,"function"==typeof n?function(t,i,a){t.__transition__[o].tween.set(e,r(n.call(t,t.__data__,i,a)))}:(n=r(n),function(t){t.__transition__[o].tween.set(e,n)}))}function Oo(t){return null==t&&(t=""),function(){this.textContent=t}}function Bo(t,e,n,r){var o=t.__transition__||(t.__transition__={active:0,count:0}),i=o[n];if(!i){var a=r.time;i=o[n]={tween:new f,time:a,ease:r.ease,delay:r.delay,duration:r.duration},++o.count,Qo.timer(function(r){function l(r){return o.active>n?c():(o.active=n,i.event&&i.event.start.call(t,u,e),i.tween.forEach(function(n,r){(r=r.call(t,u,e))&&p.push(r)}),void Qo.timer(function(){return f.c=s(r||1)?Me:s,1},0,a))}function s(r){if(o.active!==n)return c();for(var a=r/h,l=A(a),s=p.length;s>0;)p[--s].call(t,l);return a>=1?(i.event&&i.event.end.call(t,u,e),c()):void 0}function c(){return--o.count?delete o[n]:delete t.__transition__,1}var u=t.__data__,A=i.ease,d=i.delay,h=i.duration,f=Qi,p=[];return f.t=d+a,r>=d?l(r-d):void(f.c=l)},0,a)}}function Uo(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function qo(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function Vo(t){return t.toISOString()}function Yo(t,e,n){function r(e){return t(e)}function o(t,n){var r=(t[1]-t[0])/n,o=Qo.bisect(Wl,r);return o==Wl.length?[e.year,ho(t.map(function(t){return t/31536e6}),n)[2]]:o?e[r/Wl[o-1]<Wl[o]/r?o-1:o]:[Bl,ho(t,n)[2]]}return r.invert=function(e){return Go(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Go)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Go(+n+1),e).length}var i=r.domain(),a=io(i),l=null==t?o(a,10):"number"==typeof t&&o(a,t);return l&&(t=l[0],e=l[1]),r.domain(so(i,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Go(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Go(+e+1);return e}}:t))},r.ticks=function(t,e){var n=io(r.domain()),i=null==t?o(n,10):"number"==typeof t?o(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],Go(+n[1]+1),1>e?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Yo(t.copy(),e,n)},uo(r,t)}function Go(t){return new Date(t)}function Xo(t){return JSON.parse(t.responseText)}function Ko(t){var e=ti.createRange();return e.selectNode(ti.body),e.createContextualFragment(t.responseText)}var Qo={version:"3.4.6"};Date.now||(Date.now=function(){return+new Date});var Jo=[].slice,Zo=function(t){return Jo.call(t)},ti=document,ei=ti.documentElement,ni=window;try{Zo(ei.childNodes)[0].nodeType}catch(t){Zo=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{ti.createElement("div").style.setProperty("opacity",0,"")}catch(t){var ri=ni.Element.prototype,oi=ri.setAttribute,ii=ri.setAttributeNS,ai=ni.CSSStyleDeclaration.prototype,li=ai.setProperty;ri.setAttribute=function(t,e){oi.call(this,t,e+"")},ri.setAttributeNS=function(t,e,n){ii.call(this,t,e,n+"")},ai.setProperty=function(t,e,n){li.call(this,t,e+"",n)}}Qo.ascending=n,Qo.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},Qo.min=function(t,e){var n,r,o=-1,i=t.length;if(1===arguments.length){for(;++o<i&&!(null!=(n=t[o])&&n>=n);)n=void 0;for(;++o<i;)null!=(r=t[o])&&n>r&&(n=r)}else{for(;++o<i&&!(null!=(n=e.call(t,t[o],o))&&n>=n);)n=void 0;for(;++o<i;)null!=(r=e.call(t,t[o],o))&&n>r&&(n=r)}return n},Qo.max=function(t,e){var n,r,o=-1,i=t.length;if(1===arguments.length){for(;++o<i&&!(null!=(n=t[o])&&n>=n);)n=void 0;for(;++o<i;)null!=(r=t[o])&&r>n&&(n=r)}else{for(;++o<i&&!(null!=(n=e.call(t,t[o],o))&&n>=n);)n=void 0;for(;++o<i;)null!=(r=e.call(t,t[o],o))&&r>n&&(n=r)}return n},Qo.extent=function(t,e){var n,r,o,i=-1,a=t.length;if(1===arguments.length){for(;++i<a&&!(null!=(n=o=t[i])&&n>=n);)n=o=void 0;for(;++i<a;)null!=(r=t[i])&&(n>r&&(n=r),r>o&&(o=r))}else{for(;++i<a&&!(null!=(n=o=e.call(t,t[i],i))&&n>=n);)n=void 0;for(;++i<a;)null!=(r=e.call(t,t[i],i))&&(n>r&&(n=r),r>o&&(o=r))}return[n,o]},Qo.sum=function(t,e){var n,r=0,o=t.length,i=-1;if(1===arguments.length)for(;++i<o;)isNaN(n=+t[i])||(r+=n);else for(;++i<o;)isNaN(n=+e.call(t,t[i],i))||(r+=n);return r},Qo.mean=function(t,e){var n,r=0,o=t.length,i=-1,a=o;if(1===arguments.length)for(;++i<o;)u(n=t[i])?r+=n:--a;else for(;++i<o;)u(n=e.call(t,t[i],i))?r+=n:--a;return a?r/a:void 0},Qo.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),o=+t[r-1],i=n-r;return i?o+i*(t[r]-o):o},Qo.median=function(t,e){return arguments.length>1&&(t=t.map(e)),(t=t.filter(u)).length?Qo.quantile(t.sort(n),.5):void 0};var si=A(n);Qo.bisectLeft=si.left,Qo.bisect=Qo.bisectRight=si.right,Qo.bisector=function(t){return A(1===t.length?function(e,r){return n(t(e),r)}:t)},Qo.shuffle=function(t){for(var e,n,r=t.length;r;)n=0|Math.random()*r--,e=t[r],t[r]=t[n],t[n]=e;return t},Qo.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},Qo.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],o=new Array(0>n?0:n);n>e;)o[e]=[r,r=t[++e]];return o},Qo.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=Qo.min(arguments,d),n=new Array(e);++t<e;)for(var r,o=-1,i=n[t]=new Array(r);++o<r;)i[o]=arguments[o][t];return n},Qo.transpose=function(t){return Qo.zip.apply(Qo,t)},Qo.keys=function(t){var e=[];for(var n in t)e.push(n);return e},Qo.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Qo.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Qo.merge=function(t){for(var e,n,r,o=t.length,i=-1,a=0;++i<o;)a+=t[i].length;for(n=new Array(a);--o>=0;)for(e=(r=t[o]).length;--e>=0;)n[--a]=r[e];return n};var ci=Math.abs;Qo.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),1/0==(e-t)/n)throw new Error("infinite range");var r,o=[],i=function(t){for(var e=1;t*e%1;)e*=10;return e}(ci(n)),a=-1;if(t*=i,e*=i,0>(n*=i))for(;(r=t+n*++a)>e;)o.push(r/i);else for(;(r=t+n*++a)<e;)o.push(r/i);return o},Qo.map=function(t){var e=new f;if(t instanceof f)t.forEach(function(t,n){e.set(t,n)});else for(var n in t)e.set(n,t[n]);return e},h(f,{has:p,get:function(t){return this[ui+t]},set:function(t,e){return this[ui+t]=e},remove:function(t){return(t=ui+t)in this&&delete this[t]},keys:g,values:function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},entries:function(){var t=[];return this.forEach(function(e,n){t.push({key:e,value:n})}),t},size:v,empty:m,forEach:function(t){for(var e in this)e.charCodeAt(0)===Ai&&t.call(this,e.substring(1),this[e])}});var ui="\0",Ai=ui.charCodeAt(0);Qo.nest=function(){function t(i,a,l){if(l>=o.length)return n?n.call(r,a):e?a.sort(e):a;for(var s,c,u,A,d=-1,h=a.length,p=o[l++],g=new f;++d<h;)(A=g.get(s=p(c=a[d])))?A.push(c):g.set(s,[c]);return i?(c=i(),u=function(e,n){c.set(e,t(i,n,l))}):(c={},u=function(e,n){c[e]=t(i,n,l)}),g.forEach(u),c}var e,n,r={},o=[],i=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(e){return function t(e,n){if(n>=o.length)return e;var r=[],a=i[n++];return e.forEach(function(e,o){r.push({key:e,values:t(o,n)})}),a?r.sort(function(t,e){return a(t.key,e.key)}):r}(t(Qo.map,e,0),0)},r.key=function(t){return o.push(t),r},r.sortKeys=function(t){return i[o.length-1]=t,r},r.sortValues=function(t){return e=t,r},r.rollup=function(t){return n=t,r},r},Qo.set=function(t){var e=new w;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e},h(w,{has:p,add:function(t){return this[ui+t]=!0,t},remove:function(t){return(t=ui+t)in this&&delete this[t]},values:g,size:v,empty:m,forEach:function(t){for(var e in this)e.charCodeAt(0)===Ai&&t.call(this,e.substring(1))}}),Qo.behavior={},Qo.rebind=function(t,e){for(var n,r=1,o=arguments.length;++r<o;)t[n=arguments[r]]=y(t,e,e[n]);return t};var di=["webkit","ms","moz","Moz","o","O"];Qo.dispatch=function(){for(var t=new x,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=C(t);return t},x.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.substring(n+1),t=t.substring(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},Qo.event=null,Qo.requote=function(t){return t.replace(hi,"\\$&")};var hi=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,fi={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},pi=function(t,e){return e.querySelector(t)},gi=function(t,e){return e.querySelectorAll(t)},vi=ei[b(ei,"matchesSelector")],mi=function(t,e){return vi.call(t,e)};"function"==typeof Sizzle&&(pi=function(t,e){return Sizzle(t,e)[0]||null},gi=Sizzle,mi=Sizzle.matchesSelector),Qo.selection=function(){return _i};var wi=Qo.selection.prototype=[];wi.select=function(t){var e,n,r,o,i=[];t=R(t);for(var a=-1,l=this.length;++a<l;){i.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var s=-1,c=r.length;++s<c;)(o=r[s])?(e.push(n=t.call(o,o.__data__,s,a)),n&&"__data__"in o&&(n.__data__=o.__data__)):e.push(null)}return E(i)},wi.selectAll=function(t){var e,n,r=[];t=N(t);for(var o=-1,i=this.length;++o<i;)for(var a=this[o],l=-1,s=a.length;++l<s;)(n=a[l])&&(r.push(e=Zo(t.call(n,n.__data__,l,o))),e.parentNode=n);return E(r)};var yi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Qo.ns={prefix:yi,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.substring(0,e),t=t.substring(e+1)),yi.hasOwnProperty(n)?{space:yi[n],local:t}:t}},wi.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=Qo.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(D(e,t[e]));return this}return this.each(D(t,e))},wi.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=I(t)).length,o=-1;if(e=n.classList){for(;++o<r;)if(!e.contains(t[o]))return!1}else for(e=n.getAttribute("class");++o<r;)if(!T(t[o]).test(e))return!1;return!0}for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))},wi.style=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){for(n in 2>r&&(e=""),t)this.each(H(n,t[n],e));return this}if(2>r)return ni.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(H(t,e,n))},wi.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(z(e,t[e]));return this}return this.each(z(t,e))},wi.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},wi.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},wi.append=function(t){return t=F(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},wi.insert=function(t,e){return t=F(t),e=R(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},wi.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},wi.data=function(t,e){function n(t,n){var r,o,i,a=t.length,u=n.length,A=Math.min(a,u),d=new Array(u),h=new Array(u),p=new Array(a);if(e){var g,v=new f,m=new f,w=[];for(r=-1;++r<a;)g=e.call(o=t[r],o.__data__,r),v.has(g)?p[r]=o:v.set(g,o),w.push(g);for(r=-1;++r<u;)g=e.call(n,i=n[r],r),(o=v.get(g))?(d[r]=o,o.__data__=i):m.has(g)||(h[r]=W(i)),m.set(g,i),v.remove(g);for(r=-1;++r<a;)v.has(w[r])&&(p[r]=t[r])}else{for(r=-1;++r<A;)o=t[r],i=n[r],o?(o.__data__=i,d[r]=o):h[r]=W(i);for(;u>r;++r)h[r]=W(n[r]);for(;a>r;++r)p[r]=t[r]}h.update=d,h.parentNode=d.parentNode=p.parentNode=t.parentNode,l.push(h),s.push(d),c.push(p)}var r,o,i=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++i<a;)(o=r[i])&&(t[i]=o.__data__);return t}var l=U([]),s=E([]),c=E([]);if("function"==typeof t)for(;++i<a;)n(r=this[i],t.call(r,r.parentNode.__data__,i));else for(;++i<a;)n(r=this[i],t);return s.enter=function(){return l},s.exit=function(){return c},s},wi.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},wi.filter=function(t){var e,n,r,o=[];"function"!=typeof t&&(t=j(t));for(var i=0,a=this.length;a>i;i++){o.push(e=[]),e.parentNode=(n=this[i]).parentNode;for(var l=0,s=n.length;s>l;l++)(r=n[l])&&t.call(r,r.__data__,l,i)&&e.push(r)}return E(o)},wi.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],o=r.length-1,i=r[o];--o>=0;)(n=r[o])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},wi.sort=function(t){t=O.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},wi.each=function(t){return B(this,function(e,n,r){t.call(e,e.__data__,n,r)})},wi.call=function(t){var e=Zo(arguments);return t.apply(e[0]=this,e),this},wi.empty=function(){return!this.node()},wi.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,o=n.length;o>r;r++){var i=n[r];if(i)return i}return null},wi.size=function(){var t=0;return this.each(function(){++t}),t};var bi=[];Qo.selection.enter=U,Qo.selection.enter.prototype=bi,bi.append=wi.append,bi.empty=wi.empty,bi.node=wi.node,bi.call=wi.call,bi.size=wi.size,bi.select=function(t){for(var e,n,r,o,i,a=[],l=-1,s=this.length;++l<s;){r=(o=this[l]).update,a.push(e=[]),e.parentNode=o.parentNode;for(var c=-1,u=o.length;++c<u;)(i=o[c])?(e.push(r[c]=n=t.call(o.parentNode,i.__data__,c,l)),n.__data__=i.__data__):e.push(null)}return E(a)},bi.insert=function(t,e){return arguments.length<2&&(e=function(t){var e,n;return function(r,o,i){var a,l=t[i].update,s=l.length;for(i!=n&&(n=i,e=0),o>=e&&(e=o+1);!(a=l[e])&&++e<s;);return a}}(this)),wi.insert.call(this,t,e)},wi.transition=function(){for(var t,e,n=Sl||++Pl,r=[],o=El||{time:Date.now(),ease:ir,delay:0,duration:250},i=-1,a=this.length;++i<a;){r.push(t=[]);for(var l=this[i],s=-1,c=l.length;++s<c;)(e=l[s])&&Bo(e,s,n,o),t.push(e)}return Wo(r,n)},wi.interrupt=function(){return this.each(q)},Qo.select=function(t){var e=["string"==typeof t?pi(t,ti):t];return e.parentNode=ei,E([e])},Qo.selectAll=function(t){var e=Zo("string"==typeof t?gi(t,ti):t);return e.parentNode=ei,E([e])};var _i=Qo.select(ei);wi.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){for(n in 2>r&&(e=!1),t)this.each(V(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(V(t,e,n))};var xi=Qo.map({mouseenter:"mouseover",mouseleave:"mouseout"});xi.forEach(function(t){"on"+t in ti&&xi.remove(t)});var Ci="onselectstart"in ti?null:b(ei.style,"userSelect"),ki=0;Qo.mouse=function(t){return K(t,M())},Qo.touches=function(t,e){return arguments.length<2&&(e=M().touches),e?Zo(e).map(function(e){var n=K(t,e);return n.identifier=e.identifier,n}):[]},Qo.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",i)}function e(t,e,o,i,a){return function(){var l,s=this,c=Qo.event.target,u=s.parentNode,A=n.of(s,arguments),d=0,h=t(),f=".drag"+(null==h?"":"-"+h),p=Qo.select(o()).on(i+f,function(){var t,n,r=e(u,h);r&&(t=r[0]-v[0],n=r[1]-v[1],d|=t|n,v=r,A({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:t,dy:n}))}).on(a+f,function(){e(u,h)&&(p.on(i+f,null).on(a+f,null),g(d&&Qo.event.target===c),A({type:"dragend"}))}),g=X(),v=e(u,h);r?l=[(l=r.apply(s,arguments)).x-v[0],l.y-v[1]]:l=[0,0],A({type:"dragstart"})}}var n=S(t,"drag","dragstart","dragend"),r=null,o=e(_,Qo.mouse,Z,"mousemove","mouseup"),i=e(Q,Qo.touch,J,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},Qo.rebind(t,n,"on")};var Mi=Math.PI,Si=2*Mi,Ei=Mi/2,Ri=1e-6,Ni=Ri*Ri,Di=Mi/180,Pi=180/Mi,Ti=Math.SQRT2,Ii=2;Qo.interpolateZoom=function(t,e){function n(t){var e=t*v;if(g){var n=ot(p),a=i/(Ii*d)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Ti*e+p)-function(t){return((t=Math.exp(t))-1/t)/2}(p));return[r+a*c,o+a*u,i*n/ot(Ti*e+p)]}return[r+t*c,o+t*u,i*Math.exp(Ti*e)]}var r=t[0],o=t[1],i=t[2],a=e[0],l=e[1],s=e[2],c=a-r,u=l-o,A=c*c+u*u,d=Math.sqrt(A),h=(s*s-i*i+4*A)/(2*i*Ii*d),f=(s*s-i*i-4*A)/(2*s*Ii*d),p=Math.log(Math.sqrt(h*h+1)-h),g=Math.log(Math.sqrt(f*f+1)-f)-p,v=(g||Math.log(s/i))/Ti;return n.duration=1e3*v,n},Qo.behavior.zoom=function(){function t(t){t.on(C,s).on(Hi+".zoom",u).on(M,A).on("dblclick.zoom",d).on(R,c)}function e(t){return[(t[0]-b.x)/b.k,(t[1]-b.y)/b.k]}function n(t){b.k=Math.max(x[0],Math.min(x[1],t))}function r(t,e){e=function(t){return[t[0]*b.k+b.x,t[1]*b.k+b.y]}(e),b.x+=t[0]-e[0],b.y+=t[1]-e[1]}function o(){m&&m.domain(v.range().map(function(t){return(t-b.x)/b.k}).map(v.invert)),y&&y.domain(w.range().map(function(t){return(t-b.y)/b.k}).map(w.invert))}function i(t){t({type:"zoomstart"})}function a(t){o(),t({type:"zoom",scale:b.k,translate:[b.x,b.y]})}function l(t){t({type:"zoomend"})}function s(){var t=this,n=Qo.event.target,o=N.of(t,arguments),s=0,c=Qo.select(ni).on(M,function(){s=1,r(Qo.mouse(t),u),a(o)}).on(E,function(){c.on(M,ni===t?A:null).on(E,null),d(s&&Qo.event.target===n),l(o)}),u=e(Qo.mouse(t)),d=X();q.call(t),i(o)}function c(){function t(){var t=Qo.touches(A);return u=b.k,t.forEach(function(t){t.identifier in h&&(h[t.identifier]=e(t))}),t}function o(){for(var e=Qo.event.changedTouches,o=0,i=e.length;i>o;++o)h[e[o].identifier]=null;var l=t(),s=Date.now();if(1===l.length){if(500>s-g){var c=l[0],u=h[c.identifier];n(2*b.k),r(c,u),k(),a(d)}g=s}else if(l.length>1){c=l[0];var A=l[1],p=c[0]-A[0],v=c[1]-A[1];f=p*p+v*v}}var u,A=this,d=N.of(A,arguments),h={},f=0,p=".zoom-"+Qo.event.changedTouches[0].identifier,v="touchmove"+p,m="touchend"+p,w=Qo.select(Qo.event.target).on(v,function(){for(var t,e,o,i,l=Qo.touches(A),s=0,c=l.length;c>s;++s,i=null)if(o=l[s],i=h[o.identifier]){if(e)break;t=o,e=i}if(i){var p=(p=o[0]-t[0])*p+(p=o[1]-t[1])*p,v=f&&Math.sqrt(p/f);t=[(t[0]+o[0])/2,(t[1]+o[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],n(v*u)}g=null,r(t,e),a(d)}).on(m,function(){if(Qo.event.touches.length){for(var e=Qo.event.changedTouches,n=0,r=e.length;r>n;++n)delete h[e[n].identifier];for(var o in h)return void t()}w.on(p,null),y.on(C,s).on(R,c),_(),l(d)}),y=Qo.select(A).on(C,null).on(R,o),_=X();q.call(A),o(),i(d)}function u(){var t=N.of(this,arguments);p?clearTimeout(p):(q.call(this),i(t)),p=setTimeout(function(){p=null,l(t)},50),k();var o=f||Qo.mouse(this);h||(h=e(o)),n(Math.pow(2,.002*Li())*b.k),r(o,h),a(t)}function A(){h=null}function d(){var t=N.of(this,arguments),o=Qo.mouse(this),s=e(o),c=Math.log(b.k)/Math.LN2;i(t),n(Math.pow(2,Qo.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)),r(o,s),a(t),l(t)}var h,f,p,g,v,m,w,y,b={x:0,y:0,k:1},_=[960,500],x=$i,C="mousedown.zoom",M="mousemove.zoom",E="mouseup.zoom",R="touchstart.zoom",N=S(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=N.of(this,arguments),e=b;Sl?Qo.select(this).transition().each("start.zoom",function(){b=this.__chart__||{x:0,y:0,k:1},i(t)}).tween("zoom:zoom",function(){var n=_[0],r=_[1],o=n/2,i=r/2,l=Qo.interpolateZoom([(o-b.x)/b.k,(i-b.y)/b.k,n/b.k],[(o-e.x)/e.k,(i-e.y)/e.k,n/e.k]);return function(e){var r=l(e),s=n/r[2];this.__chart__=b={x:o-r[0]*s,y:i-r[1]*s,k:s},a(t)}}).each("end.zoom",function(){l(t)}):(this.__chart__=b,i(t),a(t),l(t))})},t.translate=function(e){return arguments.length?(b={x:+e[0],y:+e[1],k:b.k},o(),t):[b.x,b.y]},t.scale=function(e){return arguments.length?(b={x:b.x,y:b.y,k:+e},o(),t):b.k},t.scaleExtent=function(e){return arguments.length?(x=null==e?$i:[+e[0],+e[1]],t):x},t.center=function(e){return arguments.length?(f=e&&[+e[0],+e[1]],t):f},t.size=function(e){return arguments.length?(_=e&&[+e[0],+e[1]],t):_},t.x=function(e){return arguments.length?(m=e,v=e.copy(),b={x:0,y:0,k:1},t):m},t.y=function(e){return arguments.length?(y=e,w=e.copy(),b={x:0,y:0,k:1},t):y},Qo.rebind(t,N,"on")};var Li,$i=[0,1/0],Hi="onwheel"in ti?(Li=function(){return-Qo.event.deltaY*(Qo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ti?(Li=function(){return Qo.event.wheelDelta},"mousewheel"):(Li=function(){return-Qo.event.detail},"MozMousePixelScroll");at.prototype.toString=function(){return this.rgb()+""},Qo.hsl=function(t,e,n){return 1===arguments.length?t instanceof st?lt(t.h,t.s,t.l):kt(""+t,Mt,lt):lt(+t,+e,+n)};var zi=st.prototype=new at;zi.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),lt(this.h,this.s,this.l/t)},zi.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),lt(this.h,this.s,t*this.l)},zi.rgb=function(){return ct(this.h,this.s,this.l)},Qo.hcl=function(t,e,n){return 1===arguments.length?t instanceof At?ut(t.h,t.c,t.l):gt(t instanceof ft?t.l:(t=St((t=Qo.rgb(t)).r,t.g,t.b)).l,t.a,t.b):ut(+t,+e,+n)};var Fi=At.prototype=new at;Fi.brighter=function(t){return ut(this.h,this.c,Math.min(100,this.l+Wi*(arguments.length?t:1)))},Fi.darker=function(t){return ut(this.h,this.c,Math.max(0,this.l-Wi*(arguments.length?t:1)))},Fi.rgb=function(){return dt(this.h,this.c,this.l).rgb()},Qo.lab=function(t,e,n){return 1===arguments.length?t instanceof ft?ht(t.l,t.a,t.b):t instanceof At?dt(t.l,t.c,t.h):St((t=Qo.rgb(t)).r,t.g,t.b):ht(+t,+e,+n)};var Wi=18,ji=.95047,Oi=1,Bi=1.08883,Ui=ft.prototype=new at;Ui.brighter=function(t){return ht(Math.min(100,this.l+Wi*(arguments.length?t:1)),this.a,this.b)},Ui.darker=function(t){return ht(Math.max(0,this.l-Wi*(arguments.length?t:1)),this.a,this.b)},Ui.rgb=function(){return pt(this.l,this.a,this.b)},Qo.rgb=function(t,e,n){return 1===arguments.length?t instanceof xt?_t(t.r,t.g,t.b):kt(""+t,_t,ct):_t(~~t,~~e,~~n)};var qi=xt.prototype=new at;qi.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,o=30;return e||n||r?(e&&o>e&&(e=o),n&&o>n&&(n=o),r&&o>r&&(r=o),_t(Math.min(255,~~(e/t)),Math.min(255,~~(n/t)),Math.min(255,~~(r/t)))):_t(o,o,o)},qi.darker=function(t){return _t(~~((t=Math.pow(.7,arguments.length?t:1))*this.r),~~(t*this.g),~~(t*this.b))},qi.hsl=function(){return Mt(this.r,this.g,this.b)},qi.toString=function(){return"#"+Ct(this.r)+Ct(this.g)+Ct(this.b)};var Vi=Qo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Vi.forEach(function(t,e){Vi.set(t,yt(e))}),Qo.functor=Nt,Qo.xhr=Pt(Dt),Qo.dsv=function(t,e){function n(t,n,i){arguments.length<3&&(i=n,n=null);var a=Tt(t,e,null==n?r:o(n),i);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:o(t)):n},a}function r(t){return n.parse(t.responseText)}function o(t){return function(e){return n.parse(e.responseText,t)}}function i(e){return e.map(a).join(t)}function a(t){return l.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var l=new RegExp('["'+t+"\n]"),c=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var o=new Function("d","return {"+t.map(function(t,e){return(0,s.default)(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(o(t),n)}:o})},n.parseRows=function(t,e){function n(){if(u>=s)return a;if(o)return o=!1,i;var e=u;if(34===t.charCodeAt(e)){for(var n=e;n++<s;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return u=n+2,13===(r=t.charCodeAt(n+1))?(o=!0,10===t.charCodeAt(n+2)&&++u):10===r&&(o=!0),t.substring(e+1,n).replace(/""/g,'"')}for(;s>u;){var r,l=1;if(10===(r=t.charCodeAt(u++)))o=!0;else if(13===r)o=!0,10===t.charCodeAt(u)&&(++u,++l);else if(r!==c)continue;return t.substring(e,u-l)}return t.substring(e)}for(var r,o,i={},a={},l=[],s=t.length,u=0,A=0;(r=n())!==a;){for(var d=[];r!==i&&r!==a;)d.push(r),r=n();(!e||(d=e(d,A++)))&&l.push(d)}return l},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new w,o=[];return e.forEach(function(t){for(var e in t)r.has(e)||o.push(r.add(e))}),[o.map(a).join(t)].concat(e.map(function(e){return o.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(i).join("\n")},n},Qo.csv=Qo.dsv(",","text/csv"),Qo.tsv=Qo.dsv("\t","text/tab-separated-values"),Qo.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=M().changedTouches),e)for(var r,o=0,i=e.length;i>o;++o)if((r=e[o]).identifier===n)return K(t,r)};var Yi,Gi,Xi,Ki,Qi,Ji=ni[b(ni,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Qo.timer=function(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now());var o={c:t,t:n+e,f:!1,n:null};Gi?Gi.n=o:Yi=o,Gi=o,Xi||(Ki=clearTimeout(Ki),Xi=1,Ji(It))},Qo.timer.flush=function(){Lt(),$t()},Qo.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Zi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*ci(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}});Qo.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=Qo.round(t,Ht(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Zi[8+n/3]};var ta=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ea=Qo.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=Qo.round(t,Ht(t,e))).toFixed(Math.max(0,Math.min(20,Ht(t*(1+1e-15),e))))}}),na=Qo.time={},ra=Date;Ft.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){oa.setUTCDate.apply(this._,arguments)},setDay:function(){oa.setUTCDay.apply(this._,arguments)},setFullYear:function(){oa.setUTCFullYear.apply(this._,arguments)},setHours:function(){oa.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){oa.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){oa.setUTCMinutes.apply(this._,arguments)},setMonth:function(){oa.setUTCMonth.apply(this._,arguments)},setSeconds:function(){oa.setUTCSeconds.apply(this._,arguments)},setTime:function(){oa.setTime.apply(this._,arguments)}};var oa=Date.prototype;na.year=Wt(function(t){return(t=na.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),na.years=na.year.range,na.years.utc=na.year.utc.range,na.day=Wt(function(t){var e=new ra(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),na.days=na.day.range,na.days.utc=na.day.utc.range,na.dayOfYear=function(t){var e=na.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=na[t]=Wt(function(t){return(t=na.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=na.year(t).getDay();return Math.floor((na.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});na[t+"s"]=n.range,na[t+"s"].utc=n.utc.range,na[t+"OfYear"]=function(t){var n=na.year(t).getDay();return Math.floor((na.dayOfYear(t)+(n+e)%7)/7)}}),na.week=na.sunday,na.weeks=na.sunday.range,na.weeks.utc=na.sunday.utc.range,na.weekOfYear=na.sundayOfYear;var ia={"-":"",_:" ",0:"0"},aa=/^\s*\d+/,la=/^%/;Qo.locale=function(t){return{numberFormat:function(t){var e=t.decimal,n=t.thousands,r=t.grouping,o=t.currency,i=r?function(t){for(var e=t.length,o=[],i=0,a=r[0];e>0&&a>0;)o.push(t.substring(e-=a,e+a)),a=r[i=(i+1)%r.length];return o.reverse().join(n)}:Dt;return function(t){var n=ta.exec(t),r=n[1]||" ",a=n[2]||">",l=n[3]||"",s=n[4]||"",c=n[5],u=+n[6],A=n[7],d=n[8],h=n[9],f=1,p="",g="",v=!1;switch(d&&(d=+d.substring(1)),(c||"0"===r&&"="===a)&&(c=r="0",a="=",A&&(u-=Math.floor((u-1)/4))),h){case"n":A=!0,h="g";break;case"%":f=100,g="%",h="f";break;case"p":f=100,g="%",h="r";break;case"b":case"o":case"x":case"X":"#"===s&&(p="0"+h.toLowerCase());case"c":case"d":v=!0,d=0;break;case"s":f=-1,h="r"}"$"===s&&(p=o[0],g=o[1]),"r"!=h||d||(h="g"),null!=d&&("g"==h?d=Math.max(1,Math.min(21,d)):("e"==h||"f"==h)&&(d=Math.max(0,Math.min(20,d)))),h=ea.get(h)||zt;var m=c&&A;return function(t){var n=g;if(v&&t%1)return"";var o=0>t||0===t&&0>1/t?(t=-t,"-"):l;if(0>f){var s=Qo.formatPrefix(t,d);t=s.scale(t),n=s.symbol+g}else t*=f;var w=(t=h(t,d)).lastIndexOf("."),y=0>w?t:t.substring(0,w),b=0>w?"":e+t.substring(w+1);!c&&A&&(y=i(y));var _=p.length+y.length+b.length+(m?0:o.length),x=u>_?new Array(_=u-_+1).join(r):"";return m&&(y=i(x+y)),o+=p,t=y+b,("<"===a?o+t+x:">"===a?x+o+t:"^"===a?x.substring(0,_>>=1)+o+t+x.substring(_):o+(m?t:x+t))+n}}}(t),timeFormat:function(t){function e(t){function e(e){for(var n,o,i,a=[],l=-1,s=0;++l<r;)37===t.charCodeAt(l)&&(a.push(t.substring(s,l)),null!=(o=ia[n=t.charAt(++l)])&&(n=t.charAt(++l)),(i=y[n])&&(n=i(e,null==o?"e"===n?" ":"0":o)),a.push(n),s=l+1);return a.push(t.substring(s,l)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(n(r,t,e,0)!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&ra!==Ft,i=new(o?Ft:ra);return"j"in r?i.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(i.setFullYear(r.y,0,1),i.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(i.getDay()+5)%7:r.w+7*r.U-(i.getDay()+6)%7)):i.setFullYear(r.y,r.m,r.d),i.setHours(r.H+Math.floor(r.Z/100),r.M+r.Z%100,r.S,r.L),o?i._:i},e.toString=function(){return t},e}function n(t,e,n,r){for(var o,i,a,l=0,s=e.length,c=n.length;s>l;){if(r>=c)return-1;if(37===(o=e.charCodeAt(l++))){if(a=e.charAt(l++),!(i=b[a in ia?e.charAt(l++):a])||(r=i(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}var r=t.dateTime,o=t.date,i=t.time,a=t.periods,l=t.days,s=t.shortDays,c=t.months,u=t.shortMonths;e.utc=function(t){function n(t){try{var e=new(ra=Ft);return e._=t,r(e)}finally{ra=Date}}var r=e(t);return n.parse=function(t){try{ra=Ft;var e=r.parse(t);return e&&e._}finally{ra=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=ae;var A=Qo.map(),d=Bt(l),h=Ut(l),f=Bt(s),p=Ut(s),g=Bt(c),v=Ut(c),m=Bt(u),w=Ut(u);a.forEach(function(t,e){A.set(t.toLowerCase(),e)});var y={a:function(t){return s[t.getDay()]},A:function(t){return l[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:e(r),d:function(t,e){return Ot(t.getDate(),e,2)},e:function(t,e){return Ot(t.getDate(),e,2)},H:function(t,e){return Ot(t.getHours(),e,2)},I:function(t,e){return Ot(t.getHours()%12||12,e,2)},j:function(t,e){return Ot(1+na.dayOfYear(t),e,3)},L:function(t,e){return Ot(t.getMilliseconds(),e,3)},m:function(t,e){return Ot(t.getMonth()+1,e,2)},M:function(t,e){return Ot(t.getMinutes(),e,2)},p:function(t){return a[+(t.getHours()>=12)]},S:function(t,e){return Ot(t.getSeconds(),e,2)},U:function(t,e){return Ot(na.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ot(na.mondayOfYear(t),e,2)},x:e(o),X:e(i),y:function(t,e){return Ot(t.getFullYear()%100,e,2)},Y:function(t,e){return Ot(t.getFullYear()%1e4,e,4)},Z:oe,"%":function(){return"%"}},b={a:function(t,e,n){f.lastIndex=0;var r=f.exec(e.substring(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){d.lastIndex=0;var r=d.exec(e.substring(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){m.lastIndex=0;var r=m.exec(e.substring(n));return r?(t.m=w.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){g.lastIndex=0;var r=g.exec(e.substring(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,r){return n(t,y.c.toString(),e,r)},d:Jt,e:Jt,H:te,I:te,j:Zt,L:re,m:Qt,M:ee,p:function(t,e,n){var r=A.get(e.substring(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:ne,U:Vt,w:qt,W:Yt,x:function(t,e,r){return n(t,y.x.toString(),e,r)},X:function(t,e,r){return n(t,y.X.toString(),e,r)},y:Xt,Y:Gt,Z:Kt,"%":ie};return e}(t)}};var sa=Qo.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Qo.format=sa.numberFormat,Qo.geo={},le.prototype={s:0,t:0,add:function(t){se(t,this.t,ca),se(ca.s,this.s,this),this.s?this.t+=ca.t:this.s=ca.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ca=new le;Qo.geo.stream=function(t,e){t&&ua.hasOwnProperty(t.type)?ua[t.type](t,e):ce(t,e)};var ua={Feature:function(t,e){ce(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)ce(n[r].geometry,e)}},Aa={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){ue(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)ue(n[r],e,0)},Polygon:function(t,e){Ae(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)Ae(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)ce(n[r],e)}};Qo.geo.area=function(t){return da=0,Qo.geo.stream(t,fa),da};var da,ha=new le,fa={sphere:function(){da+=4*Mi},point:_,lineStart:_,lineEnd:_,polygonStart:function(){ha.reset(),fa.lineStart=de},polygonEnd:function(){var t=2*ha;da+=0>t?4*Mi+t:t,fa.lineStart=fa.lineEnd=fa.point=_}};Qo.geo.bounds=function(){function t(t,e){w.push(y=[u=t,d=t]),A>e&&(A=e),e>h&&(h=e)}function e(e,n){var r=he([e*Di,n*Di]);if(v){var o=pe(v,r),i=pe([o[1],-o[0],0],o);me(i),i=we(i);var a=e-f,s=a>0?1:-1,c=i[0]*Pi*s,p=ci(a)>180;if(p^(c>s*f&&s*e>c))(g=i[1]*Pi)>h&&(h=g);else if(p^((c=(c+360)%360-180)>s*f&&s*e>c)){var g=-i[1]*Pi;A>g&&(A=g)}else A>n&&(A=n),n>h&&(h=n);p?f>e?l(u,e)>l(u,d)&&(d=e):l(e,d)>l(u,d)&&(u=e):d>=u?(u>e&&(u=e),e>d&&(d=e)):e>f?l(u,e)>l(u,d)&&(d=e):l(e,d)>l(u,d)&&(u=e)}else t(e,n);v=r,f=e}function n(){b.point=e}function r(){y[0]=u,y[1]=d,b.point=t,v=null}function o(t,n){if(v){var r=t-f;m+=ci(r)>180?r+(r>0?360:-360):r}else p=t,g=n;fa.point(t,n),e(t,n)}function i(){fa.lineStart()}function a(){o(p,g),fa.lineEnd(),ci(m)>Ri&&(u=-(d=180)),y[0]=u,y[1]=d,v=null}function l(t,e){return(e-=t)<0?e+360:e}function s(t,e){return t[0]-e[0]}function c(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var u,A,d,h,f,p,g,v,m,w,y,b={point:t,lineStart:n,lineEnd:r,polygonStart:function(){b.point=o,b.lineStart=i,b.lineEnd=a,m=0,fa.polygonStart()},polygonEnd:function(){fa.polygonEnd(),b.point=t,b.lineStart=n,b.lineEnd=r,0>ha?(u=-(d=180),A=-(h=90)):m>Ri?h=90:-Ri>m&&(A=-90),y[0]=u,y[1]=d}};return function(t){if(h=d=-(u=A=1/0),w=[],Qo.geo.stream(t,b),i=w.length){w.sort(s);for(var e=1,n=[f=w[0]];i>e;++e)c((o=w[e])[0],f)||c(o[1],f)?(l(f[0],o[1])>l(f[0],f[1])&&(f[1]=o[1]),l(o[0],f[1])>l(f[0],f[1])&&(f[0]=o[0])):n.push(f=o);for(var r,o,i,a=-1/0,f=(e=0,n[i=n.length-1]);i>=e;f=o,++e)o=n[e],(r=l(f[1],o[0]))>a&&(a=r,u=o[0],d=f[1])}return w=y=null,1/0===u||1/0===A?[[NaN,NaN],[NaN,NaN]]:[[u,A],[d,h]]}}(),Qo.geo.centroid=function(t){pa=ga=va=ma=wa=ya=ba=_a=xa=Ca=ka=0,Qo.geo.stream(t,Ma);var e=xa,n=Ca,r=ka,o=e*e+n*n+r*r;return Ni>o&&(e=ya,n=ba,r=_a,Ri>ga&&(e=va,n=ma,r=wa),Ni>(o=e*e+n*n+r*r))?[NaN,NaN]:[Math.atan2(n,e)*Pi,rt(r/Math.sqrt(o))*Pi]};var pa,ga,va,ma,wa,ya,ba,_a,xa,Ca,ka,Ma={sphere:_,point:be,lineStart:xe,lineEnd:Ce,polygonStart:function(){Ma.lineStart=ke},polygonEnd:function(){Ma.lineStart=xe}},Sa=Ne(Me,function(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,a){var l=i>0?Mi:-Mi,s=ci(i-n);ci(s-Mi)<Ri?(t.point(n,r=(r+a)/2>0?Ei:-Ei),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(i,r),e=0):o!==l&&s>=Mi&&(ci(n-o)<Ri&&(n-=o*Ri),ci(i-l)<Ri&&(i-=l*Ri),r=function(t,e,n,r){var o,i,a=Math.sin(t-n);return ci(a)>Ri?Math.atan((Math.sin(e)*(i=Math.cos(r))*Math.sin(n)-Math.sin(r)*(o=Math.cos(e))*Math.sin(t))/(o*i*a)):(e+r)/2}(n,r,i,a),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(l,r),e=0),t.point(n=i,r=a),o=l},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var o;if(null==t)o=n*Ei,r.point(-Mi,o),r.point(0,o),r.point(Mi,o),r.point(Mi,0),r.point(Mi,-o),r.point(0,-o),r.point(-Mi,-o),r.point(-Mi,0),r.point(-Mi,o);else if(ci(t[0]-e[0])>Ri){var i=t[0]<e[0]?Mi:-Mi;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])},[-Mi,-Mi/2]),Ea=1e9;Qo.geo.clipExtent=function(){var t,e,n,r,o,i,a={stream:function(t){return o&&(o.valid=!1),(o=i(t)).valid=!0,o},extent:function(l){return arguments.length?(i=Le(t=+l[0][0],e=+l[0][1],n=+l[1][0],r=+l[1][1]),o&&(o.valid=!1,o=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(Qo.geo.conicEqualArea=function(){return He(ze)}).raw=ze,Qo.geo.albers=function(){return Qo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Qo.geo.albersUsa=function(){function t(t){var i=t[0],a=t[1];return e=null,n(i,a),e||(r(i,a),e)||o(i,a),e}var e,n,r,o,i=Qo.geo.albers(),a=Qo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Qo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&.234>o&&r>=-.425&&-.214>r?a:o>=.166&&.234>o&&r>=-.214&&-.115>r?l:i).invert(t)},t.stream=function(t){var e=i.stream(t),n=a.stream(t),r=l.stream(t);return{point:function(t,o){e.point(t,o),n.point(t,o),r.point(t,o)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(i.precision(e),a.precision(e),l.precision(e),t):i.precision()},t.scale=function(e){return arguments.length?(i.scale(e),a.scale(.35*e),l.scale(e),t.translate(i.translate())):i.scale()},t.translate=function(e){if(!arguments.length)return i.translate();var c=i.scale(),u=+e[0],A=+e[1];return n=i.translate(e).clipExtent([[u-.455*c,A-.238*c],[u+.455*c,A+.238*c]]).stream(s).point,r=a.translate([u-.307*c,A+.201*c]).clipExtent([[u-.425*c+Ri,A+.12*c+Ri],[u-.214*c-Ri,A+.234*c-Ri]]).stream(s).point,o=l.translate([u-.205*c,A+.212*c]).clipExtent([[u-.214*c+Ri,A+.166*c+Ri],[u-.115*c-Ri,A+.234*c-Ri]]).stream(s).point,t},t.scale(1070)};var Ra,Na,Da,Pa,Ta,Ia,La={point:_,lineStart:_,lineEnd:_,polygonStart:function(){Na=0,La.lineStart=Fe},polygonEnd:function(){La.lineStart=La.lineEnd=La.point=_,Ra+=ci(Na/2)}},$a={point:function(t,e){Da>t&&(Da=t),t>Ta&&(Ta=t),Pa>e&&(Pa=e),e>Ia&&(Ia=e)},lineStart:_,lineEnd:_,polygonStart:_,polygonEnd:_},Ha={point:je,lineStart:Oe,lineEnd:Be,polygonStart:function(){Ha.lineStart=Ue},polygonEnd:function(){Ha.point=je,Ha.lineStart=Oe,Ha.lineEnd=Be}};Qo.geo.path=function(){function t(t){return t&&("function"==typeof l&&i.pointRadius(+l.apply(this,arguments)),a&&a.valid||(a=o(i)),Qo.geo.stream(t,a)),i.result()}function e(){return a=null,t}var n,r,o,i,a,l=4.5;return t.area=function(t){return Ra=0,Qo.geo.stream(t,o(La)),Ra},t.centroid=function(t){return va=ma=wa=ya=ba=_a=xa=Ca=ka=0,Qo.geo.stream(t,o(Ha)),ka?[xa/ka,Ca/ka]:_a?[ya/_a,ba/_a]:wa?[va/wa,ma/wa]:[NaN,NaN]},t.bounds=function(t){return Ta=Ia=-(Da=Pa=1/0),Qo.geo.stream(t,o($a)),[[Da,Pa],[Ta,Ia]]},t.projection=function(t){return arguments.length?(o=(n=t)?t.stream||function(t){var e=qe(function(e,n){return t([e*Pi,n*Pi])});return function(t){return Ke(e(t))}}(t):Dt,e()):n},t.context=function(t){return arguments.length?(i=null==(r=t)?new function(){function t(t,e){a.push("M",t,",",e,i)}function e(t,e){a.push("M",t,",",e),l.point=n}function n(t,e){a.push("L",t,",",e)}function r(){l.point=t}function o(){a.push("Z")}var i=We(4.5),a=[],l={point:t,lineStart:function(){l.point=e},lineEnd:r,polygonStart:function(){l.lineEnd=o},polygonEnd:function(){l.lineEnd=r,l.point=t},pointRadius:function(t){return i=We(t),l},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return l}:new function(t){function e(e,n){t.moveTo(e,n),t.arc(e,n,a,0,Si)}function n(e,n){t.moveTo(e,n),l.point=r}function r(e,n){t.lineTo(e,n)}function o(){l.point=e}function i(){t.closePath()}var a=4.5,l={point:e,lineStart:function(){l.point=n},lineEnd:o,polygonStart:function(){l.lineEnd=i},polygonEnd:function(){l.lineEnd=o,l.point=e},pointRadius:function(t){return a=t,l},result:_};return l}(t),"function"!=typeof l&&i.pointRadius(l),e()):r},t.pointRadius=function(e){return arguments.length?(l="function"==typeof e?e:(i.pointRadius(+e),+e),t):l},t.projection(Qo.geo.albersUsa()).context(null)},Qo.geo.transform=function(t){return{stream:function(e){var n=new Ve(e);for(var r in t)n[r]=t[r];return n}}},Ve.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Qo.geo.projection=Ge,Qo.geo.projectionMutator=Xe,(Qo.geo.equirectangular=function(){return Ge(Qe)}).raw=Qe.invert=Qe,Qo.geo.rotation=function(t){function e(e){return(e=t(e[0]*Di,e[1]*Di))[0]*=Pi,e[1]*=Pi,e}return t=Ze(t[0]%360*Di,t[1]*Di,t.length>2?t[2]*Di:0),e.invert=function(e){return(e=t.invert(e[0]*Di,e[1]*Di))[0]*=Pi,e[1]*=Pi,e},e},Je.invert=Qe,Qo.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=Ze(-t[0]*Di,-t[1]*Di,0).invert,o=[];return n(null,null,1,{point:function(t,n){o.push(t=e(t,n)),t[0]*=Pi,t[1]*=Pi}}),{type:"Polygon",coordinates:[o]}}var e,n,r=[0,0],o=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=rn((e=+r)*Di,o*Di),t):e},t.precision=function(r){return arguments.length?(n=rn(e*Di,(o=+r)*Di),t):o},t.angle(90)},Qo.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Di,o=t[1]*Di,i=e[1]*Di,a=Math.sin(r),l=Math.cos(r),s=Math.sin(o),c=Math.cos(o),u=Math.sin(i),A=Math.cos(i);return Math.atan2(Math.sqrt((n=A*a)*n+(n=c*u-s*A*l)*n),s*u+c*A*l)},Qo.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Qo.range(Math.ceil(i/g)*g,o,g).map(d).concat(Qo.range(Math.ceil(c/v)*v,s,v).map(h)).concat(Qo.range(Math.ceil(r/f)*f,n,f).filter(function(t){return ci(t%g)>Ri}).map(u)).concat(Qo.range(Math.ceil(l/p)*p,a,p).filter(function(t){return ci(t%v)>Ri}).map(A))}var n,r,o,i,a,l,s,c,u,A,d,h,f=10,p=f,g=90,v=360,m=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(i).concat(h(s).slice(1),d(o).reverse().slice(1),h(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(i=+e[0][0],o=+e[1][0],c=+e[0][1],s=+e[1][1],i>o&&(e=i,i=o,o=e),c>s&&(e=c,c=s,s=e),t.precision(m)):[[i,c],[o,s]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],l=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),l>a&&(e=l,l=a,a=e),t.precision(m)):[[r,l],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(g=+e[0],v=+e[1],t):[g,v]},t.minorStep=function(e){return arguments.length?(f=+e[0],p=+e[1],t):[f,p]},t.precision=function(e){return arguments.length?(m=+e,u=an(l,a,90),A=ln(r,n,m),d=an(c,s,90),h=ln(i,o,m),t):m},t.majorExtent([[-180,-90+Ri],[180,90-Ri]]).minorExtent([[-180,-80-Ri],[180,80+Ri]])},Qo.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||o.apply(this,arguments)]}}var e,n,r=sn,o=cn;return t.distance=function(){return Qo.geo.distance(e||r.apply(this,arguments),n||o.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(o=e,n="function"==typeof e?null:e,t):o},t.precision=function(){return arguments.length?t:0},t},Qo.geo.interpolate=function(t,e){return function(t,e,n,r){var o=Math.cos(e),i=Math.sin(e),a=Math.cos(r),l=Math.sin(r),s=o*Math.cos(t),c=o*Math.sin(t),u=a*Math.cos(n),A=a*Math.sin(n),d=2*Math.asin(Math.sqrt(it(r-e)+o*a*it(n-t))),h=1/Math.sin(d),f=d?function(t){var e=Math.sin(t*=d)*h,n=Math.sin(d-t)*h,r=n*s+e*u,o=n*c+e*A,a=n*i+e*l;return[Math.atan2(o,r)*Pi,Math.atan2(a,Math.sqrt(r*r+o*o))*Pi]}:function(){return[t*Pi,e*Pi]};return f.distance=d,f}(t[0]*Di,t[1]*Di,e[0]*Di,e[1]*Di)},Qo.geo.length=function(t){return za=0,Qo.geo.stream(t,Fa),za};var za,Fa={sphere:_,point:_,lineStart:function(){function t(t,o){var i=Math.sin(o*=Di),a=Math.cos(o),l=ci((t*=Di)-e),s=Math.cos(l);za+=Math.atan2(Math.sqrt((l=a*Math.sin(l))*l+(l=r*i-n*a*s)*l),n*i+r*a*s),e=t,n=i,r=a}var e,n,r;Fa.point=function(o,i){e=o*Di,n=Math.sin(i*=Di),r=Math.cos(i),Fa.point=t},Fa.lineEnd=function(){Fa.point=Fa.lineEnd=_}},lineEnd:_,polygonStart:_,polygonEnd:_},Wa=un(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(Qo.geo.azimuthalEqualArea=function(){return Ge(Wa)}).raw=Wa;var ja=un(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},Dt);(Qo.geo.azimuthalEquidistant=function(){return Ge(ja)}).raw=ja,(Qo.geo.conicConformal=function(){return He(An)}).raw=An,(Qo.geo.conicEquidistant=function(){return He(dn)}).raw=dn;var Oa=un(function(t){return 1/t},Math.atan);(Qo.geo.gnomonic=function(){return Ge(Oa)}).raw=Oa,hn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ei]},(Qo.geo.mercator=function(){return fn(hn)}).raw=hn;var Ba=un(function(){return 1},Math.asin);(Qo.geo.orthographic=function(){return Ge(Ba)}).raw=Ba;var Ua=un(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(Qo.geo.stereographic=function(){return Ge(Ua)}).raw=Ua,pn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ei]},(Qo.geo.transverseMercator=function(){var t=fn(pn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[-(t=e())[1],t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},t.rotate([0,0])}).raw=pn,Qo.geom={},Qo.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,o=Nt(n),i=Nt(r),a=t.length,l=[],s=[];for(e=0;a>e;e++)l.push([+o.call(this,t[e],e),+i.call(this,t[e],e),e]);for(l.sort(wn),e=0;a>e;e++)s.push([l[e][0],-l[e][1]]);var c=mn(l),u=mn(s),A=u[0]===c[0],d=u[u.length-1]===c[c.length-1],h=[];for(e=c.length-1;e>=0;--e)h.push(t[l[c[e]][2]]);for(e=+A;e<u.length-d;++e)h.push(t[l[u[e]][2]]);return h}var n=gn,r=vn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},Qo.geom.polygon=function(t){return fi(t,qa),t};var qa=Qo.geom.polygon.prototype=[];qa.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],o=0;++e<n;)t=r,r=this[e],o+=t[1]*r[0]-t[0]*r[1];return.5*o},qa.centroid=function(t){var e,n,r=-1,o=this.length,i=0,a=0,l=this[o-1];for(arguments.length||(t=-1/(6*this.area()));++r<o;)e=l,l=this[r],n=e[0]*l[1]-l[0]*e[1],i+=(e[0]+l[0])*n,a+=(e[1]+l[1])*n;return[i*t,a*t]},qa.clip=function(t){for(var e,n,r,o,i,a,l=_n(t),s=-1,c=this.length-_n(this),u=this[c-1];++s<c;){for(e=t.slice(),t.length=0,o=this[s],i=e[(r=e.length-l)-1],n=-1;++n<r;)yn(a=e[n],u,o)?(yn(i,u,o)||t.push(bn(i,a,u,o)),t.push(a)):yn(i,u,o)&&t.push(bn(i,a,u,o)),i=a;l&&t.push(t[0]),u=o}return t};var Va,Ya,Ga,Xa,Ka,Qa=[],Ja=[];Rn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Nn),e.length},zn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Fn.prototype={insert:function(t,e){var n,r,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Bn(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(o=r.R)&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.R&&(jn(this,n),n=(t=n).U),n.C=!1,r.C=!0,On(this,r)):(o=r.L)&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.L&&(On(this,n),n=(t=n).U),n.C=!1,r.C=!0,jn(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,o=t.U,i=t.L,a=t.R;if(n=i?a?Bn(a):i:a,o?o.L===t?o.L=n:o.R=n:this._=n,i&&a?(r=n.C,n.C=t.C,n.L=i,i.U=n,n!==a?(o=n.U,n.U=t.U,t=n.R,o.L=t,n.R=a,a.U=n):(n.U=o,o=n,t=n.R)):(r=t.C,t=n),t&&(t.U=o),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===o.L){if((e=o.R).C&&(e.C=!1,o.C=!0,jn(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,On(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,jn(this,o),t=this._;break}}else if((e=o.L).C&&(e.C=!1,o.C=!0,On(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,jn(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,On(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}},Qo.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=l[0][0],o=l[0][1],i=l[1][0],a=l[1][1];return Un(n(t),l).cells.forEach(function(n,l){var s=n.edges,c=n.site;(e[l]=s.length?s.map(function(t){var e=t.start();return[e.x,e.y]}):c.x>=r&&c.x<=i&&c.y>=o&&c.y<=a?[[r,a],[i,a],[i,o],[r,o]]:[]).point=t[l]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(i(t,e)/Ri)*Ri,y:Math.round(a(t,e)/Ri)*Ri,i:e}})}var r=gn,o=vn,i=r,a=o,l=Za;return t?e(t):(e.links=function(t){return Un(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return Un(n(t)).cells.forEach(function(n,r){for(var o,i=n.site,a=n.edges.sort(Nn),l=-1,s=a.length,c=a[s-1].edge,u=c.l===i?c.r:c.l;++l<s;)c,o=u,u=(c=a[l].edge).l===i?c.r:c.l,r<o.i&&r<u.i&&Vn(i,o,u)<0&&e.push([t[r],t[o.i],t[u.i]])}),e},e.x=function(t){return arguments.length?(i=Nt(r=t),e):r},e.y=function(t){return arguments.length?(a=Nt(o=t),e):o},e.clipExtent=function(t){return arguments.length?(l=null==t?Za:t,e):l===Za?null:l},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):l===Za?null:l&&l[1]},e)};var Za=[[-1e6,-1e6],[1e6,1e6]];Qo.geom.delaunay=function(t){return Qo.geom.voronoi().triangles(t)},Qo.geom.quadtree=function(t,e,n,r,o){function i(t){function i(t,e,n,r,o,i,a,l){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var s=t.x,u=t.y;if(null!=s)if(ci(s-n)+ci(u-r)<.01)c(t,e,n,r,o,i,a,l);else{var A=t.point;t.x=t.y=t.point=null,c(t,A,s,u,o,i,a,l),c(t,e,n,r,o,i,a,l)}else t.x=n,t.y=r,t.point=e}else c(t,e,n,r,o,i,a,l)}function c(t,e,n,r,o,a,l,s){var c=.5*(o+l),u=.5*(a+s),A=n>=c,d=r>=u,h=(d<<1)+A;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){i(k,t,+w(t,++h),+y(t,h),p,g,v,m)}}),A?o=c:l=c,d?a=u:s=u,i(t,e,n,r,o,a,l,s)}var u,A,d,h,f,p,g,v,m,w=Nt(l),y=Nt(s);if(null!=e)p=e,g=n,v=r,m=o;else if(v=m=-(p=g=1/0),A=[],d=[],f=t.length,a)for(h=0;f>h;++h)(u=t[h]).x<p&&(p=u.x),u.y<g&&(g=u.y),u.x>v&&(v=u.x),u.y>m&&(m=u.y),A.push(u.x),d.push(u.y);else for(h=0;f>h;++h){var b=+w(u=t[h],h),_=+y(u,h);p>b&&(p=b),g>_&&(g=_),b>v&&(v=b),_>m&&(m=_),A.push(b),d.push(_)}var x=v-p,C=m-g;x>C?m=g+x:v=p+C;var k={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){i(k,t,+w(t,++h),+y(t,h),p,g,v,m)}};if(k.visit=function(t){!function t(e,n,r,o,i,a){if(!e(n,r,o,i,a)){var l=.5*(r+i),s=.5*(o+a),c=n.nodes;c[0]&&t(e,c[0],r,o,l,s),c[1]&&t(e,c[1],l,o,i,s),c[2]&&t(e,c[2],r,s,l,a),c[3]&&t(e,c[3],l,s,i,a)}}(t,k,p,g,v,m)},h=-1,null==e){for(;++h<f;)i(k,t[h],A[h],d[h],p,g,v,m);--h}else t.forEach(k.add);return A=d=t=u=null,k}var a,l=gn,s=vn;return(a=arguments.length)?(l=Yn,s=Gn,3===a&&(o=n,r=e,n=e=0),i(t)):(i.x=function(t){return arguments.length?(l=t,i):l},i.y=function(t){return arguments.length?(s=t,i):s},i.extent=function(t){return arguments.length?(null==t?e=n=r=o=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],o=+t[1][1]),i):null==e?null:[[e,n],[r,o]]},i.size=function(t){return arguments.length?(null==t?e=n=r=o=null:(e=n=0,r=+t[0],o=+t[1]),i):null==e?null:[r-e,o-n]},i)},Qo.interpolateRgb=Xn,Qo.interpolateObject=Kn,Qo.interpolateNumber=Qn,Qo.interpolateString=Jn;var tl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,el=new RegExp(tl.source,"g");Qo.interpolate=Zn,Qo.interpolators=[function(t,e){var n=void 0===e?"undefined":(0,l.default)(e);return("string"===n?Vi.has(e)||/^(#|rgb\(|hsl\()/.test(e)?Xn:Jn:e instanceof at?Xn:Array.isArray(e)?tr:"object"===n&&isNaN(e)?Kn:Qn)(t,e)}],Qo.interpolateArray=tr;var nl=function(){return Dt},rl=Qo.map({linear:nl,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return rr},cubic:function(){return or},sin:function(){return ar},exp:function(){return lr},circle:function(){return sr},elastic:function(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Si*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Si/e)}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},bounce:function(){return cr}}),ol=Qo.map({in:Dt,out:er,"in-out":nr,"out-in":function(t){return nr(er(t))}});Qo.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.substring(0,e):t,r=e>=0?t.substring(e+1):"in";return n=rl.get(n)||nl,function(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}((r=ol.get(r)||Dt)(n.apply(null,Jo.call(arguments,1))))},Qo.interpolateHcl=function(t,e){t=Qo.hcl(t),e=Qo.hcl(e);var n=t.h,r=t.c,o=t.l,i=e.h-n,a=e.c-r,l=e.l-o;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(i)?(i=0,n=isNaN(n)?e.h:n):i>180?i-=360:-180>i&&(i+=360),function(t){return dt(n+i*t,r+a*t,o+l*t)+""}},Qo.interpolateHsl=function(t,e){t=Qo.hsl(t),e=Qo.hsl(e);var n=t.h,r=t.s,o=t.l,i=e.h-n,a=e.s-r,l=e.l-o;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(i)?(i=0,n=isNaN(n)?e.h:n):i>180?i-=360:-180>i&&(i+=360),function(t){return ct(n+i*t,r+a*t,o+l*t)+""}},Qo.interpolateLab=function(t,e){t=Qo.lab(t),e=Qo.lab(e);var n=t.l,r=t.a,o=t.b,i=e.l-n,a=e.a-r,l=e.b-o;return function(t){return pt(n+i*t,r+a*t,o+l*t)+""}},Qo.interpolateRound=ur,Qo.transform=function(t){var e=ti.createElementNS(Qo.ns.prefix.svg,"g");return(Qo.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Ar(n?n.matrix:il)})(t)},Ar.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var il={a:1,b:0,c:0,d:1,e:0,f:0};Qo.interpolateTransform=fr,Qo.layout={},Qo.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(vr(t[n]));return e}},Qo.layout.chord=function(){function t(){var t,c,A,d,h,f={},p=[],g=Qo.range(i),v=[];for(n=[],r=[],t=0,d=-1;++d<i;){for(c=0,h=-1;++h<i;)c+=o[d][h];p.push(c),v.push(Qo.range(i)),t+=c}for(a&&g.sort(function(t,e){return a(p[t],p[e])}),l&&v.forEach(function(t,e){t.sort(function(t,n){return l(o[e][t],o[e][n])})}),t=(Si-u*i)/t,c=0,d=-1;++d<i;){for(A=c,h=-1;++h<i;){var m=g[d],w=v[m][h],y=o[m][w],b=c,_=c+=y*t;f[m+"-"+w]={index:m,subindex:w,startAngle:b,endAngle:_,value:y}}r[m]={index:m,startAngle:A,endAngle:c,value:(c-A)/t},c+=u}for(d=-1;++d<i;)for(h=d-1;++h<i;){var x=f[d+"-"+h],C=f[h+"-"+d];(x.value||C.value)&&n.push(x.value<C.value?{source:C,target:x}:{source:x,target:C})}s&&e()}function e(){n.sort(function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,o,i,a,l,s,c={},u=0;return c.matrix=function(t){return arguments.length?(i=(o=t)&&o.length,n=r=null,c):o},c.padding=function(t){return arguments.length?(u=t,n=r=null,c):u},c.sortGroups=function(t){return arguments.length?(a=t,n=r=null,c):a},c.sortSubgroups=function(t){return arguments.length?(l=t,n=null,c):l},c.sortChords=function(t){return arguments.length?(s=t,n&&e(),c):s},c.chords=function(){return n||t(),n},c.groups=function(){return r||t(),r},c},Qo.layout.force=function(){function t(t){return function(e,n,r,o){if(e.point!==t){var i=e.cx-t.x,a=e.cy-t.y,l=o-n,s=i*i+a*a;if(s>l*l/g){if(f>s){var c=e.charge/s;t.px-=i*c,t.py-=a*c}return!0}if(e.point&&s&&f>s){c=e.pointCharge/s;t.px-=i*c,t.py-=a*c}}return!e.charge}}function e(t){t.px=Qo.event.x,t.py=Qo.event.y,l.resume()}var n,r,o,i,a,l={},s=Qo.dispatch("start","tick","end"),c=[1,1],u=.9,A=al,d=ll,h=-30,f=sl,p=.1,g=.64,v=[],m=[];return l.tick=function(){if((r*=.99)<.005)return s.end({type:"end",alpha:r=0}),!0;var e,n,l,A,d,f,g,w,y,b=v.length,_=m.length;for(n=0;_>n;++n)A=(l=m[n]).source,(f=(w=(d=l.target).x-A.x)*w+(y=d.y-A.y)*y)&&(w*=f=r*i[n]*((f=Math.sqrt(f))-o[n])/f,y*=f,d.x-=w*(g=A.weight/(d.weight+A.weight)),d.y-=y*g,A.x+=w*(g=1-g),A.y+=y*g);if((g=r*p)&&(w=c[0]/2,y=c[1]/2,n=-1,g))for(;++n<b;)(l=v[n]).x+=(w-l.x)*g,l.y+=(y-l.y)*g;if(h)for(function t(e,n,r){var o=0,i=0;if(e.charge=0,!e.leaf)for(var a,l=e.nodes,s=l.length,c=-1;++c<s;)null!=(a=l[c])&&(t(a,n,r),e.charge+=a.charge,o+=a.charge*a.cx,i+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=n*r[e.point.index];e.charge+=e.pointCharge=u,o+=u*e.point.x,i+=u*e.point.y}e.cx=o/e.charge,e.cy=i/e.charge}(e=Qo.geom.quadtree(v),r,a),n=-1;++n<b;)(l=v[n]).fixed||e.visit(t(l));for(n=-1;++n<b;)(l=v[n]).fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*u,l.y-=(l.py-(l.py=l.y))*u);s.tick({type:"tick",alpha:r})},l.nodes=function(t){return arguments.length?(v=t,l):v},l.links=function(t){return arguments.length?(m=t,l):m},l.size=function(t){return arguments.length?(c=t,l):c},l.linkDistance=function(t){return arguments.length?(A="function"==typeof t?t:+t,l):A},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,l):d},l.friction=function(t){return arguments.length?(u=+t,l):u},l.charge=function(t){return arguments.length?(h="function"==typeof t?t:+t,l):h},l.chargeDistance=function(t){return arguments.length?(f=t*t,l):Math.sqrt(f)},l.gravity=function(t){return arguments.length?(p=+t,l):p},l.theta=function(t){return arguments.length?(g=t*t,l):Math.sqrt(g)},l.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(s.start({type:"start",alpha:r=t}),Qo.timer(l.tick)),l):r},l.start=function(){function t(t,r){if(!n){for(n=new Array(s),l=0;s>l;++l)n[l]=[];for(l=0;c>l;++l){var o=m[l];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var i,a=n[e],l=-1,c=a.length;++l<c;)if(!isNaN(i=a[l][t]))return i;return Math.random()*r}var e,n,r,s=v.length,u=m.length,f=c[0],p=c[1];for(e=0;s>e;++e)(r=v[e]).index=e,r.weight=0;for(e=0;u>e;++e)"number"==typeof(r=m[e]).source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(e=0;s>e;++e)r=v[e],isNaN(r.x)&&(r.x=t("x",f)),isNaN(r.y)&&(r.y=t("y",p)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(o=[],"function"==typeof A)for(e=0;u>e;++e)o[e]=+A.call(this,m[e],e);else for(e=0;u>e;++e)o[e]=A;if(i=[],"function"==typeof d)for(e=0;u>e;++e)i[e]=+d.call(this,m[e],e);else for(e=0;u>e;++e)i[e]=d;if(a=[],"function"==typeof h)for(e=0;s>e;++e)a[e]=+h.call(this,v[e],e);else for(e=0;s>e;++e)a[e]=h;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return n||(n=Qo.behavior.drag().origin(Dt).on("dragstart.force",wr).on("drag.force",e).on("dragend.force",yr)),arguments.length?void this.on("mouseover.force",br).on("mouseout.force",_r).call(n):n},Qo.rebind(l,s,"on")};var al=20,ll=1,sl=1/0;Qo.layout.hierarchy=function(){function t(i,a,l){var s=r.call(e,i,a);if(i.depth=a,l.push(i),s&&(c=s.length)){for(var c,u,A=-1,d=i.children=new Array(c),h=0,f=a+1;++A<c;)(u=d[A]=t(s[A],f,l)).parent=i,h+=u.value;n&&d.sort(n),o&&(i.value=h)}else delete i.children,o&&(i.value=+o.call(e,i,a)||0);return i}function e(e){var n=[];return t(e,0,n),n}var n=Mr,r=Cr,o=kr;return e.sort=function(t){return arguments.length?(n=t,e):n},e.children=function(t){return arguments.length?(r=t,e):r},e.value=function(t){return arguments.length?(o=t,e):o},e.revalue=function(t){return function t(n,r){var i=n.children,a=0;if(i&&(l=i.length))for(var l,s=-1,c=r+1;++s<l;)a+=t(i[s],c);else o&&(a=+o.call(e,n,r)||0);return o&&(n.value=a),a}(t,0),t},e},Qo.layout.partition=function(){function t(t,r){var o=e.call(this,t,r);return function t(e,n,r,o){var i=e.children;if(e.x=n,e.y=e.depth*o,e.dx=r,e.dy=o,i&&(a=i.length)){var a,l,s,c=-1;for(r=e.value?r/e.value:0;++c<a;)t(l=i[c],n,s=l.value*r,o),n+=s}}(o[0],0,n[0],n[1]/function t(e){var n=e.children,r=0;if(n&&(o=n.length))for(var o,i=-1;++i<o;)r=Math.max(r,t(n[i]));return 1+r}(o[0])),o}var e=Qo.layout.hierarchy(),n=[1,1];return t.size=function(e){return arguments.length?(n=e,t):n},xr(t,e)},Qo.layout.pie=function(){function t(i){var a=i.map(function(n,r){return+e.call(t,n,r)}),l=+("function"==typeof r?r.apply(this,arguments):r),s=(("function"==typeof o?o.apply(this,arguments):o)-l)/Qo.sum(a),c=Qo.range(i.length);null!=n&&c.sort(n===cl?function(t,e){return a[e]-a[t]}:function(t,e){return n(i[t],i[e])});var u=[];return c.forEach(function(t){var e;u[t]={data:i[t],value:e=a[t],startAngle:l,endAngle:l+=e*s}}),u}var e=Number,n=cl,r=0,o=Si;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(o=e,t):o},t};var cl={};Qo.layout.stack=function(){function t(l,s){var c=l.map(function(n,r){return e.call(t,n,r)}),u=c.map(function(e){return e.map(function(e,n){return[i.call(t,e,n),a.call(t,e,n)]})}),A=n.call(t,u,s);c=Qo.permute(c,A),u=Qo.permute(u,A);var d,h,f,p=r.call(t,u,s),g=c.length,v=c[0].length;for(h=0;v>h;++h)for(o.call(t,c[0][h],f=p[h],u[0][h][1]),d=1;g>d;++d)o.call(t,c[d][h],f+=u[d-1][h][1],u[d][h][1]);return l}var e=Dt,n=Dr,r=Pr,o=Nr,i=Er,a=Rr;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:ul.get(e)||Dr,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:Al.get(e)||Pr,t):r},t.x=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(o=e,t):o},t};var ul=Qo.map({"inside-out":function(t){var e,n,r=t.length,o=t.map(Tr),i=t.map(Ir),a=Qo.range(r).sort(function(t,e){return o[t]-o[e]}),l=0,s=0,c=[],u=[];for(e=0;r>e;++e)n=a[e],s>l?(l+=i[n],c.push(n)):(s+=i[n],u.push(n));return u.reverse().concat(c)},reverse:function(t){return Qo.range(t.length).reverse()},default:Dr}),Al=Qo.map({silhouette:function(t){var e,n,r,o=t.length,i=t[0].length,a=[],l=0,s=[];for(n=0;i>n;++n){for(e=0,r=0;o>e;e++)r+=t[e][n][1];r>l&&(l=r),a.push(r)}for(n=0;i>n;++n)s[n]=(l-a[n])/2;return s},wiggle:function(t){var e,n,r,o,i,a,l,s,c,u=t.length,A=t[0],d=A.length,h=[];for(h[0]=s=c=0,n=1;d>n;++n){for(e=0,o=0;u>e;++e)o+=t[e][n][1];for(e=0,i=0,l=A[n][0]-A[n-1][0];u>e;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*l);e>r;++r)a+=(t[r][n][1]-t[r][n-1][1])/l;i+=a*t[e][n][1]}h[n]=s-=o?i/o*l:0,c>s&&(c=s)}for(n=0;d>n;++n)h[n]-=c;return h},expand:function(t){var e,n,r,o=t.length,i=t[0].length,a=1/o,l=[];for(n=0;i>n;++n){for(e=0,r=0;o>e;e++)r+=t[e][n][1];if(r)for(e=0;o>e;e++)t[e][n][1]/=r;else for(e=0;o>e;e++)t[e][n][1]=a}for(n=0;i>n;++n)l[n]=0;return l},zero:Pr});Qo.layout.histogram=function(){function t(t,i){for(var a,l,s=[],c=t.map(n,this),u=r.call(this,c,i),A=o.call(this,u,c,i),d=(i=-1,c.length),h=A.length-1,f=e?1:1/d;++i<h;)(a=s[i]=[]).dx=A[i+1]-(a.x=A[i]),a.y=0;if(h>0)for(i=-1;++i<d;)(l=c[i])>=u[0]&&l<=u[1]&&((a=s[Qo.bisect(A,l,1,h)-1]).y+=f,a.push(t[i]));return s}var e=!0,n=Number,r=zr,o=$r;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Nt(e),t):r},t.bins=function(e){return arguments.length?(o="number"==typeof e?function(t){return Hr(t,e)}:Nt(e),t):o},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},Qo.layout.tree=function(){function t(t,i){function a(t,e,r){if(e){for(var o,i=t,a=t,l=e,s=t.parent.children[0],c=i._tree.mod,u=a._tree.mod,A=l._tree.mod,d=s._tree.mod;l=jr(l),i=Wr(i),l&&i;)s=Wr(s),(a=jr(a))._tree.ancestor=t,(o=l._tree.prelim+A-i._tree.prelim-c+n(l,i))>0&&(Yr(Gr(l,t,r),t,o),c+=o,u+=o),A+=l._tree.mod,c+=i._tree.mod,d+=s._tree.mod,u+=a._tree.mod;l&&!jr(a)&&(a._tree.thread=l,a._tree.mod+=A-u),i&&!Wr(s)&&(s._tree.thread=i,s._tree.mod+=c-d,r=t)}return r}var l=e.call(this,t,i),s=l[0];Vr(s,function(t,e){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}}),function t(e,r){var o=e.children,i=e._tree;if(o&&(l=o.length)){for(var l,s,c,u=o[0],A=u,d=-1;++d<l;)t(c=o[d],s),A=a(c,s,A),s=c;!function(t){for(var e,n=0,r=0,o=t.children,i=o.length;--i>=0;)(e=o[i]._tree).prelim+=n,e.mod+=n,n+=e.shift+(r+=e.change)}(e);var h=.5*(u._tree.prelim+c._tree.prelim);r?(i.prelim=r._tree.prelim+n(e,r),i.mod=i.prelim-h):i.prelim=h}else r&&(i.prelim=r._tree.prelim+n(e,r))}(s),function t(e,n){e.x=e._tree.prelim+n;var r=e.children;if(r&&(o=r.length)){var o,i=-1;for(n+=e._tree.mod;++i<o;)t(r[i],n)}}(s,-s._tree.prelim);var c=Or(s,Ur),u=Or(s,Br),A=Or(s,qr),d=c.x-n(c,u)/2,h=u.x+n(u,c)/2,f=A.depth||1;return Vr(s,o?function(t){t.x*=r[0],t.y=t.depth*r[1],delete t._tree}:function(t){t.x=(t.x-d)/(h-d)*r[0],t.y=t.depth/f*r[1],delete t._tree}),l}var e=Qo.layout.hierarchy().sort(null).value(null),n=Fr,r=[1,1],o=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(o=null==(r=e),t):o?null:r},t.nodeSize=function(e){return arguments.length?(o=null!=(r=e),t):o?r:null},xr(t,e)},Qo.layout.pack=function(){function t(t,i){var a=n.call(this,t,i),l=a[0],s=o[0],c=o[1],u=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(l.x=l.y=0,Vr(l,function(t){t.r=+u(t.value)}),Vr(l,Zr),r){var A=r*(e?1:Math.max(2*l.r/s,2*l.r/c))/2;Vr(l,function(t){t.r+=A}),Vr(l,Zr),Vr(l,function(t){t.r-=A})}return function t(e,n,r,o){var i=e.children;if(e.x=n+=o*e.x,e.y=r+=o*e.y,e.r*=o,i)for(var a=-1,l=i.length;++a<l;)t(i[a],n,r,o)}(l,s/2,c/2,e?1:1/Math.max(2*l.r/s,2*l.r/c)),a}var e,n=Qo.layout.hierarchy().sort(Xr),r=0,o=[1,1];return t.size=function(e){return arguments.length?(o=e,t):o},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},xr(t,n)},Qo.layout.cluster=function(){function t(t,i){var a,l=e.call(this,t,i),s=l[0],c=0;Vr(s,function(t){var e=t.children;e&&e.length?(t.x=function(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}(e),t.y=function(t){return 1+Qo.max(t,function(t){return t.y})}(e)):(t.x=a?c+=n(t,a):0,t.y=0,a=t)});var u=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(s),A=function t(e){var n,r=e.children;return r&&(n=r.length)?t(r[n-1]):e}(s),d=u.x-n(u,A)/2,h=A.x+n(A,u)/2;return Vr(s,o?function(t){t.x=(t.x-s.x)*r[0],t.y=(s.y-t.y)*r[1]}:function(t){t.x=(t.x-d)/(h-d)*r[0],t.y=(1-(s.y?t.y/s.y:1))*r[1]}),l}var e=Qo.layout.hierarchy().sort(null).value(null),n=Fr,r=[1,1],o=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(o=null==(r=e),t):o?null:r},t.nodeSize=function(e){return arguments.length?(o=null!=(r=e),t):o?r:null},xr(t,e)},Qo.layout.treemap=function(){function t(t,e){for(var n,r,o=-1,i=t.length;++o<i;)r=(n=t[o]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var i=n.children;if(i&&i.length){var a,l,s,c=d(n),u=[],A=i.slice(),h=1/0,p="slice"===f?c.dx:"dice"===f?c.dy:"slice-dice"===f?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(A,c.dx*c.dy/n.value),u.area=0;(s=A.length)>0;)u.push(a=A[s-1]),u.area+=a.area,"squarify"!==f||(l=r(u,p))<=h?(A.pop(),h=l):(u.area-=u.pop().area,o(u,p,c,!1),p=Math.min(c.dx,c.dy),u.length=u.area=0,h=1/0);u.length&&(o(u,p,c,!0),u.length=u.area=0),i.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var i,a=d(e),l=r.slice(),s=[];for(t(l,a.dx*a.dy/e.value),s.area=0;i=l.pop();)s.push(i),s.area+=i.area,null!=i.z&&(o(s,i.z?a.dx:a.dy,a,!l.length),s.length=s.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,o=0,i=1/0,a=-1,l=t.length;++a<l;)(n=t[a].area)&&(i>n&&(i=n),n>o&&(o=n));return e*=e,(r*=r)?Math.max(e*o*p/r,r/(e*i*p)):1/0}function o(t,e,n,r){var o,i=-1,a=t.length,l=n.x,s=n.y,u=e?c(t.area/e):0;if(e==n.dx){for((r||u>n.dy)&&(u=n.dy);++i<a;)(o=t[i]).x=l,o.y=s,o.dy=u,l+=o.dx=Math.min(n.x+n.dx-l,u?c(o.area/u):0);o.z=!0,o.dx+=n.x+n.dx-l,n.y+=u,n.dy-=u}else{for((r||u>n.dx)&&(u=n.dx);++i<a;)(o=t[i]).x=l,o.y=s,o.dx=u,s+=o.dy=Math.min(n.y+n.dy-s,u?c(o.area/u):0);o.z=!1,o.dy+=n.y+n.dy-s,n.x+=u,n.dx-=u}}function i(r){var o=a||s(r),i=o[0];return i.x=0,i.y=0,i.dx=u[0],i.dy=u[1],a&&s.revalue(i),t([i],i.dx*i.dy/i.value),(a?n:e)(i),h&&(a=o),o}var a,s=Qo.layout.hierarchy(),c=Math.round,u=[1,1],A=null,d=ro,h=!1,f="squarify",p=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(u=t,i):u},i.padding=function(t){function e(e){return oo(e,t)}return arguments.length?(d=null==(A=t)?ro:"function"==(n=void 0===t?"undefined":(0,l.default)(t))?function(e){var n=t.call(i,e,e.depth);return null==n?ro(e):oo(e,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(t=[t,t,t,t],e):e,i):A;var n},i.round=function(t){return arguments.length?(c=t?Math.round:Number,i):c!=Number},i.sticky=function(t){return arguments.length?(h=t,a=null,i):h},i.ratio=function(t){return arguments.length?(p=t,i):p},i.mode=function(t){return arguments.length?(f=t+"",i):f},xr(i,s)},Qo.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,o;do{o=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!o||o>1);return t+e*n*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=Qo.random.normal.apply(Qo,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=Qo.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},Qo.scale={};var dl={floor:Dt,ceil:Dt};Qo.scale.linear=function(){return function t(e,n,r,o){function i(){var t=Math.min(e.length,n.length)>2?co:lo,i=o?gr:pr;return l=t(e,n,i,r),s=t(n,e,i,Zn),a}function a(t){return l(t)}var l,s;return a.invert=function(t){return s(t)},a.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},a.range=function(t){return arguments.length?(n=t,i()):n},a.rangeRound=function(t){return a.range(t).interpolate(ur)},a.clamp=function(t){return arguments.length?(o=t,i()):o},a.interpolate=function(t){return arguments.length?(r=t,i()):r},a.ticks=function(t){return fo(e,t)},a.tickFormat=function(t,n){return po(e,t,n)},a.nice=function(t){return Ao(e,t),i()},a.copy=function(){return t(e,n,r,o)},i()}([0,1],[0,1],Zn,!1)};var hl={s:1,g:1,p:1,r:1,e:1};Qo.scale.log=function(){return function t(e,n,r,o){function i(t){return(r?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function a(t){return r?Math.pow(n,t):-Math.pow(n,-t)}function l(t){return e(i(t))}return l.invert=function(t){return a(e.invert(t))},l.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((o=t.map(Number)).map(i)),l):o},l.base=function(t){return arguments.length?(n=+t,e.domain(o.map(i)),l):n},l.nice=function(){var t=so(o.map(i),r?Math:pl);return e.domain(t),o=t.map(a),l},l.ticks=function(){var t=io(o),e=[],l=t[0],s=t[1],c=Math.floor(i(l)),u=Math.ceil(i(s)),A=n%1?2:n;if(isFinite(u-c)){if(r){for(;u>c;c++)for(var d=1;A>d;d++)e.push(a(c)*d);e.push(a(c))}else for(e.push(a(c));c++<u;)for(d=A-1;d>0;d--)e.push(a(c)*d);for(c=0;e[c]<l;c++);for(u=e.length;e[u-1]>s;u--);e=e.slice(c,u)}return e},l.tickFormat=function(t,e){if(!arguments.length)return fl;arguments.length<2?e=fl:"function"!=typeof e&&(e=Qo.format(e));var n,o=Math.max(.1,t/l.ticks().length),s=r?(n=1e-12,Math.ceil):(n=-1e-12,Math.floor);return function(t){return t/a(s(i(t)+n))<=o?e(t):""}},l.copy=function(){return t(e.copy(),n,r,o)},uo(l,e)}(Qo.scale.linear().domain([0,1]),10,!0,[1,10])};var fl=Qo.format(".0e"),pl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};Qo.scale.pow=function(){return function t(e,n,r){function o(t){return e(i(t))}var i=vo(n),a=vo(1/n);return o.invert=function(t){return a(e.invert(t))},o.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(i)),o):r},o.ticks=function(t){return fo(r,t)},o.tickFormat=function(t,e){return po(r,t,e)},o.nice=function(t){return o.domain(Ao(r,t))},o.exponent=function(t){return arguments.length?(i=vo(n=t),a=vo(1/n),e.domain(r.map(i)),o):n},o.copy=function(){return t(e.copy(),n,r)},uo(o,e)}(Qo.scale.linear(),1,[0,1])},Qo.scale.sqrt=function(){return Qo.scale.pow().exponent(.5)},Qo.scale.ordinal=function(){return function t(e,n){function r(t){return a[((i.get(t)||("range"===n.t?i.set(t,e.push(t)):NaN))-1)%a.length]}function o(t,n){return Qo.range(e.length).map(function(e){return t+n*e})}var i,a,l;return r.domain=function(t){if(!arguments.length)return e;e=[],i=new f;for(var o,a=-1,l=t.length;++a<l;)i.has(o=t[a])||i.set(o,e.push(o));return r[n.t].apply(r,n.a)},r.range=function(t){return arguments.length?(a=t,l=0,n={t:"range",a:arguments},r):a},r.rangePoints=function(t,i){arguments.length<2&&(i=0);var s=t[0],c=t[1],u=(c-s)/(Math.max(1,e.length-1)+i);return a=o(e.length<2?(s+c)/2:s+u*i/2,u),l=0,n={t:"rangePoints",a:arguments},r},r.rangeBands=function(t,i,s){arguments.length<2&&(i=0),arguments.length<3&&(s=i);var c=t[1]<t[0],u=t[c-0],A=(t[1-c]-u)/(e.length-i+2*s);return a=o(u+A*s,A),c&&a.reverse(),l=A*(1-i),n={t:"rangeBands",a:arguments},r},r.rangeRoundBands=function(t,i,s){arguments.length<2&&(i=0),arguments.length<3&&(s=i);var c=t[1]<t[0],u=t[c-0],A=t[1-c],d=Math.floor((A-u)/(e.length-i+2*s)),h=A-u-(e.length-i)*d;return a=o(u+Math.round(h/2),d),c&&a.reverse(),l=Math.round(d*(1-i)),n={t:"rangeRoundBands",a:arguments},r},r.rangeBand=function(){return l},r.rangeExtent=function(){return io(n.a[0])},r.copy=function(){return t(e,n)},r.domain(e)}([],{t:"range",a:[[]]})},Qo.scale.category10=function(){return Qo.scale.ordinal().range(gl)},Qo.scale.category20=function(){return Qo.scale.ordinal().range(vl)},Qo.scale.category20b=function(){return Qo.scale.ordinal().range(ml)},Qo.scale.category20c=function(){return Qo.scale.ordinal().range(wl)};var gl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(bt),vl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(bt),ml=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(bt),wl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(bt);Qo.scale.quantile=function(){return function t(e,r){function o(){var t=0,n=r.length;for(a=[];++t<n;)a[t-1]=Qo.quantile(e,t/n);return i}function i(t){return isNaN(t=+t)?void 0:r[Qo.bisect(a,t)]}var a;return i.domain=function(t){return arguments.length?(e=t.filter(u).sort(n),o()):e},i.range=function(t){return arguments.length?(r=t,o()):r},i.quantiles=function(){return a},i.invertExtent=function(t){return 0>(t=r.indexOf(t))?[NaN,NaN]:[t>0?a[t-1]:e[0],t<a.length?a[t]:e[e.length-1]]},i.copy=function(){return t(e,r)},o()}([],[])},Qo.scale.quantize=function(){return function t(e,n,r){function o(t){return r[Math.max(0,Math.min(l,Math.floor(a*(t-e))))]}function i(){return a=r.length/(n-e),l=r.length-1,o}var a,l;return o.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],i()):[e,n]},o.range=function(t){return arguments.length?(r=t,i()):r},o.invertExtent=function(t){return[t=0>(t=r.indexOf(t))?NaN:t/a+e,t+1/a]},o.copy=function(){return t(e,n,r)},i()}(0,1,[0,1])},Qo.scale.threshold=function(){return function t(e,n){function r(t){return t>=t?n[Qo.bisect(e,t)]:void 0}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return t(e,n)},r}([.5],[0,1])},Qo.scale.identity=function(){return function t(e){function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e},n.ticks=function(t){return fo(e,t)},n.tickFormat=function(t,n){return po(e,t,n)},n.copy=function(){return t(e)},n}([0,1])},Qo.svg={},Qo.svg.arc=function(){function t(){var t=e.apply(this,arguments),i=n.apply(this,arguments),a=r.apply(this,arguments)+yl,l=o.apply(this,arguments)+yl,s=(a>l&&(s=a,a=l,l=s),l-a),c=Mi>s?"0":"1",u=Math.cos(a),A=Math.sin(a),d=Math.cos(l),h=Math.sin(l);return s>=bl?t?"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"Z":t?"M"+i*u+","+i*A+"A"+i+","+i+" 0 "+c+",1 "+i*d+","+i*h+"L"+t*d+","+t*h+"A"+t+","+t+" 0 "+c+",0 "+t*u+","+t*A+"Z":"M"+i*u+","+i*A+"A"+i+","+i+" 0 "+c+",1 "+i*d+","+i*h+"L0,0Z"}var e=mo,n=wo,r=yo,o=bo;return t.innerRadius=function(n){return arguments.length?(e=Nt(n),t):e},t.outerRadius=function(e){return arguments.length?(n=Nt(e),t):n},t.startAngle=function(e){return arguments.length?(r=Nt(e),t):r},t.endAngle=function(e){return arguments.length?(o=Nt(e),t):o},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,i=(r.apply(this,arguments)+o.apply(this,arguments))/2+yl;return[Math.cos(i)*t,Math.sin(i)*t]},t};var yl=-Ei,bl=Si-Ri;Qo.svg.line=function(){return _o(Dt)};var _l=Qo.map({linear:xo,"linear-closed":function(t){return xo(t)+"Z"},step:function(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&o.push("H",r[0]),o.join("")},"step-before":Co,"step-after":ko,basis:Eo,"basis-open":function(t){if(t.length<4)return xo(t);for(var e,n=[],r=-1,o=t.length,i=[0],a=[0];++r<3;)e=t[r],i.push(e[0]),a.push(e[1]);for(n.push(Ro(kl,i)+","+Ro(kl,a)),--r;++r<o;)e=t[r],i.shift(),i.push(e[0]),a.shift(),a.push(e[1]),No(n,i,a);return n.join("")},"basis-closed":function(t){for(var e,n,r=-1,o=t.length,i=o+4,a=[],l=[];++r<4;)n=t[r%o],a.push(n[0]),l.push(n[1]);for(e=[Ro(kl,a),",",Ro(kl,l)],--r;++r<i;)n=t[r%o],a.shift(),a.push(n[0]),l.shift(),l.push(n[1]),No(e,a,l);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,o,i=t[0][0],a=t[0][1],l=t[n][0]-i,s=t[n][1]-a,c=-1;++c<=n;)o=c/n,(r=t[c])[0]=e*r[0]+(1-e)*(i+o*l),r[1]=e*r[1]+(1-e)*(a+o*s);return Eo(t)},cardinal:function(t,e){return t.length<3?xo(t):t[0]+Mo(t,So(t,e))},"cardinal-open":function(t,e){return t.length<4?xo(t):t[1]+Mo(t.slice(1,t.length-1),So(t,e))},"cardinal-closed":function(t,e){return t.length<3?xo(t):t[0]+Mo((t.push(t[0]),t),So([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?xo(t):t[0]+Mo(t,Po(t))}});_l.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var xl=[0,2/3,1/3,0],Cl=[0,1/3,2/3,0],kl=[0,1/6,2/3,1/6];Qo.svg.line.radial=function(){var t=_o(To);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Co.reverse=ko,ko.reverse=Co,Qo.svg.area=function(){return Io(Dt)},Qo.svg.area.radial=function(){var t=Io(To);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Qo.svg.chord=function(){function t(t,a){var l=e(this,o,t,a),s=e(this,i,t,a);return"M"+l.p0+n(l.r,l.p1,l.a1-l.a0)+(function(t,e){return t.a0==e.a0&&t.a1==e.a1}(l,s)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,s.r,s.p0)+n(s.r,s.p1,s.a1-s.a0)+r(s.r,s.p1,l.r,l.p0))+"Z"}function e(t,e,n,r){var o=e.call(t,n,r),i=a.call(t,o,r),c=l.call(t,o,r)+yl,u=s.call(t,o,r)+yl;return{r:i,a0:c,a1:u,p0:[i*Math.cos(c),i*Math.sin(c)],p1:[i*Math.cos(u),i*Math.sin(u)]}}function n(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Mi)+",1 "+e}function r(t,e,n,r){return"Q 0,0 "+r}var o=sn,i=cn,a=Lo,l=yo,s=bo;return t.radius=function(e){return arguments.length?(a=Nt(e),t):a},t.source=function(e){return arguments.length?(o=Nt(e),t):o},t.target=function(e){return arguments.length?(i=Nt(e),t):i},t.startAngle=function(e){return arguments.length?(l=Nt(e),t):l},t.endAngle=function(e){return arguments.length?(s=Nt(e),t):s},t},Qo.svg.diagonal=function(){function t(t,o){var i=e.call(this,t,o),a=n.call(this,t,o),l=(i.y+a.y)/2,s=[i,{x:i.x,y:l},{x:a.x,y:l},a];return"M"+(s=s.map(r))[0]+"C"+s[1]+" "+s[2]+" "+s[3]}var e=sn,n=cn,r=$o;return t.source=function(n){return arguments.length?(e=Nt(n),t):e},t.target=function(e){return arguments.length?(n=Nt(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},Qo.svg.diagonal.radial=function(){var t=Qo.svg.diagonal(),e=$o,n=t.projection;return t.projection=function(t){return arguments.length?n(function(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]+yl;return[n*Math.cos(r),n*Math.sin(r)]}}(e=t)):e},t},Qo.svg.symbol=function(){function t(t,r){return(Ml.get(e.call(this,t,r))||Fo)(n.call(this,t,r))}var e=zo,n=Ho;return t.type=function(n){return arguments.length?(e=Nt(n),t):e},t.size=function(e){return arguments.length?(n=Nt(e),t):n},t};var Ml=Qo.map({circle:Fo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Nl)),n=e*Nl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Rl),n=e*Rl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Rl),n=e*Rl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});Qo.svg.symbolTypes=Ml.keys();var Sl,El,Rl=Math.sqrt(3),Nl=Math.tan(30*Di),Dl=[],Pl=0;Dl.call=wi.call,Dl.empty=wi.empty,Dl.node=wi.node,Dl.size=wi.size,Qo.transition=function(t){return arguments.length?Sl?t.transition():t:_i.transition()},Qo.transition.prototype=Dl,Dl.select=function(t){var e,n,r,o=this.id,i=[];t=R(t);for(var a=-1,l=this.length;++a<l;){i.push(e=[]);for(var s=this[a],c=-1,u=s.length;++c<u;)(r=s[c])&&(n=t.call(r,r.__data__,c,a))?("__data__"in r&&(n.__data__=r.__data__),Bo(n,c,o,r.__transition__[o]),e.push(n)):e.push(null)}return Wo(i,o)},Dl.selectAll=function(t){var e,n,r,o,i,a=this.id,l=[];t=N(t);for(var s=-1,c=this.length;++s<c;)for(var u=this[s],A=-1,d=u.length;++A<d;)if(r=u[A]){i=r.__transition__[a],n=t.call(r,r.__data__,A,s),l.push(e=[]);for(var h=-1,f=n.length;++h<f;)(o=n[h])&&Bo(o,h,a,i),e.push(o)}return Wo(l,a)},Dl.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=j(t));for(var o=0,i=this.length;i>o;o++){r.push(e=[]);for(var a,l=0,s=(a=this[o]).length;s>l;l++)(n=a[l])&&t.call(n,n.__data__,l,o)&&e.push(n)}return Wo(r,this.id)},Dl.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):B(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(r){r.__transition__[n].tween.set(t,e)})},Dl.attr=function(t,e){function n(){this.removeAttribute(i)}function r(){this.removeAttributeNS(i.space,i.local)}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?fr:Zn,i=Qo.ns.qualify(t);return jo(this,"attr."+t,e,i.local?function(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(i.space,i.local);return n!==t&&(e=o(n,t),function(t){this.setAttributeNS(i.space,i.local,e(t))})})}:function(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(i);return n!==t&&(e=o(n,t),function(t){this.setAttribute(i,e(t))})})})},Dl.attrTween=function(t,e){var n=Qo.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,r){var o=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return o&&function(t){this.setAttributeNS(n.space,n.local,o(t))}}:function(t,r){var o=e.call(this,t,r,this.getAttribute(n));return o&&function(t){this.setAttribute(n,o(t))}})},Dl.style=function(t,e,n){function r(){this.style.removeProperty(t)}var o=arguments.length;if(3>o){if("string"!=typeof t){for(n in 2>o&&(e=""),t)this.style(n,t[n],e);return this}n=""}return jo(this,"style."+t,e,function(e){return null==e?r:(e+="",function(){var r,o=ni.getComputedStyle(this,null).getPropertyValue(t);return o!==e&&(r=Zn(o,e),function(e){this.style.setProperty(t,r(e),n)})})})},Dl.styleTween=function(t,e,n){return arguments.length<3&&(n=""),this.tween("style."+t,function(r,o){var i=e.call(this,r,o,ni.getComputedStyle(this,null).getPropertyValue(t));return i&&function(e){this.style.setProperty(t,i(e),n)}})},Dl.text=function(t){return jo(this,"text",t,Oo)},Dl.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},Dl.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=Qo.ease.apply(Qo,arguments)),B(this,function(n){n.__transition__[e].ease=t}))},Dl.delay=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].delay:B(this,"function"==typeof t?function(n,r,o){n.__transition__[e].delay=+t.call(n,n.__data__,r,o)}:(t=+t,function(n){n.__transition__[e].delay=t}))},Dl.duration=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].duration:B(this,"function"==typeof t?function(n,r,o){n.__transition__[e].duration=Math.max(1,t.call(n,n.__data__,r,o))}:(t=Math.max(1,t),function(n){n.__transition__[e].duration=t}))},Dl.each=function(t,e){var n=this.id;if(arguments.length<2){var r=El,o=Sl;Sl=n,B(this,function(e,r,o){El=e.__transition__[n],t.call(e,e.__data__,r,o)}),El=r,Sl=o}else B(this,function(r){var o=r.__transition__[n];(o.event||(o.event=Qo.dispatch("start","end"))).on(t,e)});return this},Dl.transition=function(){for(var t,e,n,r=this.id,o=++Pl,i=[],l=0,s=this.length;s>l;l++){i.push(t=[]);for(var c,u=0,A=(c=this[l]).length;A>u;u++)(e=c[u])&&((n=(0,a.default)(e.__transition__[r])).delay+=n.duration,Bo(e,u,o,n)),t.push(e)}return Wo(i,o)},Qo.svg.axis=function(){function t(t){t.each(function(){var t,c=Qo.select(this),u=this.__chart__||n,A=this.__chart__=n.copy(),d=null==s?A.ticks?A.ticks.apply(A,l):A.domain():s,h=null==e?A.tickFormat?A.tickFormat.apply(A,l):Dt:e,f=c.selectAll(".tick").data(d,A),p=f.enter().insert("g",".domain").attr("class","tick").style("opacity",Ri),g=Qo.transition(f.exit()).style("opacity",Ri).remove(),v=Qo.transition(f.order()).style("opacity",1),m=ao(A),w=c.selectAll(".domain").data([0]),y=(w.enter().append("path").attr("class","domain"),Qo.transition(w));p.append("line"),p.append("text");var b=p.select("line"),_=v.select("line"),x=f.select("text").text(h),C=p.select("text"),k=v.select("text");switch(r){case"bottom":t=Uo,b.attr("y2",o),C.attr("y",Math.max(o,0)+a),_.attr("x2",0).attr("y2",o),k.attr("x",0).attr("y",Math.max(o,0)+a),x.attr("dy",".71em").style("text-anchor","middle"),y.attr("d","M"+m[0]+","+i+"V0H"+m[1]+"V"+i);break;case"top":t=Uo,b.attr("y2",-o),C.attr("y",-(Math.max(o,0)+a)),_.attr("x2",0).attr("y2",-o),k.attr("x",0).attr("y",-(Math.max(o,0)+a)),x.attr("dy","0em").style("text-anchor","middle"),y.attr("d","M"+m[0]+","+-i+"V0H"+m[1]+"V"+-i);break;case"left":t=qo,b.attr("x2",-o),C.attr("x",-(Math.max(o,0)+a)),_.attr("x2",-o).attr("y2",0),k.attr("x",-(Math.max(o,0)+a)).attr("y",0),x.attr("dy",".32em").style("text-anchor","end"),y.attr("d","M"+-i+","+m[0]+"H0V"+m[1]+"H"+-i);break;case"right":t=qo,b.attr("x2",o),C.attr("x",Math.max(o,0)+a),_.attr("x2",o).attr("y2",0),k.attr("x",Math.max(o,0)+a).attr("y",0),x.attr("dy",".32em").style("text-anchor","start"),y.attr("d","M"+i+","+m[0]+"H0V"+m[1]+"H"+i)}if(A.rangeBand){var M=A,S=M.rangeBand()/2;u=A=function(t){return M(t)+S}}else u.rangeBand?u=A:g.call(t,A);p.call(t,u),v.call(t,A)})}var e,n=Qo.scale.linear(),r=Tl,o=6,i=6,a=3,l=[10],s=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Il?e+"":Tl,t):r},t.ticks=function(){return arguments.length?(l=arguments,t):l},t.tickValues=function(e){return arguments.length?(s=e,t):s},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(o=+e,i=+arguments[n-1],t):o},t.innerTickSize=function(e){return arguments.length?(o=+e,t):o},t.outerTickSize=function(e){return arguments.length?(i=+e,t):i},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Tl="bottom",Il={top:1,right:1,bottom:1,left:1};Qo.svg.brush=function(){function t(i){i.each(function(){var i=Qo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=i.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),i.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var l=i.selectAll(".resize").data(f,Dt);l.exit().remove(),l.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ll[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),l.style("display",t.empty()?"none":null);var u,A=Qo.transition(i),d=Qo.transition(a);s&&(u=ao(s),d.attr("x",u[0]).attr("width",u[1]-u[0]),n(A)),c&&(u=ao(c),d.attr("y",u[0]).attr("height",u[1]-u[0]),r(A)),e(A)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+u[+/e$/.test(t)]+","+A[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",u[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1]-u[0])}function r(t){t.select(".extent").attr("y",A[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",A[1]-A[0])}function o(){function o(){var t=Qo.mouse(m),o=!1;v&&(t[0]+=v[0],t[1]+=v[1]),M||(Qo.event.altKey?(g||(g=[(u[0]+u[1])/2,(A[0]+A[1])/2]),E[0]=u[+(t[0]<g[0])],E[1]=A[+(t[1]<g[1])]):g=null),x&&f(t,s,0)&&(n(b),o=!0),C&&f(t,c,1)&&(r(b),o=!0),o&&(e(b),y({type:"brush",mode:M?"move":"resize"}))}function f(t,e,n){var r,o,l=ao(e),s=l[0],c=l[1],f=E[n],p=n?A:u,v=p[1]-p[0];return M&&(s-=f,c-=v+f),r=(n?h:d)?Math.max(s,Math.min(c,t[n])):t[n],M?o=(r+=f)+v:(g&&(f=Math.max(s,Math.min(c,2*g[n]-r))),r>f?(o=r,r=f):o=f),p[0]!=r||p[1]!=o?(n?a=null:i=null,p[0]=r,p[1]=o,!0):void 0}function p(){o(),b.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Qo.select("body").style("cursor",null),R.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),S(),y({type:"brushend"})}var g,v,m=this,w=Qo.select(Qo.event.target),y=l.of(m,arguments),b=Qo.select(m),_=w.datum(),x=!/^(n|s)$/.test(_)&&s,C=!/^(e|w)$/.test(_)&&c,M=w.classed("extent"),S=X(),E=Qo.mouse(m),R=Qo.select(ni).on("keydown.brush",function(){32==Qo.event.keyCode&&(M||(g=null,E[0]-=u[1],E[1]-=A[1],M=2),k())}).on("keyup.brush",function(){32==Qo.event.keyCode&&2==M&&(E[0]+=u[1],E[1]+=A[1],M=0,k())});if(Qo.event.changedTouches?R.on("touchmove.brush",o).on("touchend.brush",p):R.on("mousemove.brush",o).on("mouseup.brush",p),b.interrupt().selectAll("*").interrupt(),M)E[0]=u[0]-E[0],E[1]=A[0]-E[1];else if(_){var N=+/w$/.test(_),D=+/^n/.test(_);v=[u[1-N]-E[0],A[1-D]-E[1]],E[0]=u[N],E[1]=A[D]}else Qo.event.altKey&&(g=E.slice());b.style("pointer-events","none").selectAll(".resize").style("display",null),Qo.select("body").style("cursor",w.style("cursor")),y({type:"brushstart"}),o()}var i,a,l=S(t,"brushstart","brush","brushend"),s=null,c=null,u=[0,0],A=[0,0],d=!0,h=!0,f=$l[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:u,y:A,i:i,j:a},n=this.__chart__||e;this.__chart__=e,Sl?Qo.select(this).transition().each("start.brush",function(){i=n.i,a=n.j,u=n.x,A=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=tr(u,e.x),r=tr(A,e.y);return i=a=null,function(o){u=e.x=n(o),A=e.y=r(o),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){i=e.i,a=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(f=$l[!(s=e)<<1|!c],t):s},t.y=function(e){return arguments.length?(f=$l[!s<<1|!(c=e)],t):c},t.clamp=function(e){return arguments.length?(s&&c?(d=!!e[0],h=!!e[1]):s?d=!!e:c&&(h=!!e),t):s&&c?[d,h]:s?d:c?h:null},t.extent=function(e){var n,r,o,l,d;return arguments.length?(s&&(n=e[0],r=e[1],c&&(n=n[0],r=r[0]),i=[n,r],s.invert&&(n=s(n),r=s(r)),n>r&&(d=n,n=r,r=d),(n!=u[0]||r!=u[1])&&(u=[n,r])),c&&(o=e[0],l=e[1],s&&(o=o[1],l=l[1]),a=[o,l],c.invert&&(o=c(o),l=c(l)),o>l&&(d=o,o=l,l=d),(o!=A[0]||l!=A[1])&&(A=[o,l])),t):(s&&(i?(n=i[0],r=i[1]):(n=u[0],r=u[1],s.invert&&(n=s.invert(n),r=s.invert(r)),n>r&&(d=n,n=r,r=d))),c&&(a?(o=a[0],l=a[1]):(o=A[0],l=A[1],c.invert&&(o=c.invert(o),l=c.invert(l)),o>l&&(d=o,o=l,l=d))),s&&c?[[n,o],[r,l]]:s?[n,r]:c&&[o,l])},t.clear=function(){return t.empty()||(u=[0,0],A=[0,0],i=a=null),t},t.empty=function(){return!!s&&u[0]==u[1]||!!c&&A[0]==A[1]},Qo.rebind(t,l,"on")};var Ll={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$l=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Hl=na.format=sa.timeFormat,zl=Hl.utc,Fl=zl("%Y-%m-%dT%H:%M:%S.%LZ");Hl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Vo:Fl,Vo.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Vo.toString=Fl.toString,na.second=Wt(function(t){return new ra(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),na.seconds=na.second.range,na.seconds.utc=na.second.utc.range,na.minute=Wt(function(t){return new ra(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),na.minutes=na.minute.range,na.minutes.utc=na.minute.utc.range,na.hour=Wt(function(t){var e=t.getTimezoneOffset()/60;return new ra(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),na.hours=na.hour.range,na.hours.utc=na.hour.utc.range,na.month=Wt(function(t){return(t=na.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),na.months=na.month.range,na.months.utc=na.month.utc.range;var Wl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],jl=[[na.second,1],[na.second,5],[na.second,15],[na.second,30],[na.minute,1],[na.minute,5],[na.minute,15],[na.minute,30],[na.hour,1],[na.hour,3],[na.hour,6],[na.hour,12],[na.day,1],[na.day,2],[na.week,1],[na.month,1],[na.month,3],[na.year,1]],Ol=Hl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Me]]),Bl={range:function(t,e,n){return Qo.range(Math.ceil(t/n)*n,+e,n).map(Go)},floor:Dt,ceil:Dt};jl.year=na.year,na.scale=function(){return Yo(Qo.scale.linear(),jl,Ol)};var Ul=jl.map(function(t){return[t[0].utc,t[1]]}),ql=zl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Me]]);Ul.year=na.year.utc,na.scale.utc=function(){return Yo(Qo.scale.linear(),Ul,ql)},Qo.text=Pt(function(t){return t.responseText}),Qo.json=function(t,e){return Tt(t,"application/json",Xo,e)},Qo.html=function(t,e){return Tt(t,"text/html",Ko,e)},Qo.xml=Pt(function(t){return t.responseXML}),o=[],void 0===(i="function"==typeof(r=Qo)?r.apply(e,o):r)||(t.exports=i)}()},284:function(t,e){t.exports="data:image/gif;base64,R0lGODlhAgAYAIcAANDQ0Ovs7uzt7+3u8O7v8e/w8vDx8/Hy9Pn5+QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAP8ALAAAAAACABgAAAghABEIHEiwYMEDCA8YWMiwgMMCBAgMmDhAgIAAGAMAABAQADs="},285:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAFCAYAAACXU8ZrAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90FFBEYNbyjf9QAAAAqSURBVAjXY2BAA8ePH/+PLsaIS4GlpSUjhiJsJsAUMuJSgKyQEZ8CGAAALJASrUlNPiEAAAAASUVORK5CYII="},286:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAFCAYAAACXU8ZrAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90FAQEEApmIg1sAAAAIdEVYdENvbW1lbnQA9syWvwAAAClJREFUCNdjYEAD7e3t/9HFGHEpqKysZMRQhM0EmEJGXAqQFTLiUwADAGgBES2sBUVoAAAAAElFTkSuQmCC"},289:function(t,e,n){var r=n(290);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,o);r.locals&&(t.exports=r.locals)},290:function(t,e,n){var r=n(38);(t.exports=n(36)(!1)).push([t.i,"/*\nIMPORTANT:\nIn order to preserve the uniform grid appearance, all cell styles need to have padding, margin and border sizes.\nNo built-in (selected, editable, highlight, flashing, invalid, loading, :focus) or user-specified CSS\nclasses should alter those!\n*/\n\n.slick-header.ui-state-default, .slick-headerrow.ui-state-default {\n  width: 100%;\n  overflow: hidden;\n  border-left: 0px;\n}\n\n.slick-header-columns, .slick-headerrow-columns {\n  position: relative;\n  white-space: nowrap;\n  cursor: default;\n  overflow: hidden;\n}\n\n.slick-header-column.ui-state-default {\n  position: relative;\n  display: inline-block;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  height: 16px;\n  line-height: 16px;\n  margin: 0;\n  padding: 4px;\n  border-right: 1px solid silver;\n  border-left: 0px;\n  border-top: 0px;\n  border-bottom: 0px;\n  float: left;\n}\n\n.slick-headerrow-column.ui-state-default {\n  padding: 4px;\n}\n\n.slick-header-column-sorted {\n  font-style: italic;\n}\n\n.slick-sort-indicator {\n  display: inline-block;\n  width: 8px;\n  height: 5px;\n  margin-left: 4px;\n  margin-top: 6px;\n  float: left;\n}\n\n.slick-sort-indicator-desc {\n  background: url("+r(n(291))+");\n}\n\n.slick-sort-indicator-asc {\n  background: url("+r(n(292))+");\n}\n\n.slick-resizable-handle {\n  position: absolute;\n  font-size: 0.1px;\n  display: block;\n  cursor: col-resize;\n  width: 4px;\n  right: 0px;\n  top: 0;\n  height: 100%;\n}\n\n.slick-sortable-placeholder {\n  background: silver;\n}\n\n.grid-canvas {\n  position: relative;\n  outline: 0;\n}\n\n.slick-row.ui-widget-content, .slick-row.ui-state-active {\n  position: absolute;\n  border: 0px;\n  width: 100%;\n}\n\n.slick-cell, .slick-headerrow-column {\n  position: absolute;\n  border: 1px solid transparent;\n  border-right: 1px dotted silver;\n  border-bottom-color: silver;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n  z-index: 1;\n  padding: 1px 2px 2px 1px;\n  margin: 0;\n  white-space: nowrap;\n  cursor: default;\n}\n\n.slick-group {\n}\n\n.slick-group-toggle {\n  display: inline-block;\n}\n\n.slick-cell.highlighted {\n  background: lightskyblue;\n  background: rgba(0, 0, 255, 0.2);\n  -webkit-transition: all 0.5s;\n  -moz-transition: all 0.5s;\n  -o-transition: all 0.5s;\n  transition: all 0.5s;\n}\n\n.slick-cell.flashing {\n  border: 1px solid red !important;\n}\n\n.slick-cell.editable {\n  z-index: 11;\n  overflow: visible;\n  background: white;\n  border-color: black;\n  border-style: solid;\n}\n\n.slick-cell:focus {\n  outline: none;\n}\n\n.slick-reorder-proxy {\n  display: inline-block;\n  background: blue;\n  opacity: 0.15;\n  filter: alpha(opacity = 15);\n  cursor: move;\n}\n\n.slick-reorder-guide {\n  display: inline-block;\n  height: 2px;\n  background: blue;\n  opacity: 0.7;\n  filter: alpha(opacity = 70);\n}\n\n.slick-selection {\n  z-index: 10;\n  position: absolute;\n  border: 2px dashed black;\n}\n",""])},291:function(t,e){t.exports="data:image/gif;base64,R0lGODlhDQAFAIcAAGGQzUD/QOPu+wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAMAAAEALAAAAAANAAUAAAgeAAUAGEgQgIAACBEKLHgwYcKFBh1KFNhQosOKEgMCADs="},292:function(t,e){t.exports="data:image/gif;base64,R0lGODlhDQAFAIcAAGGQzUD/QOPu+wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAMAAAEALAAAAAANAAUAAAgbAAMIDABgoEGDABIeRJhQ4cKGEA8KmEiRosGAADs="},293:function(t,e,n){var r=n(294);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,o);r.locals&&(t.exports=r.locals)},294:function(t,e,n){var r=n(38);(t.exports=n(36)(!1)).push([t.i,"/*\nIMPORTANT:\nIn order to preserve the uniform grid appearance, all cell styles need to have padding, margin and border sizes.\nNo built-in (selected, editable, highlight, flashing, invalid, loading, :focus) or user-specified CSS\nclasses should alter those!\n*/\n\n.slick-header-columns {\n  background: url("+r(n(284))+") repeat-x center bottom;\n  border-bottom: 1px solid silver;\n}\n\n.slick-header-column {\n  background: url("+r(n(284))+") repeat-x center bottom;\n  border-right: 1px solid silver;\n}\n\n.slick-header-column:hover, .slick-header-column-active {\n  background: white url("+r(n(295))+") repeat-x center bottom;\n}\n\n.slick-headerrow {\n  background: #fafafa;\n}\n\n.slick-headerrow-column {\n  background: #fafafa;\n  border-bottom: 0;\n  height: 100%;\n}\n\n.slick-row.ui-state-active {\n  background: #F5F7D7;\n}\n\n.slick-row {\n  position: absolute;\n  background: white;\n  border: 0px;\n  line-height: 20px;\n}\n\n.slick-row.selected {\n  z-index: 10;\n  background: #DFE8F6;\n}\n\n.slick-cell {\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n.slick-group {\n  border-bottom: 2px solid silver;\n}\n\n.slick-group-toggle {\n  width: 9px;\n  height: 9px;\n  margin-right: 5px;\n}\n\n.slick-group-toggle.expanded {\n  background: url("+r(n(296))+") no-repeat center center;\n}\n\n.slick-group-toggle.collapsed {\n  background: url("+r(n(297))+") no-repeat center center;\n}\n\n.slick-group-totals {\n  color: gray;\n  background: white;\n}\n\n.slick-cell.selected {\n  background-color: beige;\n}\n\n.slick-cell.active {\n  border-color: gray;\n  border-style: solid;\n}\n\n.slick-sortable-placeholder {\n  background: silver !important;\n}\n\n.slick-row.odd {\n  background: #fafafa;\n}\n\n.slick-row.ui-state-active {\n  background: #F5F7D7;\n}\n\n.slick-row.loading {\n  opacity: 0.5;\n  filter: alpha(opacity = 50);\n}\n\n.slick-cell.invalid {\n  border-color: red;\n  -moz-animation-duration: 0.2s;\n  -webkit-animation-duration: 0.2s;\n  -moz-animation-name: slickgrid-invalid-hilite;\n  -webkit-animation-name: slickgrid-invalid-hilite;  \n}\n\n@-moz-keyframes slickgrid-invalid-hilite {\n  from { box-shadow: 0 0 6px red; }\n  to { box-shadow: none; }\n}\n\n@-webkit-keyframes slickgrid-invalid-hilite {\n  from { box-shadow: 0 0 6px red; }\n  to { box-shadow: none; }\n}",""])},295:function(t,e){t.exports="data:image/gif;base64,R0lGODlhAgAWAIcAAKrM9tno++vz/QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAP8ALAAAAAACABYAAAgUAAUIHEiwoIAACBMqXMhwIQAAAQEAOw=="},296:function(t,e){t.exports="data:image/gif;base64,R0lGODlhCQAJAPcAAAFGeoCAgNXz/+v5/+v6/+z5/+36//L7//X8//j9/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAACQAJAAAIMwADCBxIUIDBgwIEChgwwECBAgQUFjBAkaJCABgxGlB4AGHCAAIQiBypEEECkScJqgwQEAA7"},297:function(t,e){t.exports="data:image/gif;base64,R0lGODlhCQAJAPcAAAFGeoCAgNXz/+v5/+v6/+z5/+36//L7//X8//j9/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAACQAJAAAIOAADCBxIUIDBgwIEChgwAECBAgQUFjAAQIABAwoBaNSIMYCAAwIqGlSIAEHFkiQTIBCgkqDLAAEBADs="},298:function(t,e,n){var r=n(299);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,o);r.locals&&(t.exports=r.locals)},299:function(t,e,n){(t.exports=n(36)(!1)).push([t.i,'.slick-column-name,\n.slick-sort-indicator {\n  /**\n   * This makes all "float:right" elements after it that spill over to the next line\n   * display way below the lower boundary of the column thus hiding them.\n   */\n  display: inline-block;\n  float: left;\n  margin-bottom: 100px;\n}\n\n.slick-header-button {\n  display: inline-block;\n  float: right;\n  vertical-align: top;\n  margin: 1px;\n  /**\n  * This makes all "float:right" elements after it that spill over to the next line\n  * display way below the lower boundary of the column thus hiding them.\n  */\n  margin-bottom: 100px;\n  height: 15px;\n  width: 15px;\n  background-repeat: no-repeat;\n  background-position: center center;\n  cursor: pointer;\n}\n\n.slick-header-button-hidden {\n  width: 0;\n\n  -webkit-transition: 0.2s width;\n  -ms-transition: 0.2s width;\n  transition: 0.2s width;\n}\n\n.slick-header-column:hover > .slick-header-button {\n  width: 15px;\n}',""])},300:function(t,e,n){var r=n(301);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,o);r.locals&&(t.exports=r.locals)},301:function(t,e,n){var r=n(38);(t.exports=n(36)(!1)).push([t.i,'/* Copyright (c) 2013, 2018 National Technology and Engineering Solutions of Sandia, LLC . Under the terms of Contract  DE-NA0003525 with National Technology and Engineering Solutions of Sandia, LLC, the U.S. Government  retains certain rights in this software. */\n\n/* Absolute positioning SlickGrid container to get it to fit the box completely */\n#timeseries-table-slickgrid {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n}\n\n.ui-widget {\n\tfont-family: helvetica,arial,sans-serif;\n}\n.slick-header-columns,\n.slick-header-column,\n.slick-header-column:hover, \n.slick-header-column-active\n{\n  background-image: none;\n}\n.slick-header-column.headerSimId.selected {\n\tbackground-color: #888888;\n\tcolor: white;\n}\n.slick-header-column.headerInput.selected {\n\tbackground-color: #3CA654;\n\tcolor: white;\n}\n.slick-header {\n\tbackground-color: transparent;\n\tbackground-image: none;\n}\n.headerSimId,\n.headerOther {\n\tbackground-color: transparent;\n}\n.rowSimId,\n.rowOther {\n\tbackground-color: transparent;\n}\n.rowSimId.selected,\n.rowOther.selected {\n\tbackground-color: #DDDDDD;\n}\n.headerInput {\n    background-color: #EEFFE0;\n}\n.rowInput {\n\tbackground-color: #C7E9C0;\n}\n.rowInput.selected {\n\tbackground-color: #3CA654;\n\tcolor: white;\n}\n.headerOutput {\n    background-color: #EEEEFF;\n}\n.rowOutput {\n\tbackground-color: #DBD9EB;\n}\n.rowOutput.selected {\n\tbackground-color: #7767B0;\n\tcolor: white;\n}\n\n/* Removing zebra striping */\n.slick-row[row$="1"], .slick-row[row$="3"], .slick-row[row$="5"], .slick-row[row$="7"], .slick-row[row$="9"] {\n    background-color: transparent;\n}\n.slick-row.odd {\n\tbackground-color: white;\n}\n\n.slick-cell,\n.slick-header-column\n{\n\tcolor: #666655;\n\tfont-size: small;\n}\n.slick-header-column {\n\tfont-weight: bold;\n}\n.highlight {\n\tpadding: 0;\n\theight: auto !important;\n}\n.highlightWrapper {\n  color: white;\n\tpadding: 2px 4px 3px 4px;\n}\n.highlightWrapper.light {\n\t/*color: #666655;*/\n\tcolor: black;\n}\n/* Stripe backgrounds generated using http://www.stripegenerator.com */\n.highlightWrapper.null {\n\tbackground: #DDDDDD url('+r(n(302))+") !important;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n.selected .highlightWrapper.null {\n\tbackground-image: url("+r(n(303))+") !important;\n}\n.highlight .highlightWrapper.null {\n\tposition: static;\n}\n\n/* Removing borders around cells */\n.slick-cell, .slick-headerrow-column {\n\tborder-width: 0px;\n}\n.slick-header-columns {\n\tborder-bottom-width: 0px;\n}\n\n/* Styling sort controls */\n.icon-sort-off {\n\tborder: 1px solid transparent;\n}\n.slick-header-column:hover .icon-sort-off {\n\tborder: 1px solid transparent;\n\tbackground: transparent url("+r(n(285))+") no-repeat center center;\n}\n.icon-sort-off:hover {\n\tborder: 1px solid #C7C7C7 !important;\n}\n.icon-sort-ascending {\n\tborder: 1px solid transparent;\n\tbackground: transparent url("+r(n(286))+") no-repeat center center;\n}\n.icon-sort-descending {\n\tborder: 1px solid transparent;\n\tbackground: transparent url("+r(n(304))+") no-repeat center center;\n}\n.icon-sort-ascending:hover,\n.icon-sort-descending:hover\n{\n\tborder: 1px solid #878787;\n}\n\n/* Alex making buttons always have space */\n.slick-column-name, \n.slick-sort-indicator\n{\n\tdisplay: inline;\n\tfloat: none;\n\tmargin-bottom: 0px;\n}\n.slick-header-button {\n\tfloat: none;\n\tposition: absolute;\n\ttop: 3px;\n  right: 3px;\n}\n.slick-header-button.image-test-class {\n  right: 20px;\n}\n.slick-header-column {\n\tpadding-right: 23px !important;\n}\n.slick-row.nullRow .slick-cell,\n.slick-row.nullRow .slick-cell .highlightWrapper\n{\n\tbackground-color: white !important;\n\tcolor: #666655 !important;\n}\n.slick-row.nullRow .slick-cell.selected,\n.slick-row.nullRow .slick-cell.selected .highlightWrapper\n{\n\tbackground-color: #DDDDDD !important;\n\tcolor: #666655 !important;\n}\n.slick-row.hiddenRow .slick-cell,\n.slick-row.hiddenRow .slick-cell .highlightWrapper\n{\n\tbackground-color: white !important;\n\tcolor: #c7c7c7 !important;\n}\n.slick-row.hiddenRow .slick-cell.selected,\n.slick-row.hiddenRow .slick-cell.selected .highlightWrapper\n{\n\tbackground-color: #F5F5DC !important;\n\tcolor: #c7c7c7 !important;\n}",""])},302:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAADCAIAAADZSiLoAAAAH0lEQVQImSXIMQEAMAwCMOpfC1jMjuVM2gKHJNuC3w87vxULvAnaoQAAAABJRU5ErkJggg=="},303:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAADCAIAAADZSiLoAAAAIklEQVQImWNcu3atgYEBAwMD4927dxkYGC5cuMAEoQwMDACgZgqjfO75sQAAAABJRU5ErkJggg=="},304:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAFCAYAAACXU8ZrAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90FAQECOX7ZzfkAAAAIdEVYdENvbW1lbnQA9syWvwAAAC5JREFUCNdjbG9v/89AADAyMDAw4FNYWVnJyAjjYFNYWVnJCDcJm0KYAqwAm4kAaJURLWsFPcIAAAAASUVORK5CYII="},305:function(t,e,n){"use strict";(function(t){!function(t){t.fn.drag=function(e,n,r){var o="string"==typeof e?e:"",i=t.isFunction(e)?e:t.isFunction(n)?n:null;return 0!==o.indexOf("drag")&&(o="drag"+o),r=(e==i?n:r)||{},i?this.bind(o,r,i):this.trigger(o)};var e=t.event,n=e.special,r=n.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(e){var n=t.data(this,r.datakey),o=e.data||{};n.related+=1,t.each(r.defaults,function(t,e){void 0!==o[t]&&(n[t]=o[t])})},remove:function(){t.data(this,r.datakey).related-=1},setup:function(){if(!t.data(this,r.datakey)){var n=t.extend({related:0},r.defaults);t.data(this,r.datakey,n),e.add(this,"touchstart mousedown",r.init,n),this.attachEvent&&this.attachEvent("ondragstart",r.dontstart)}},teardown:function(){(t.data(this,r.datakey)||{}).related||(t.removeData(this,r.datakey),e.remove(this,"touchstart mousedown",r.init),r.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",r.dontstart))},init:function(o){if(!r.touched){var i,a=o.data;if(!(0!=o.which&&a.which>0&&o.which!=a.which)&&!t(o.target).is(a.not)&&(!a.handle||t(o.target).closest(a.handle,o.currentTarget).length)&&(r.touched="touchstart"==o.type?this:null,a.propagates=1,a.mousedown=this,a.interactions=[r.interaction(this,a)],a.target=o.target,a.pageX=o.pageX,a.pageY=o.pageY,a.dragging=null,i=r.hijack(o,"draginit",a),a.propagates))return(i=r.flatten(i))&&i.length&&(a.interactions=[],t.each(i,function(){a.interactions.push(r.interaction(this,a))})),a.propagates=a.interactions.length,!1!==a.drop&&n.drop&&n.drop.handler(o,a),r.textselect(!1),r.touched?e.add(r.touched,"touchmove touchend",r.handler,a):e.add(document,"mousemove mouseup",r.handler,a),!(!r.touched||a.live)&&void 0}},interaction:function(e,n){var o=t(e)[n.relative?"position":"offset"]()||{top:0,left:0};return{drag:e,callback:new r.callback,droppable:[],offset:o}},handler:function(o){var i=o.data;switch(o.type){case!i.dragging&&"touchmove":o.preventDefault();case!i.dragging&&"mousemove":if(Math.pow(o.pageX-i.pageX,2)+Math.pow(o.pageY-i.pageY,2)<Math.pow(i.distance,2))break;o.target=i.target,r.hijack(o,"dragstart",i),i.propagates&&(i.dragging=!0);case"touchmove":o.preventDefault();case"mousemove":if(i.dragging){if(r.hijack(o,"drag",i),i.propagates){!1!==i.drop&&n.drop&&n.drop.handler(o,i);break}o.type="mouseup"}case"touchend":case"mouseup":default:r.touched?e.remove(r.touched,"touchmove touchend",r.handler):e.remove(document,"mousemove mouseup",r.handler),i.dragging&&(!1!==i.drop&&n.drop&&n.drop.handler(o,i),r.hijack(o,"dragend",i)),r.textselect(!0),!1===i.click&&i.dragging&&t.data(i.mousedown,"suppress.click",(new Date).getTime()+5),i.dragging=r.touched=!1}},hijack:function(n,o,i,a,l){if(i){var s,c,u,A={event:n.originalEvent,type:n.type},d=o.indexOf("drop")?"drag":"drop",h=a||0,f=isNaN(a)?i.interactions.length:a;n.type=o,n.originalEvent=null,i.results=[];do{if(c=i.interactions[h]){if("dragend"!==o&&c.cancelled)continue;u=r.properties(n,i,c),c.results=[],t(l||c[d]||i.droppable).each(function(a,l){if(u.target=l,n.isPropagationStopped=function(){return!1},!1===(s=l?e.dispatch.call(l,n,u):null)?("drag"==d&&(c.cancelled=!0,i.propagates-=1),"drop"==o&&(c[d][a]=null)):"dropinit"==o&&c.droppable.push(r.element(s)||l),"dragstart"==o&&(c.proxy=t(r.element(s)||c.drag)[0]),c.results.push(s),delete n.result,"dropinit"!==o)return s}),i.results[h]=r.flatten(c.results),"dropinit"==o&&(c.droppable=r.flatten(c.droppable)),"dragstart"!=o||c.cancelled||u.update()}}while(++h<f);return n.type=A.type,n.originalEvent=A.event,r.flatten(i.results)}},properties:function(t,e,n){var o=n.callback;return o.drag=n.drag,o.proxy=n.proxy||n.drag,o.startX=e.pageX,o.startY=e.pageY,o.deltaX=t.pageX-e.pageX,o.deltaY=t.pageY-e.pageY,o.originalX=n.offset.left,o.originalY=n.offset.top,o.offsetX=o.originalX+o.deltaX,o.offsetY=o.originalY+o.deltaY,o.drop=r.flatten((n.drop||[]).slice()),o.available=r.flatten((n.droppable||[]).slice()),o},element:function(t){if(t&&(t.jquery||1==t.nodeType))return t},flatten:function(e){return t.map(e,function(e){return e&&e.jquery?t.makeArray(e):e&&e.length?r.flatten(e):e})},textselect:function(e){t(document)[e?"unbind":"bind"]("selectstart",r.dontstart).css("MozUserSelect",e?"":"none"),document.unselectable=e?"off":"on"},dontstart:function(){return!1},callback:function(){}};r.callback.prototype={update:function(){n.drop&&this.available.length&&t.each(this.available,function(t){n.drop.locate(this,t)})}};var o=e.dispatch;e.dispatch=function(e){if(!(t.data(this,"suppress."+e.type)-(new Date).getTime()>0))return o.apply(this,arguments);t.removeData(this,"suppress."+e.type)};var i=e.fixHooks.touchstart=e.fixHooks.touchmove=e.fixHooks.touchend=e.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(e,n){if(n){var r=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0]||null;r&&t.each(i.props,function(t,n){e[n]=r[n]})}return e}};n.draginit=n.dragstart=n.dragend=r}(t)}).call(this,n(1))},306:function(t,e,n){"use strict";(function(t){!function(e){function n(){var t=!1,e=!1;this.stopPropagation=function(){t=!0},this.isPropagationStopped=function(){return t},this.stopImmediatePropagation=function(){e=!0},this.isImmediatePropagationStopped=function(){return e}}function r(){this.__nonDataRow=!0}function o(){this.__group=!0,this.level=0,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.totals=null,this.rows=[],this.groups=null,this.groupingKey=null}function i(){this.__groupTotals=!0,this.group=null,this.initialized=!1}function a(){var t=null;this.isActive=function(e){return e?t===e:null!==t},this.activate=function(e){if(e!==t){if(null!==t)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!e.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!e.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";t=e}},this.deactivate=function(e){if(t!==e)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";t=null},this.commitCurrentEdit=function(){return!t||t.commitCurrentEdit()},this.cancelCurrentEdit=function(){return!t||t.cancelCurrentEdit()}}t.extend(!0,window,{Slick:{Event:function(){var t=[];this.subscribe=function(e){t.push(e)},this.unsubscribe=function(e){for(var n=t.length-1;n>=0;n--)t[n]===e&&t.splice(n,1)},this.notify=function(e,r,o){var i;r=r||new n,o=o||this;for(var a=0;a<t.length&&!r.isPropagationStopped()&&!r.isImmediatePropagationStopped();a++)i=t[a].call(o,r,e);return i}},EventData:n,EventHandler:function(){var t=[];this.subscribe=function(e,n){return t.push({event:e,handler:n}),e.subscribe(n),this},this.unsubscribe=function(e,n){for(var r=t.length;r--;)if(t[r].event===e&&t[r].handler===n)return t.splice(r,1),void e.unsubscribe(n);return this},this.unsubscribeAll=function(){for(var e=t.length;e--;)t[e].event.unsubscribe(t[e].handler);return t=[],this}},Range:function(t,e,n,r){void 0===n&&void 0===r&&(n=t,r=e);this.fromRow=Math.min(t,n),this.fromCell=Math.min(e,r),this.toRow=Math.max(t,n),this.toCell=Math.max(e,r),this.isSingleRow=function(){return this.fromRow==this.toRow},this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell},this.contains=function(t,e){return t>=this.fromRow&&t<=this.toRow&&e>=this.fromCell&&e<=this.toCell},this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}},NonDataRow:r,Group:o,GroupTotals:i,EditorLock:a,GlobalEditorLock:new a}}),o.prototype=new r,o.prototype.equals=function(t){return this.value===t.value&&this.count===t.count&&this.collapsed===t.collapsed&&this.title===t.title},i.prototype=new r}()}).call(this,n(1))},307:function(module,exports,__webpack_require__){"use strict";(function(jQuery){
/**
 * @license
 * (c) 2009-2013 Michael Leibman
 * michael{dot}leibman{at}gmail{dot}com
 * http://github.com/mleibman/slickgrid
 *
 * Distributed under MIT license.
 * All rights reserved.
 *
 * SlickGrid v2.2
 *
 * NOTES:
 *     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
 *     This increases the speed dramatically, but can only be done safely because there are no event handlers
 *     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
 *     and do proper cleanup.
 */
if(void 0===jQuery)throw"SlickGrid requires jquery module to be loaded";if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if("undefined"==typeof Slick)throw"slick.core.js not loaded";!function($){var scrollbarDimensions,maxSupportedCssHeight;function SlickGrid(container,data,columns,options){var defaults={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:defaultFormatter,forceSyncScrolling:!1,addNewRowCssClass:"new-row"},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},th,h,ph,n,cj,page=0,offset=0,vScrollDir=1,initialized=!1,$container,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink,$focusSink2,$headerScroller,$headers,$headerRow,$headerRowScroller,$headerRowSpacer,$topPanelScroller,$topPanel,$viewport,$canvas,$style,$boundAncestors,stylesheet,columnCssRulesL,columnCssRulesR,viewportH,viewportW,canvasWidth,viewportHasHScroll,viewportHasVScroll,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,absoluteColumnMinWidth,tabbingDirection=1,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],h_editorLoader=null,h_render=null,h_postrender=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,counter_rows_rendered=0,counter_rows_removed=0,rowNodeFromLastMouseWheelEvent,zombieRowNodeFromLastMouseWheelEvent;function init(){if(($container=$(container)).length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),options=$.extend({},defaults,options),validateAndEnforceOptions(),columnDefaults.width=options.defaultColumnWidth,columnsById={};for(var t=0;t<columns.length;t++){var e=columns[t]=$.extend({},columnDefaults,columns[t]);columnsById[e.id]=t,e.minWidth&&e.width<e.minWidth&&(e.width=e.minWidth),e.maxWidth&&e.width>e.maxWidth&&(e.width=e.maxWidth)}if(options.enableColumnReorder&&!$.fn.sortable)throw new Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");editController={commitCurrentEdit:commitCurrentEdit,cancelCurrentEdit:cancelCurrentEdit},$container.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($container.css("position"))||$container.css("position","relative"),$focusSink=$("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo($container),$headerScroller=$("<div class='slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),($headers=$("<div class='slick-header-columns' style='left:-1000px' />").appendTo($headerScroller)).width(getHeadersWidth()),$headerRowScroller=$("<div class='slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$headerRow=$("<div class='slick-headerrow-columns' />").appendTo($headerRowScroller),$headerRowSpacer=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($headerRowScroller),$topPanelScroller=$("<div class='slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$topPanel=$("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScroller),options.showTopPanel||$topPanelScroller.hide(),options.showHeaderRow||$headerRowScroller.hide(),($viewport=$("<div class='slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;;'>").appendTo($container)).css("overflow-y",options.autoHeight?"hidden":"auto"),$canvas=$("<div class='grid-canvas' />").appendTo($viewport),$focusSink2=$focusSink.clone().appendTo($container),options.explicitInitialization||finishInitialization()}function finishInitialization(){initialized||(initialized=!0,viewportW=parseFloat($.css($container[0],"width",!0)),measureCellPaddingAndBorder(),disableSelection($headers),options.enableTextSelectionOnCells||$viewport.bind("selectstart.ui",function(t){return $(t.target).is("input,textarea")}),updateColumnCaches(),createColumnHeaders(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$container.bind("resize.slickgrid",resizeCanvas),$viewport.bind("scroll",handleScroll),$headerScroller.bind("contextmenu",handleHeaderContextMenu).bind("click",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave),$headerRowScroller.bind("scroll",handleHeaderRowScroll),$focusSink.add($focusSink2).bind("keydown",handleKeyDown),$canvas.bind("keydown",handleKeyDown).bind("click",handleClick).bind("dblclick",handleDblClick).bind("contextmenu",handleContextMenu).bind("draginit",handleDragInit).bind("dragstart",{distance:3},handleDragStart).bind("drag",handleDrag).bind("dragend",handleDragEnd).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave),navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/)&&$canvas.bind("mousewheel",handleMouseWheel))}function registerPlugin(t){plugins.unshift(t),t.init(self)}function unregisterPlugin(t){for(var e=plugins.length;e>=0;e--)if(plugins[e]===t){plugins[e].destroy&&plugins[e].destroy(),plugins.splice(e,1);break}}function setSelectionModel(t){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),(selectionModel=t)&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(){return $canvas[0]}function measureScrollbar(){var t=$("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),e={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),e}function getHeadersWidth(){for(var t=0,e=0,n=columns.length;e<n;e++){t+=columns[e].width}return t+=scrollbarDimensions.width,Math.max(t,viewportW)+1e3}function getCanvasWidth(){for(var t=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,e=0,n=columns.length;n--;)e+=columns[n].width;return options.fullWidthRows?Math.max(e,t):e}function updateCanvasWidth(t){var e=canvasWidth;(canvasWidth=getCanvasWidth())!=e&&($canvas.width(canvasWidth),$headerRow.width(canvasWidth),$headers.width(getHeadersWidth()),viewportHasHScroll=canvasWidth>viewportW-scrollbarDimensions.width),$headerRowSpacer.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),(canvasWidth!=e||t)&&applyColumnWidths()}function disableSelection(t){t&&t.jquery&&t.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function getMaxSupportedCssHeight(){for(var t=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=$("<div style='display:none' />").appendTo(document.body);;){var r=2*t;if(n.css("height",r),r>e||n.height()!==r)break;t=r}return n.remove(),t}function bindAncestorScrollEvents(){for(var t=$canvas[0];(t=t.parentNode)!=document.body&&null!=t;)if(t==$viewport[0]||t.scrollWidth!=t.clientWidth||t.scrollHeight!=t.clientHeight){var e=$(t);$boundAncestors=$boundAncestors?$boundAncestors.add(e):e,e.bind("scroll."+uid,handleActiveCellPositionChange)}}function unbindAncestorScrollEvents(){$boundAncestors&&($boundAncestors.unbind("scroll."+uid),$boundAncestors=null)}function updateColumnHeader(t,e,n){if(initialized){var r=getColumnIndex(t);if(null!=r){var o=columns[r],i=$headers.children().eq(r);i&&(void 0!==e&&(columns[r].name=e),void 0!==n&&(columns[r].toolTip=n),trigger(self.onBeforeHeaderCellDestroy,{node:i[0],column:o}),i.attr("title",n||"").children().eq(0).html(e),trigger(self.onHeaderCellRendered,{node:i[0],column:o}))}}}function getHeaderRow(){return $headerRow[0]}function getHeaderRowColumn(t){var e=getColumnIndex(t),n=$headerRow.children().eq(e);return n&&n[0]}function createColumnHeaders(){function t(){$(this).addClass("ui-state-hover")}function e(){$(this).removeClass("ui-state-hover")}$headers.find(".slick-header-column").each(function(){var t=$(this).data("column");t&&trigger(self.onBeforeHeaderCellDestroy,{node:this,column:t})}),$headers.empty(),$headers.width(getHeadersWidth()),$headerRow.find(".slick-headerrow-column").each(function(){var t=$(this).data("column");t&&trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:t})}),$headerRow.empty();for(var n=0;n<columns.length;n++){var r=columns[n],o=$("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+r.name+"</span>").width(r.width-headerColumnWidthDiff).attr("id",""+uid+r.id).attr("title",r.toolTip||"").data("column",r).addClass(r.headerCssClass||"").appendTo($headers);if((options.enableColumnReorder||r.sortable)&&o.on("mouseenter",t).on("mouseleave",e),r.sortable&&(o.addClass("slick-header-sortable"),o.append("<span class='slick-sort-indicator' />")),trigger(self.onHeaderCellRendered,{node:o[0],column:r}),options.showHeaderRow){var i=$("<div class='ui-state-default slick-headerrow-column l"+n+" r"+n+"'></div>").data("column",r).appendTo($headerRow);trigger(self.onHeaderRowCellRendered,{node:i[0],column:r})}}setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&setupColumnReorder()}function setupColumnSort(){$headers.click(function(t){if(t.metaKey=t.metaKey||t.ctrlKey,!$(t.target).hasClass("slick-resizable-handle")){var e=$(t.target).closest(".slick-header-column");if(e.length){var n=e.data("column");if(n.sortable){if(!getEditorLock().commitCurrentEdit())return;for(var r=null,o=0;o<sortColumns.length;o++)if(sortColumns[o].columnId==n.id){(r=sortColumns[o]).sortAsc=!r.sortAsc;break}t.metaKey&&options.multiColumnSort?r&&sortColumns.splice(o,1):((t.shiftKey||t.metaKey)&&options.multiColumnSort||(sortColumns=[]),r?0==sortColumns.length&&sortColumns.push(r):(r={columnId:n.id,sortAsc:n.defaultSortAsc},sortColumns.push(r))),setSortColumns(sortColumns),options.multiColumnSort?trigger(self.onSort,{multiColumnSort:!0,sortCols:$.map(sortColumns,function(t){return{sortCol:columns[getColumnIndex(t.columnId)],sortAsc:t.sortAsc}})},t):trigger(self.onSort,{multiColumnSort:!1,sortCol:n,sortAsc:r.sortAsc},t)}}}})}function setupColumnReorder(){$headers.filter(":ui-sortable").sortable("destroy"),$headers.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",start:function(t,e){e.placeholder.width(e.helper.outerWidth()-headerColumnWidthDiff),$(e.helper).addClass("slick-header-column-active")},beforeStop:function(t,e){$(e.helper).removeClass("slick-header-column-active")},stop:function(t){if(getEditorLock().commitCurrentEdit()){for(var e=$headers.sortable("toArray"),n=[],r=0;r<e.length;r++)n.push(columns[getColumnIndex(e[r].replace(uid,""))]);setColumns(n),trigger(self.onColumnsReordered,{}),t.stopPropagation(),setupColumnResize()}else $(this).sortable("cancel")}})}function setupColumnResize(){var t,e,n,r,o,i,a,l;(r=$headers.children()).find(".slick-resizable-handle").remove(),r.each(function(t,e){columns[t].resizable&&(void 0===a&&(a=t),l=t)}),void 0!==a&&r.each(function(s,c){s<a||options.forceFitColumns&&s>=l||($(c),$("<div class='slick-resizable-handle' />").appendTo(c).bind("dragstart",function(a,l){if(!getEditorLock().commitCurrentEdit())return!1;n=a.pageX,$(this).parent().addClass("slick-header-column-active");var c=null,u=null;if(r.each(function(t,e){columns[t].previousWidth=$(e).outerWidth()}),options.forceFitColumns)for(c=0,u=0,t=s+1;t<r.length;t++)(e=columns[t]).resizable&&(null!==u&&(e.maxWidth?u+=e.maxWidth-e.previousWidth:u=null),c+=e.previousWidth-Math.max(e.minWidth||0,absoluteColumnMinWidth));var A=0,d=0;for(t=0;t<=s;t++)(e=columns[t]).resizable&&(null!==d&&(e.maxWidth?d+=e.maxWidth-e.previousWidth:d=null),A+=e.previousWidth-Math.max(e.minWidth||0,absoluteColumnMinWidth));null===c&&(c=1e5),null===A&&(A=1e5),null===u&&(u=1e5),null===d&&(d=1e5),i=n+Math.min(c,d),o=n-Math.min(A,u)}).bind("drag",function(a,l){var c,u,A=Math.min(i,Math.max(o,a.pageX))-n;if(A<0){for(u=A,t=s;t>=0;t--)(e=columns[t]).resizable&&(c=Math.max(e.minWidth||0,absoluteColumnMinWidth),u&&e.previousWidth+u<c?(u+=e.previousWidth-c,e.width=c):(e.width=e.previousWidth+u,u=0));if(options.forceFitColumns)for(u=-A,t=s+1;t<r.length;t++)(e=columns[t]).resizable&&(u&&e.maxWidth&&e.maxWidth-e.previousWidth<u?(u-=e.maxWidth-e.previousWidth,e.width=e.maxWidth):(e.width=e.previousWidth+u,u=0))}else{for(u=A,t=s;t>=0;t--)(e=columns[t]).resizable&&(u&&e.maxWidth&&e.maxWidth-e.previousWidth<u?(u-=e.maxWidth-e.previousWidth,e.width=e.maxWidth):(e.width=e.previousWidth+u,u=0));if(options.forceFitColumns)for(u=-A,t=s+1;t<r.length;t++)(e=columns[t]).resizable&&(c=Math.max(e.minWidth||0,absoluteColumnMinWidth),u&&e.previousWidth+u<c?(u+=e.previousWidth-c,e.width=c):(e.width=e.previousWidth+u,u=0))}applyColumnHeaderWidths(),options.syncColumnCellResize&&applyColumnWidths()}).bind("dragend",function(n,o){var i;for($(this).parent().removeClass("slick-header-column-active"),t=0;t<r.length;t++)e=columns[t],i=$(r[t]).outerWidth(),e.previousWidth!==i&&e.rerenderOnResize&&invalidateAllRows();updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{})}))})}function getVBoxDelta(t){var e=0;return $.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],function(n,r){e+=parseFloat(t.css(r))||0}),e}function measureCellPaddingAndBorder(){var t,e=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];t=$("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers),headerColumnWidthDiff=headerColumnHeightDiff=0,"border-box"!=t.css("box-sizing")&&"border-box"!=t.css("-moz-box-sizing")&&"border-box"!=t.css("-webkit-box-sizing")&&($.each(e,function(e,n){headerColumnWidthDiff+=parseFloat(t.css(n))||0}),$.each(n,function(e,n){headerColumnHeightDiff+=parseFloat(t.css(n))||0})),t.remove();var r=$("<div class='slick-row' />").appendTo($canvas);t=$("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(r),cellWidthDiff=cellHeightDiff=0,"border-box"!=t.css("box-sizing")&&"border-box"!=t.css("-moz-box-sizing")&&"border-box"!=t.css("-webkit-box-sizing")&&($.each(e,function(e,n){cellWidthDiff+=parseFloat(t.css(n))||0}),$.each(n,function(e,n){cellHeightDiff+=parseFloat(t.css(n))||0})),r.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"));for(var t=options.rowHeight-cellHeightDiff,e=["."+uid+" .slick-header-column { left: 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-cell { height:"+t+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }"],n=0;n<columns.length;n++)e.push("."+uid+" .l"+n+" { }"),e.push("."+uid+" .r"+n+" { }");$style[0].styleSheet?$style[0].styleSheet.cssText=e.join(" "):$style[0].appendChild(document.createTextNode(e.join(" ")))}function getColumnCssRules(t){if(!stylesheet){for(var e=document.styleSheets,n=0;n<e.length;n++)if((e[n].ownerNode||e[n].owningElement)==$style[0]){stylesheet=e[n];break}if(!stylesheet)throw new Error("Cannot find stylesheet.");columnCssRulesL=[],columnCssRulesR=[];var r,o,i=stylesheet.cssRules||stylesheet.rules;for(n=0;n<i.length;n++){var a=i[n].selectorText;(r=/\.l\d+/.exec(a))?(o=parseInt(r[0].substr(2,r[0].length-2),10),columnCssRulesL[o]=i[n]):(r=/\.r\d+/.exec(a))&&(o=parseInt(r[0].substr(2,r[0].length-2),10),columnCssRulesR[o]=i[n])}}return{left:columnCssRulesL[t],right:columnCssRulesR[t]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{});for(var t=plugins.length;t--;)unregisterPlugin(plugins[t]);options.enableColumnReorder&&$headers.filter(":ui-sortable").sortable("destroy"),unbindAncestorScrollEvents(),$container.unbind(".slickgrid"),removeCssRules(),$canvas.unbind("draginit dragstart dragend drag"),$container.empty().removeClass(uid)}function trigger(t,e,n){return n=n||new Slick.EventData,(e=e||{}).grid=self,t.notify(e,n,self)}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(t){return columnsById[t]}function autosizeColumns(){var t,e,n,r=[],o=0,i=0,a=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;for(t=0;t<columns.length;t++)e=columns[t],r.push(e.width),i+=e.width,e.resizable&&(o+=e.width-Math.max(e.minWidth,absoluteColumnMinWidth));for(n=i;i>a&&o;){var l=(i-a)/o;for(t=0;t<columns.length&&i>a;t++){e=columns[t];var s=r[t];if(!(!e.resizable||s<=e.minWidth||s<=absoluteColumnMinWidth)){var c=Math.max(e.minWidth,absoluteColumnMinWidth),u=Math.floor(l*(s-c))||1;i-=u=Math.min(u,s-c),o-=u,r[t]-=u}}if(n<=i)break;n=i}for(n=i;i<a;){var A=a/i;for(t=0;t<columns.length&&i<a;t++){e=columns[t];var d,h=r[t];i+=d=!e.resizable||e.maxWidth<=h?0:Math.min(Math.floor(A*h)-h,e.maxWidth-h||1e6)||1,r[t]+=d}if(n>=i)break;n=i}var f=!1;for(t=0;t<columns.length;t++)columns[t].rerenderOnResize&&columns[t].width!=r[t]&&(f=!0),columns[t].width=r[t];applyColumnHeaderWidths(),updateCanvasWidth(!0),f&&(invalidateAllRows(),render())}function applyColumnHeaderWidths(){if(initialized){for(var t,e=0,n=$headers.children(),r=n.length;e<r;e++)(t=$(n[e])).width()!==columns[e].width-headerColumnWidthDiff&&t.width(columns[e].width-headerColumnWidthDiff);updateColumnCaches()}}function applyColumnWidths(){for(var t,e,n=0,r=0;r<columns.length;r++)t=columns[r].width,(e=getColumnCssRules(r)).left.style.left=n+"px",e.right.style.right=canvasWidth-n-t+"px",n+=columns[r].width}function setSortColumn(t,e){setSortColumns([{columnId:t,sortAsc:e}])}function setSortColumns(t){sortColumns=t;var e=$headers.children();e.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),$.each(sortColumns,function(t,n){null==n.sortAsc&&(n.sortAsc=!0);var r=getColumnIndex(n.columnId);null!=r&&e.eq(r).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(n.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(t,e){selectedRows=[];for(var n={},r=0;r<e.length;r++)for(var o=e[r].fromRow;o<=e[r].toRow;o++){n[o]||(selectedRows.push(o),n[o]={});for(var i=e[r].fromCell;i<=e[r].toCell;i++)canCellBeSelected(o,i)&&(n[o][columns[i].id]=options.selectedCellCssClass)}setCellCssStyles(options.selectedCellCssClass,n),trigger(self.onSelectedRowsChanged,{rows:getSelectedRows()},t)}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[];for(var t=0,e=0,n=columns.length;e<n;e++)columnPosLeft[e]=t,columnPosRight[e]=t+columns[e].width,t+=columns[e].width}function setColumns(t){columns=t,columnsById={};for(var e=0;e<columns.length;e++){var n=columns[e]=$.extend({},columnDefaults,columns[e]);columnsById[n.id]=e,n.minWidth&&n.width<n.minWidth&&(n.width=n.minWidth),n.maxWidth&&n.width>n.maxWidth&&(n.width=n.maxWidth)}updateColumnCaches(),initialized&&(invalidateAllRows(),createColumnHeaders(),removeCssRules(),createCssRules(),resizeCanvas(),applyColumnWidths(),handleScroll())}function getOptions(){return options}function setOptions(t){getEditorLock().commitCurrentEdit()&&(makeActiveCellNormal(),options.enableAddRow!==t.enableAddRow&&invalidateRow(getDataLength()),options=$.extend(options,t),validateAndEnforceOptions(),$viewport.css("overflow-y",options.autoHeight?"hidden":"auto"),render())}function validateAndEnforceOptions(){options.autoHeight&&(options.leaveSpaceForNewRows=!1)}function setData(t,e){data=t,invalidateAllRows(),updateRowCount(),e&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data.length}function getDataLengthIncludingAddNew(){return getDataLength()+(options.enableAddRow?1:0)}function getDataItem(t){return data.getItem?data.getItem(t):data[t]}function getTopPanel(){return $topPanel[0]}function setTopPanelVisibility(t){options.showTopPanel!=t&&(options.showTopPanel=t,t?$topPanelScroller.slideDown("fast",resizeCanvas):$topPanelScroller.slideUp("fast",resizeCanvas))}function setHeaderRowVisibility(t){options.showHeaderRow!=t&&(options.showHeaderRow=t,t?$headerRowScroller.slideDown("fast",resizeCanvas):$headerRowScroller.slideUp("fast",resizeCanvas))}function getContainerNode(){return $container.get(0)}function getRowTop(t){return options.rowHeight*t-offset}function getRowFromPosition(t){return Math.floor((t+offset)/options.rowHeight)}function scrollTo(t){t=Math.max(t,0),t=Math.min(t,th-viewportH+(viewportHasHScroll?scrollbarDimensions.height:0));var e=offset;page=Math.min(n-1,Math.floor(t/ph));var r=t-(offset=Math.round(page*cj));offset!=e&&(cleanupRows(getVisibleRange(r)),updateRowPositions());prevScrollTop!=r&&(vScrollDir=prevScrollTop+e<r+offset?1:-1,$viewport[0].scrollTop=lastRenderedScrollTop=scrollTop=prevScrollTop=r,trigger(self.onViewportChanged,{}))}function defaultFormatter(t,e,n,r,o){return null==n?"":(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getFormatter(t,e){var n=data.getItemMetadata&&data.getItemMetadata(t),r=n&&n.columns&&(n.columns[e.id]||n.columns[getColumnIndex(e.id)]);return r&&r.formatter||n&&n.formatter||e.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(e)||options.defaultFormatter}function getEditor(t,e){var n=columns[e],r=data.getItemMetadata&&data.getItemMetadata(t),o=r&&r.columns;return o&&o[n.id]&&void 0!==o[n.id].editor?o[n.id].editor:o&&o[e]&&void 0!==o[e].editor?o[e].editor:n.editor||options.editorFactory&&options.editorFactory.getEditor(n)}function getDataItemValueForColumn(t,e){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(t,e):t[e.field]}function appendRowHtml(t,e,n,r){var o=getDataItem(e),i="slick-row"+(e<r&&!o?" loading":"")+(e===activeRow?" active":"")+(e%2==1?" odd":" even");o||(i+=" "+options.addNewRowCssClass);var a,l,s=data.getItemMetadata&&data.getItemMetadata(e);s&&s.cssClasses&&(i+=" "+s.cssClasses),t.push("<div class='ui-widget-content "+i+"' style='top:"+getRowTop(e)+"px'>");for(var c=0,u=columns.length;c<u;c++){if(l=columns[c],a=1,s&&s.columns){var A=s.columns[l.id]||s.columns[c];"*"===(a=A&&A.colspan||1)&&(a=u-c)}if(columnPosRight[Math.min(u-1,c+a-1)]>n.leftPx){if(columnPosLeft[c]>n.rightPx)break;appendCellHtml(t,e,c,a,o)}a>1&&(c+=a-1)}t.push("</div>")}function appendCellHtml(t,e,n,r,o){var i=columns[n],a="slick-cell l"+n+" r"+Math.min(columns.length-1,n+r-1)+(i.cssClass?" "+i.cssClass:"");for(var l in e===activeRow&&n===activeCell&&(a+=" active"),cellCssClasses)cellCssClasses[l][e]&&cellCssClasses[l][e][i.id]&&(a+=" "+cellCssClasses[l][e][i.id]);if(t.push("<div class='"+a+"'>"),o){var s=getDataItemValueForColumn(o,i);t.push(getFormatter(e,i)(e,n,s,i,o))}t.push("</div>"),rowsCache[e].cellRenderQueue.push(n),rowsCache[e].cellColSpans[n]=r}function cleanupRows(t){for(var e in rowsCache)(e=parseInt(e,10))!==activeRow&&(e<t.top||e>t.bottom)&&removeRowFromCache(e)}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){for(var t in currentEditor&&makeActiveCellNormal(),rowsCache)removeRowFromCache(t)}function removeRowFromCache(t){var e=rowsCache[t];e&&(rowNodeFromLastMouseWheelEvent==e.rowNode?(e.rowNode.style.display="none",zombieRowNodeFromLastMouseWheelEvent=rowNodeFromLastMouseWheelEvent):$canvas[0].removeChild(e.rowNode),delete rowsCache[t],delete postProcessedRows[t],renderedRows--,counter_rows_removed++)}function invalidateRows(t){var e,n;if(t&&t.length)for(vScrollDir=0,e=0,n=t.length;e<n;e++)currentEditor&&activeRow===t[e]&&makeActiveCellNormal(),rowsCache[t[e]]&&removeRowFromCache(t[e])}function invalidateRow(t){invalidateRows([t])}function updateCell(t,e){var n=getCellNode(t,e);if(n){var r=columns[e],o=getDataItem(t);currentEditor&&activeRow===t&&activeCell===e?currentEditor.loadValue(o):(n.innerHTML=o?getFormatter(t,r)(t,e,getDataItemValueForColumn(o,r),r,o):"",invalidatePostProcessingResults(t))}}function updateRow(t){var e=rowsCache[t];if(e){ensureCellNodesInRowsCache(t);var n=getDataItem(t);for(var r in e.cellNodesByColumnIdx)if(e.cellNodesByColumnIdx.hasOwnProperty(r)){var o=columns[r|=0],i=e.cellNodesByColumnIdx[r];t===activeRow&&r===activeCell&&currentEditor?currentEditor.loadValue(n):i.innerHTML=n?getFormatter(t,o)(t,r,getDataItemValueForColumn(n,o),o,n):""}invalidatePostProcessingResults(t)}}function getViewportHeight(){return parseFloat($.css($container[0],"height",!0))-parseFloat($.css($container[0],"paddingTop",!0))-parseFloat($.css($container[0],"paddingBottom",!0))-parseFloat($.css($headerScroller[0],"height"))-getVBoxDelta($headerScroller)-(options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller):0)-(options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0)}function resizeCanvas(){initialized&&(viewportH=options.autoHeight?options.rowHeight*getDataLengthIncludingAddNew():getViewportHeight(),numVisibleRows=Math.ceil(viewportH/options.rowHeight),viewportW=parseFloat($.css($container[0],"width",!0)),options.autoHeight||$viewport.height(viewportH),options.forceFitColumns&&autosizeColumns(),updateRowCount(),handleScroll(),lastRenderedScrollLeft=-1,render())}function updateRowCount(){if(initialized){var t=getDataLengthIncludingAddNew(),e=t+(options.leaveSpaceForNewRows?numVisibleRows-1:0),r=viewportHasVScroll;viewportHasVScroll=!options.autoHeight&&e*options.rowHeight>viewportH,makeActiveCellNormal();var o=t-1;for(var i in rowsCache)i>=o&&removeRowFromCache(i);activeCellNode&&activeRow>o&&resetActiveCell();var a=h;(th=Math.max(options.rowHeight*e,viewportH-scrollbarDimensions.height))<maxSupportedCssHeight?(h=ph=th,n=1,cj=0):(ph=(h=maxSupportedCssHeight)/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==a&&($canvas.css("height",h),scrollTop=$viewport[0].scrollTop);var l=scrollTop+offset<=th-viewportH;0==th||0==scrollTop?page=offset=0:scrollTo(l?scrollTop+offset:th-viewportH),h!=a&&options.autoHeight&&resizeCanvas(),options.forceFitColumns&&r!=viewportHasVScroll&&autosizeColumns(),updateCanvasWidth(!1)}}function getVisibleRange(t,e){return null==t&&(t=scrollTop),null==e&&(e=scrollLeft),{top:getRowFromPosition(t),bottom:getRowFromPosition(t+viewportH)+1,leftPx:e,rightPx:e+viewportW}}function getRenderedRange(t,e){var n=getVisibleRange(t,e),r=Math.round(viewportH/options.rowHeight);return-1==vScrollDir?(n.top-=r,n.bottom+=3):1==vScrollDir?(n.top-=3,n.bottom+=r):(n.top-=3,n.bottom+=3),n.top=Math.max(0,n.top),n.bottom=Math.min(getDataLengthIncludingAddNew()-1,n.bottom),n.leftPx-=viewportW,n.rightPx+=viewportW,n.leftPx=Math.max(0,n.leftPx),n.rightPx=Math.min(canvasWidth,n.rightPx),n}function ensureCellNodesInRowsCache(t){var e=rowsCache[t];if(e&&e.cellRenderQueue.length)for(var n=e.rowNode.lastChild;e.cellRenderQueue.length;){var r=e.cellRenderQueue.pop();e.cellNodesByColumnIdx[r]=n,n=n.previousSibling}}function cleanUpCells(t,e){var n,r=rowsCache[e],o=[];for(var i in r.cellNodesByColumnIdx)if(r.cellNodesByColumnIdx.hasOwnProperty(i)){i|=0;var a=r.cellColSpans[i];(columnPosLeft[i]>t.rightPx||columnPosRight[Math.min(columns.length-1,i+a-1)]<t.leftPx)&&(e==activeRow&&i==activeCell||o.push(i))}for(;null!=(n=o.pop());)r.rowNode.removeChild(r.cellNodesByColumnIdx[n]),delete r.cellColSpans[n],delete r.cellNodesByColumnIdx[n],postProcessedRows[e]&&delete postProcessedRows[e][n],0}function cleanUpAndRenderCells(t){for(var e,n,r,o=[],i=[],a=t.top,l=t.bottom;a<=l;a++)if(e=rowsCache[a]){ensureCellNodesInRowsCache(a),cleanUpCells(t,a),n=0;var s=data.getItemMetadata&&data.getItemMetadata(a);s=s&&s.columns;for(var c=getDataItem(a),u=0,A=columns.length;u<A&&!(columnPosLeft[u]>t.rightPx);u++)if(null==(r=e.cellColSpans[u])){if(r=1,s){var d=s[columns[u].id]||s[u];"*"===(r=d&&d.colspan||1)&&(r=A-u)}columnPosRight[Math.min(A-1,u+r-1)]>t.leftPx&&(appendCellHtml(o,a,u,r,c),n++),u+=r>1?r-1:0}else u+=r>1?r-1:0;n&&(n,i.push(a))}if(o.length){var h,f,p=document.createElement("div");for(p.innerHTML=o.join("");null!=(h=i.pop());){var g;for(e=rowsCache[h];null!=(g=e.cellRenderQueue.pop());)f=p.lastChild,e.rowNode.appendChild(f),e.cellNodesByColumnIdx[g]=f}}}function renderRows(t){for(var e=$canvas[0],n=[],r=[],o=!1,i=getDataLength(),a=t.top,l=t.bottom;a<=l;a++)rowsCache[a]||(renderedRows++,r.push(a),rowsCache[a]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(n,a,t,i),activeCellNode&&activeRow===a&&(o=!0),counter_rows_rendered++);if(r.length){var s=document.createElement("div");s.innerHTML=n.join("");for(a=0,l=r.length;a<l;a++)rowsCache[r[a]].rowNode=e.appendChild(s.firstChild);o&&(activeCellNode=getCellNode(activeRow,activeCell))}}function startPostProcessing(){options.enableAsyncPostRender&&(clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}function invalidatePostProcessingResults(t){delete postProcessedRows[t],postProcessFromRow=Math.min(postProcessFromRow,t),postProcessToRow=Math.max(postProcessToRow,t),startPostProcessing()}function updateRowPositions(){for(var t in rowsCache)rowsCache[t].rowNode.style.top=getRowTop(t)+"px"}function render(){if(initialized){var t=getVisibleRange(),e=getRenderedRange();cleanupRows(e),lastRenderedScrollLeft!=scrollLeft&&cleanUpAndRenderCells(e),renderRows(e),postProcessFromRow=t.top,postProcessToRow=Math.min(getDataLengthIncludingAddNew()-1,t.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null}}function handleHeaderRowScroll(){var t=$headerRowScroller[0].scrollLeft;t!=$viewport[0].scrollLeft&&($viewport[0].scrollLeft=t)}function handleScroll(){scrollTop=$viewport[0].scrollTop,scrollLeft=$viewport[0].scrollLeft;var t=Math.abs(scrollTop-prevScrollTop),e=Math.abs(scrollLeft-prevScrollLeft);if(e&&(prevScrollLeft=scrollLeft,$headerScroller[0].scrollLeft=scrollLeft,$topPanelScroller[0].scrollLeft=scrollLeft,$headerRowScroller[0].scrollLeft=scrollLeft),t)if(vScrollDir=prevScrollTop<scrollTop?1:-1,prevScrollTop=scrollTop,t<viewportH)scrollTo(scrollTop+offset);else{var r=offset;page=h==viewportH?0:Math.min(n-1,Math.floor(scrollTop*((th-viewportH)/(h-viewportH))*(1/ph))),r!=(offset=Math.round(page*cj))&&invalidateAllRows()}(e||t)&&(h_render&&clearTimeout(h_render),(Math.abs(lastRenderedScrollTop-scrollTop)>20||Math.abs(lastRenderedScrollLeft-scrollLeft)>20)&&(options.forceSyncScrolling||Math.abs(lastRenderedScrollTop-scrollTop)<viewportH&&Math.abs(lastRenderedScrollLeft-scrollLeft)<viewportW?render():h_render=setTimeout(render,50),trigger(self.onViewportChanged,{}))),trigger(self.onScroll,{scrollLeft:scrollLeft,scrollTop:scrollTop})}function asyncPostProcessRows(){for(var t=getDataLength();postProcessFromRow<=postProcessToRow;){var e=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,n=rowsCache[e];if(n&&!(e>=t)){for(var r in postProcessedRows[e]||(postProcessedRows[e]={}),ensureCellNodesInRowsCache(e),n.cellNodesByColumnIdx)if(n.cellNodesByColumnIdx.hasOwnProperty(r)){var o=columns[r|=0];if(o.asyncPostRender&&!postProcessedRows[e][r]){var i=n.cellNodesByColumnIdx[r];i&&o.asyncPostRender(i,e,getDataItem(e),o),postProcessedRows[e][r]=!0}}return void(h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}}}function updateCellCssStylesOnRenderedRows(t,e){var n,r,o,i;for(var a in rowsCache){if(i=e&&e[a],o=t&&t[a],i)for(r in i)o&&i[r]==o[r]||(n=getCellNode(a,getColumnIndex(r)))&&$(n).removeClass(i[r]);if(o)for(r in o)i&&i[r]==o[r]||(n=getCellNode(a,getColumnIndex(r)))&&$(n).addClass(o[r])}}function addCellCssStyles(t,e){if(cellCssClasses[t])throw"addCellCssStyles: cell CSS hash with key '"+t+"' already exists.";cellCssClasses[t]=e,updateCellCssStylesOnRenderedRows(e,null),trigger(self.onCellCssStylesChanged,{key:t,hash:e})}function removeCellCssStyles(t){cellCssClasses[t]&&(updateCellCssStylesOnRenderedRows(null,cellCssClasses[t]),delete cellCssClasses[t],trigger(self.onCellCssStylesChanged,{key:t,hash:null}))}function setCellCssStyles(t,e){var n=cellCssClasses[t];cellCssClasses[t]=e,updateCellCssStylesOnRenderedRows(e,n),trigger(self.onCellCssStylesChanged,{key:t,hash:e})}function getCellCssStyles(t){return cellCssClasses[t]}function flashCell(t,e,n){if(n=n||100,rowsCache[t]){var r=$(getCellNode(t,e));!function t(e){e&&setTimeout(function(){r.queue(function(){r.toggleClass(options.cellFlashingCssClass).dequeue(),t(e-1)})},n)}(4)}}function handleMouseWheel(t){var e=$(t.target).closest(".slick-row")[0];e!=rowNodeFromLastMouseWheelEvent&&(zombieRowNodeFromLastMouseWheelEvent&&zombieRowNodeFromLastMouseWheelEvent!=e&&($canvas[0].removeChild(zombieRowNodeFromLastMouseWheelEvent),zombieRowNodeFromLastMouseWheelEvent=null),rowNodeFromLastMouseWheelEvent=e)}function handleDragInit(t,e){var n=getCellFromEvent(t);if(!n||!cellExists(n.row,n.cell))return!1;var r=trigger(self.onDragInit,e,t);return!!t.isImmediatePropagationStopped()&&r}function handleDragStart(t,e){var n=getCellFromEvent(t);if(!n||!cellExists(n.row,n.cell))return!1;var r=trigger(self.onDragStart,e,t);return!!t.isImmediatePropagationStopped()&&r}function handleDrag(t,e){return trigger(self.onDrag,e,t)}function handleDragEnd(t,e){trigger(self.onDragEnd,e,t)}function handleKeyDown(t){trigger(self.onKeyDown,{row:activeRow,cell:activeCell},t);var e=t.isImmediatePropagationStopped();if(!e)if(t.shiftKey||t.altKey||t.ctrlKey)9!=t.which||!t.shiftKey||t.ctrlKey||t.altKey||(e=navigatePrev());else if(27==t.which){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else 34==t.which?(navigatePageDown(),e=!0):33==t.which?(navigatePageUp(),e=!0):37==t.which?e=navigateLeft():39==t.which?e=navigateRight():38==t.which?e=navigateUp():40==t.which?e=navigateDown():9==t.which?e=navigateNext():13==t.which&&(options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable()),e=!0);if(e){t.stopPropagation(),t.preventDefault();try{t.originalEvent.keyCode=0}catch(t){}}}function handleClick(t){currentEditor||(t.target!=document.activeElement||$(t.target).hasClass("slick-cell"))&&setFocus();var e=getCellFromEvent(t);!e||null!==currentEditor&&activeRow==e.row&&activeCell==e.cell||(trigger(self.onClick,{row:e.row,cell:e.cell},t),t.isImmediatePropagationStopped()||activeCell==e.cell&&activeRow==e.row||!canCellBeActive(e.row,e.cell)||getEditorLock().isActive()&&!getEditorLock().commitCurrentEdit()||(scrollRowIntoView(e.row,!1),setActiveCellInternal(getCellNode(e.row,e.cell))))}function handleContextMenu(t){var e=$(t.target).closest(".slick-cell",$canvas);0!==e.length&&(activeCellNode===e[0]&&null!==currentEditor||trigger(self.onContextMenu,{},t))}function handleDblClick(t){var e=getCellFromEvent(t);!e||null!==currentEditor&&activeRow==e.row&&activeCell==e.cell||(trigger(self.onDblClick,{row:e.row,cell:e.cell},t),t.isImmediatePropagationStopped()||options.editable&&gotoCell(e.row,e.cell,!0))}function handleHeaderMouseEnter(t){trigger(self.onHeaderMouseEnter,{column:$(this).data("column")},t)}function handleHeaderMouseLeave(t){trigger(self.onHeaderMouseLeave,{column:$(this).data("column")},t)}function handleHeaderContextMenu(t){var e=$(t.target).closest(".slick-header-column",".slick-header-columns"),n=e&&e.data("column");trigger(self.onHeaderContextMenu,{column:n},t)}function handleHeaderClick(t){var e=$(t.target).closest(".slick-header-column",".slick-header-columns"),n=e&&e.data("column");n&&trigger(self.onHeaderClick,{column:n},t)}function handleMouseEnter(t){trigger(self.onMouseEnter,{},t)}function handleMouseLeave(t){trigger(self.onMouseLeave,{},t)}function cellExists(t,e){return!(t<0||t>=getDataLength()||e<0||e>=columns.length)}function getCellFromPoint(t,e){for(var n=getRowFromPosition(e),r=0,o=0,i=0;i<columns.length&&o<t;i++)o+=columns[i].width,r++;return r<0&&(r=0),{row:n,cell:r-1}}function getCellFromNode(t){var e=/l\d+/.exec(t.className);if(!e)throw"getCellFromNode: cannot get cell - "+t.className;return parseInt(e[0].substr(1,e[0].length-1),10)}function getRowFromNode(t){for(var e in rowsCache)if(rowsCache[e].rowNode===t)return 0|e;return null}function getCellFromEvent(t){var e=$(t.target).closest(".slick-cell",$canvas);if(!e.length)return null;var n=getRowFromNode(e[0].parentNode),r=getCellFromNode(e[0]);return null==n||null==r?null:{row:n,cell:r}}function getCellNodeBox(t,e){if(!cellExists(t,e))return null;for(var n=getRowTop(t),r=n+options.rowHeight-1,o=0,i=0;i<e;i++)o+=columns[i].width;return{top:n,left:o,bottom:r,right:o+columns[e].width}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){-1==tabbingDirection?$focusSink[0].focus():$focusSink2[0].focus()}function scrollCellIntoView(t,e,n){scrollRowIntoView(t,n);var r=getColspan(t,e),o=columnPosLeft[e],i=columnPosRight[e+(r>1?r-1:0)],a=scrollLeft+viewportW;o<scrollLeft?($viewport.scrollLeft(o),handleScroll(),render()):i>a&&($viewport.scrollLeft(Math.min(o,i-$viewport[0].clientWidth)),handleScroll(),render())}function setActiveCellInternal(t,e){null!==activeCellNode&&(makeActiveCellNormal(),$(activeCellNode).removeClass("active"),rowsCache[activeRow]&&$(rowsCache[activeRow].rowNode).removeClass("active"));var n=activeCellNode!==t;null!=(activeCellNode=t)?(activeRow=getRowFromNode(activeCellNode.parentNode),activeCell=activePosX=getCellFromNode(activeCellNode),null==e&&(e=activeRow==getDataLength()||options.autoEdit),$(activeCellNode).addClass("active"),$(rowsCache[activeRow].rowNode).addClass("active"),options.editable&&e&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout(function(){makeActiveCellEditable()},options.asyncEditorLoadDelay):makeActiveCellEditable())):activeRow=activeCell=null,n&&trigger(self.onActiveCellChanged,getActiveCell())}function clearTextSelection(){if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}else if(window.getSelection){var t=window.getSelection();t&&t.removeAllRanges&&t.removeAllRanges()}}function isCellPotentiallyEditable(t,e){var n=getDataLength();return!(t<n&&!getDataItem(t))&&(!(columns[e].cannotTriggerInsert&&t>=n)&&!!getEditor(t,e))}function makeActiveCellNormal(){if(currentEditor){if(trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor}),currentEditor.destroy(),currentEditor=null,activeCellNode){var t=getDataItem(activeRow);if($(activeCellNode).removeClass("editable invalid"),t){var e=columns[activeCell],n=getFormatter(activeRow,e);activeCellNode.innerHTML=n(activeRow,activeCell,getDataItemValueForColumn(t,e),e,t),invalidatePostProcessingResults(activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&clearTextSelection(),getEditorLock().deactivate(editController)}}function makeActiveCellEditable(t){if(activeCellNode){if(!options.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";if(clearTimeout(h_editorLoader),isCellPotentiallyEditable(activeRow,activeCell)){var e=columns[activeCell],n=getDataItem(activeRow);!1!==trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:n,column:e})?(getEditorLock().activate(editController),$(activeCellNode).addClass("editable"),t||(activeCellNode.innerHTML=""),currentEditor=new(t||getEditor(activeRow,activeCell))({grid:self,gridPosition:absBox($container[0]),position:absBox(activeCellNode),container:activeCellNode,column:e,item:n||{},commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus}),n&&currentEditor.loadValue(n),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()):setFocus()}}}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(t){var e={top:t.offsetTop,left:t.offsetLeft,bottom:0,right:0,width:$(t).outerWidth(),height:$(t).outerHeight(),visible:!0};e.bottom=e.top+e.height,e.right=e.left+e.width;for(var n=t.offsetParent;(t=t.parentNode)!=document.body;)e.visible&&t.scrollHeight!=t.offsetHeight&&"visible"!=$(t).css("overflowY")&&(e.visible=e.bottom>t.scrollTop&&e.top<t.scrollTop+t.clientHeight),e.visible&&t.scrollWidth!=t.offsetWidth&&"visible"!=$(t).css("overflowX")&&(e.visible=e.right>t.scrollLeft&&e.left<t.scrollLeft+t.clientWidth),e.left-=t.scrollLeft,e.top-=t.scrollTop,t===n&&(e.left+=t.offsetLeft,e.top+=t.offsetTop,n=t.offsetParent),e.bottom=e.top+e.height,e.right=e.left+e.width;return e}function getActiveCellPosition(){return absBox(activeCellNode)}function getGridPosition(){return absBox($container[0])}function handleActiveCellPositionChange(){if(activeCellNode&&(trigger(self.onActiveCellPositionChanged,{}),currentEditor)){var t=getActiveCellPosition();currentEditor.show&&currentEditor.hide&&(t.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(t)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell}:null}function getActiveCellNode(){return activeCellNode}function scrollRowIntoView(t,e){var n=t*options.rowHeight,r=(t+1)*options.rowHeight-viewportH+(viewportHasHScroll?scrollbarDimensions.height:0);(t+1)*options.rowHeight>scrollTop+viewportH+offset?(scrollTo(e?n:r),render()):t*options.rowHeight<scrollTop+offset&&(scrollTo(e?r:n),render())}function scrollRowToTop(t){scrollTo(t*options.rowHeight),render()}function scrollPage(t){var e=t*numVisibleRows;if(scrollTo((getRowFromPosition(scrollTop)+e)*options.rowHeight),render(),options.enableCellNavigation&&null!=activeRow){var n=activeRow+e,r=getDataLengthIncludingAddNew();n>=r&&(n=r-1),n<0&&(n=0);for(var o=0,i=null,a=activePosX;o<=activePosX;)canCellBeActive(n,o)&&(i=o),o+=getColspan(n,o);null!==i?(setActiveCellInternal(getCellNode(n,i)),activePosX=a):resetActiveCell()}}function navigatePageDown(){scrollPage(1)}function navigatePageUp(){scrollPage(-1)}function getColspan(t,e){var n=data.getItemMetadata&&data.getItemMetadata(t);if(!n||!n.columns)return 1;var r=n.columns[columns[e].id]||n.columns[e],o=r&&r.colspan;return o="*"===o?columns.length-e:o||1}function findFirstFocusableCell(t){for(var e=0;e<columns.length;){if(canCellBeActive(t,e))return e;e+=getColspan(t,e)}return null}function findLastFocusableCell(t){for(var e=0,n=null;e<columns.length;)canCellBeActive(t,e)&&(n=e),e+=getColspan(t,e);return n}function gotoRight(t,e,n){if(e>=columns.length)return null;do{e+=getColspan(t,e)}while(e<columns.length&&!canCellBeActive(t,e));return e<columns.length?{row:t,cell:e,posX:e}:null}function gotoLeft(t,e,n){if(e<=0)return null;var r=findFirstFocusableCell(t);if(null===r||r>=e)return null;for(var o,i={row:t,cell:r,posX:r};;){if(!(o=gotoRight(i.row,i.cell,i.posX)))return null;if(o.cell>=e)return i;i=o}}function gotoDown(t,e,n){for(var r,o=getDataLengthIncludingAddNew();;){if(++t>=o)return null;for(r=e=0;e<=n;)r=e,e+=getColspan(t,e);if(canCellBeActive(t,r))return{row:t,cell:r,posX:n}}}function gotoUp(t,e,n){for(var r;;){if(--t<0)return null;for(r=e=0;e<=n;)r=e,e+=getColspan(t,e);if(canCellBeActive(t,r))return{row:t,cell:r,posX:n}}}function gotoNext(t,e,n){if(null==t&&null==e&&canCellBeActive(t=e=n=0,e))return{row:t,cell:e,posX:e};var r=gotoRight(t,e,n);if(r)return r;for(var o=null,i=getDataLengthIncludingAddNew();++t<i;)if(null!==(o=findFirstFocusableCell(t)))return{row:t,cell:o,posX:o};return null}function gotoPrev(t,e,n){if(null==t&&null==e&&canCellBeActive(t=getDataLengthIncludingAddNew()-1,e=n=columns.length-1))return{row:t,cell:e,posX:e};for(var r,o;!r&&!(r=gotoLeft(t,e,n));){if(--t<0)return null;e=0,null!==(o=findLastFocusableCell(t))&&(r={row:t,cell:o,posX:o})}return r}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigate(t){if(!options.enableCellNavigation)return!1;if(!activeCellNode&&"prev"!=t&&"next"!=t)return!1;if(!getEditorLock().commitCurrentEdit())return!0;setFocus();tabbingDirection={up:-1,down:1,left:-1,right:1,prev:-1,next:1}[t];var e=(0,{up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext}[t])(activeRow,activeCell,activePosX);if(e){var n=e.row==getDataLength();return scrollCellIntoView(e.row,e.cell,!n),setActiveCellInternal(getCellNode(e.row,e.cell)),activePosX=e.posX,!0}return setActiveCellInternal(getCellNode(activeRow,activeCell)),!1}function getCellNode(t,e){return rowsCache[t]?(ensureCellNodesInRowsCache(t),rowsCache[t].cellNodesByColumnIdx[e]):null}function setActiveCell(t,e){initialized&&(t>getDataLength()||t<0||e>=columns.length||e<0||options.enableCellNavigation&&(scrollCellIntoView(t,e,!1),setActiveCellInternal(getCellNode(t,e),!1)))}function canCellBeActive(t,e){if(!options.enableCellNavigation||t>=getDataLengthIncludingAddNew()||t<0||e>=columns.length||e<0)return!1;var n=data.getItemMetadata&&data.getItemMetadata(t);if(n&&"boolean"==typeof n.focusable)return n.focusable;var r=n&&n.columns;return r&&r[columns[e].id]&&"boolean"==typeof r[columns[e].id].focusable?r[columns[e].id].focusable:r&&r[e]&&"boolean"==typeof r[e].focusable?r[e].focusable:columns[e].focusable}function canCellBeSelected(t,e){if(t>=getDataLength()||t<0||e>=columns.length||e<0)return!1;var n=data.getItemMetadata&&data.getItemMetadata(t);if(n&&"boolean"==typeof n.selectable)return n.selectable;var r=n&&n.columns&&(n.columns[columns[e].id]||n.columns[e]);return r&&"boolean"==typeof r.selectable?r.selectable:columns[e].selectable}function gotoCell(t,e,n){initialized&&(canCellBeActive(t,e)&&getEditorLock().commitCurrentEdit()&&(scrollCellIntoView(t,e,!1),setActiveCellInternal(getCellNode(t,e),n||t===getDataLength()||options.autoEdit),currentEditor||setFocus()))}function commitCurrentEdit(){var t=getDataItem(activeRow),e=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var n=currentEditor.validate();if(n.valid){if(activeRow<getDataLength()){var r={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(t,this.serializedValue),updateRow(this.row),trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:t})},undo:function(){this.editor.applyValue(t,this.prevSerializedValue),updateRow(this.row),trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:t})}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(t,e,r)):(r.execute(),makeActiveCellNormal())}else{var o={};currentEditor.applyValue(o,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:o,column:e})}return!getEditorLock().isActive()}return $(activeCellNode).removeClass("invalid"),$(activeCellNode).width(),$(activeCellNode).addClass("invalid"),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:n,row:activeRow,cell:activeCell,column:e}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(t){for(var e=[],n=columns.length-1,r=0;r<t.length;r++)e.push(new Slick.Range(t[r],0,t[r],n));return e}function getSelectedRows(){if(!selectionModel)throw"Selection model is not set";return selectedRows}function setSelectedRows(t){if(!selectionModel)throw"Selection model is not set";selectionModel.setSelectedRanges(rowsToRanges(t))}this.debug=function(){var t="";t+="\ncounter_rows_rendered:  "+counter_rows_rendered,t+="\ncounter_rows_removed:  "+counter_rows_removed,t+="\nrenderedRows:  "+renderedRows,t+="\nnumVisibleRows:  "+numVisibleRows,t+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,t+="\nn(umber of pages):  "+n,t+="\n(current) page:  "+page,t+="\npage height (ph):  "+ph,t+="\nvScrollDir:  "+vScrollDir,alert(t)},this.eval=function(expr){return eval(expr)},$.extend(this,{slickGridVersion:"2.1",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:registerPlugin,unregisterPlugin:unregisterPlugin,getColumns:getColumns,setColumns:setColumns,getColumnIndex:getColumnIndex,updateColumnHeader:updateColumnHeader,setSortColumn:setSortColumn,setSortColumns:setSortColumns,getSortColumns:getSortColumns,autosizeColumns:autosizeColumns,getOptions:getOptions,setOptions:setOptions,getData:getData,getDataLength:getDataLength,getDataItem:getDataItem,setData:setData,getSelectionModel:getSelectionModel,setSelectionModel:setSelectionModel,getSelectedRows:getSelectedRows,setSelectedRows:setSelectedRows,getContainerNode:getContainerNode,render:render,invalidate:invalidate,invalidateRow:invalidateRow,invalidateRows:invalidateRows,invalidateAllRows:invalidateAllRows,updateCell:updateCell,updateRow:updateRow,getViewport:getVisibleRange,getRenderedRange:getRenderedRange,resizeCanvas:resizeCanvas,updateRowCount:updateRowCount,scrollRowIntoView:scrollRowIntoView,scrollRowToTop:scrollRowToTop,scrollCellIntoView:scrollCellIntoView,getCanvasNode:getCanvasNode,focus:setFocus,getCellFromPoint:getCellFromPoint,getCellFromEvent:getCellFromEvent,getActiveCell:getActiveCell,setActiveCell:setActiveCell,getActiveCellNode:getActiveCellNode,getActiveCellPosition:getActiveCellPosition,resetActiveCell:resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor:getCellEditor,getCellNode:getCellNode,getCellNodeBox:getCellNodeBox,canCellBeSelected:canCellBeSelected,canCellBeActive:canCellBeActive,navigatePrev:navigatePrev,navigateNext:navigateNext,navigateUp:navigateUp,navigateDown:navigateDown,navigateLeft:navigateLeft,navigateRight:navigateRight,navigatePageUp:navigatePageUp,navigatePageDown:navigatePageDown,gotoCell:gotoCell,getTopPanel:getTopPanel,setTopPanelVisibility:setTopPanelVisibility,setHeaderRowVisibility:setHeaderRowVisibility,getHeaderRow:getHeaderRow,getHeaderRowColumn:getHeaderRowColumn,getGridPosition:getGridPosition,flashCell:flashCell,addCellCssStyles:addCellCssStyles,setCellCssStyles:setCellCssStyles,removeCellCssStyles:removeCellCssStyles,getCellCssStyles:getCellCssStyles,init:finishInitialization,destroy:destroy,getEditorLock:getEditorLock,getEditController:getEditController}),init()}$.extend(!0,window,{Slick:{Grid:SlickGrid}})}(jQuery)}).call(this,__webpack_require__(1))},308:function(t,e,n){"use strict";(function(t){!function(t){t.extend(!0,window,{Slick:{RowSelectionModel:function(e){var n,r,o,i=[],a=this,l=new Slick.EventHandler,s={selectActiveRow:!0};function c(t){return function(){r||(r=!0,t.apply(this,arguments),r=!1)}}function u(t){for(var e=[],n=0;n<t.length;n++)for(var r=t[n].fromRow;r<=t[n].toRow;r++)e.push(r);return e}function A(t){for(var e=[],r=n.getColumns().length-1,o=0;o<t.length;o++)e.push(new Slick.Range(t[o],0,t[o],r));return e}function d(){return u(i)}function h(t){i=t,a.onSelectedRangesChanged.notify(i)}function f(t,e){o.selectActiveRow&&null!=e.row&&h([new Slick.Range(e.row,0,e.row,n.getColumns().length-1)])}function p(t){var e=n.getActiveCell();if(e&&t.shiftKey&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&(38==t.which||40==t.which)){var r=d();r.sort(function(t,e){return t-e}),r.length||(r=[e.row]);var o,a=r[0],l=r[r.length-1];(o=40==t.which?e.row<l||a==l?++l:++a:e.row<l?--l:--a)>=0&&o<n.getDataLength()&&(n.scrollRowIntoView(o),h(i=A(function(t,e){var n,r=[];for(n=t;n<=e;n++)r.push(n);for(n=e;n<t;n++)r.push(n);return r}(a,l)))),t.preventDefault(),t.stopPropagation()}}function g(e){var r=n.getCellFromEvent(e);if(!r||!n.canCellBeActive(r.row,r.cell))return!1;if(!n.getOptions().multiSelect||!e.ctrlKey&&!e.shiftKey&&!e.metaKey)return!1;var o=u(i),a=t.inArray(r.row,o);if(-1===a&&(e.ctrlKey||e.metaKey))o.push(r.row),n.setActiveCell(r.row,r.cell);else if(-1!==a&&(e.ctrlKey||e.metaKey))o=t.grep(o,function(t,e){return t!==r.row}),n.setActiveCell(r.row,r.cell);else if(o.length&&e.shiftKey){var l=o.pop(),s=Math.min(r.row,l),c=Math.max(r.row,l);o=[];for(var d=s;d<=c;d++)d!==l&&o.push(d);o.push(l),n.setActiveCell(r.row,r.cell)}return h(i=A(o)),e.stopImmediatePropagation(),!0}t.extend(this,{getSelectedRows:d,setSelectedRows:function(t){h(A(t))},getSelectedRanges:function(){return i},setSelectedRanges:h,init:function(r){o=t.extend(!0,{},s,e),n=r,l.subscribe(n.onActiveCellChanged,c(f)),l.subscribe(n.onKeyDown,c(p)),l.subscribe(n.onClick,c(g))},destroy:function(){l.unsubscribeAll()},onSelectedRangesChanged:new Slick.Event})}}})}(t)}).call(this,n(1))},309:function(t,e,n){"use strict";(function(t){!function(t){t.extend(!0,window,{Slick:{Plugins:{HeaderButtons:function(e){var n,r=this,o=new Slick.EventHandler,i={buttonCssClass:"slick-header-button"};function a(n,r){var o=r.column;if(o.header&&o.header.buttons)for(var i=o.header.buttons.length;i--;){var a=o.header.buttons[i],l=t("<div></div>").addClass(e.buttonCssClass).data("column",o).data("button",a);a.showOnHover&&l.addClass("slick-header-button-hidden"),a.image&&l.css("backgroundImage","url("+a.image+")"),a.cssClass&&l.addClass(a.cssClass),a.tooltip&&l.attr("title",a.tooltip),a.command&&l.data("command",a.command),a.handler&&l.bind("click",a.handler),l.bind("click",s).appendTo(r.node)}}function l(n,r){var o=r.column;o.header&&o.header.buttons&&t(r.node).find("."+e.buttonCssClass).remove()}function s(e){var o=t(this).data("command"),i=t(this).data("column"),a=t(this).data("button");null!=o&&(r.onCommand.notify({grid:n,column:i,command:o,button:a},e,r),n.updateColumnHeader(i.id)),e.preventDefault(),e.stopPropagation()}t.extend(this,{init:function(r){e=t.extend(!0,{},i,e),n=r,o.subscribe(n.onHeaderCellRendered,a).subscribe(n.onBeforeHeaderCellDestroy,l),n.setColumns(n.getColumns())},destroy:function(){o.unsubscribeAll()},onCommand:new Slick.Event})}}}})}(t)}).call(this,n(1))},310:function(t,e,n){"use strict";(function(t){!function(t){t.extend(!0,window,{Slick:{AutoTooltips:function(e){var n,r={enableForCells:!0,enableForHeaderCells:!1,maxToolTipLength:null};function o(r){var o=n.getCellFromEvent(r);if(o){var i,a=t(n.getCellNode(o.row,o.cell));a.innerWidth()<a[0].scrollWidth?(i=t.trim(a.text()),e.maxToolTipLength&&i.length>e.maxToolTipLength&&(i=i.substr(0,e.maxToolTipLength-3)+"...")):i="",a.attr("title",i)}}function i(e,n){var r=n.column,o=t(e.target).closest(".slick-header-column");r.toolTip||o.attr("title",o.innerWidth()<o[0].scrollWidth?r.name:"")}t.extend(this,{init:function(a){e=t.extend(!0,{},r,e),n=a,e.enableForCells&&n.onMouseEnter.subscribe(o);e.enableForHeaderCells&&n.onHeaderMouseEnter.subscribe(i)},destroy:function(){e.enableForCells&&n.onMouseEnter.unsubscribe(o);e.enableForHeaderCells&&n.onHeaderMouseEnter.unsubscribe(i)}})}}})}(t)}).call(this,n(1))},318:function(t,e,n){t.exports={default:n(329),__esModule:!0}},329:function(t,e,n){n(79),n(78),t.exports=n(330)},330:function(t,e,n){var r=n(10),o=n(104);t.exports=n(7).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},334:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAAXNSR0IArs4c6QAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB94EHhESC1NkMY8AAABaSURBVDjLY2AYkiAtLRSrOCMBTf8JGTxr1mpGFiIcwDhr1mq4K2bNWo2hgIkIQ4RwaSbakFmzVr8jpIaJlIDF5RoWYgOQkiglynAmalg2eAyhSoqlSt4ZPAAAhK0aFjM865EAAAAASUVORK5CYII="},335:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAAXNSR0IArs4c6QAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB94EHhEOMAQYhfYAAABcSURBVDjL1ZM7DoBACERn1rXxCN7/mCbPxsKChJVoslIBgRm+0i8FWCK/kyQyYNvOmAH2SzewVsoH6Dc7ZG0D5R6j7ZdnIkn9SXB1pUPg7Q2yeUC+v9gAdJv7u0+kGjIYZ1Y9RwAAAABJRU5ErkJggg=="},336:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.is_little_endian=i,e.get_model_arrayset_metadata=a,e.cast_array_buffer=l,e.get_model_array_attribute=function(e){var n=t.Deferred();void 0===e.metadata?(e.metadataSuccess=r,function(e,n){t.ajax({url:e.api_root+"models/"+e.mid+"/arraysets/"+e.aid+"/metadata?arrays="+e.array,contentType:"application/json",success:function(t){e.metadata=t.arrays[0],void 0!==e.metadataSuccess?e.metadataSuccess(e):e.success(e)},error:function(t,n,r){e.error&&e.error(t,n,r)},always:function(){n.resolve()}})}(e,n)):r(e);return n;function r(t){var e=[],r="",o=t.metadata,a=t.attribute,s="string"==o.attributes[a].type,c="&byteorder="+(i()?"little":"big");for(var u in s&&(c=""),o.dimensions)r="",r+=o.dimensions[u].begin,r+=":",r+=o.dimensions[u].end,e.push(r);e=e.join("|");var A=new XMLHttpRequest;A.open("GET",t.api_root+"models/"+t.mid+"/arraysets/"+t.aid+"/data?hyperchunks="+t.array+"/"+t.attribute+"/"+e+c),s||(A.responseType="arraybuffer"),A.success=t.success,A.attribute=t.attribute,A.metadata=o,A.isStringAttribute=s,A.onload=function(t){var e=this.response,r=this.metadata,o=this.metadata.attributes[this.attribute];if(1==r.dimensions.length)s=this.isStringAttribute?JSON.parse(this.responseText):l(e,o.type);else if(2==r.dimensions.length)for(var i=r.dimensions[0].end-r.dimensions[0].begin,a=r.dimensions[1].end-r.dimensions[1].begin,s=[],c=0;c!=i;++c)s.push(l(e,o.type,c*a,a));else window.alert("Can't handle array with "+r.dimensions.length+" dimensions.");this.success(s),n.resolve()},A.send()}},e.get_model_arrayset=function(t){void 0!==t.metadata?e(t):void 0!==n[t.api_root+t.mid+t.aid]?(t.metadata=n[t.api_root+t.mid+t.aid],e(t)):(t.metadataSuccess=e,a(t));function e(t){var e=t.metadata,n=[],r=[];if("arrays"in t){for(var o=parseInt(t.arrays.split(":")[0]);o!=parseInt(t.arrays.split(":")[1]);++o)n.push(o);for(var o=0;o!=n.length;++o)for(var a=n[o],s=0;s!=e[a].attributes.length;++s)r.push(a+"/"+s+"/...")}else r.push(".../.../...");var c=t.api_root+"models/"+t.mid+"/arraysets/"+t.aid+"/data?byteorder="+(i()?"little":"big")+"&hyperchunks="+encodeURIComponent(r.join(";")),u=new XMLHttpRequest;u.open("GET",c),u.responseType="arraybuffer",u.success=t.success,u.metadata=e,u.onload=function(e){var n,r,o,i,a,s=this.response,c=this.metadata,u=[],A=null,d=0,h=c.length;if(void 0!==t.arrays){var f=t.arrays.split(":");d=parseInt(f[0]),h=parseInt(f[1])}for(var p=0,g=d;g<h;g++){r=c[g],o=r.index,i=r.dimensions[0].end-r.dimensions[0].begin,a=r.attributes,(n={})["input-index"]=o;for(var v=0;v<a.length;v++)A=a[v],n[A.name]=l(s,A.type,p,i),p+=i;u.push(n)}this.success(u,c,t)},u.send()}};var n=e.arrayset_metadata_cache={},r=e.arrayset_metadata_retrieval_inprogress={},o=e.arrayset_metadata_callbacks={};function i(){return void 0===window.result&&(window.result=67305985===new Uint32Array(new Uint8Array([1,2,3,4]).buffer)[0]),window.result}function a(e){if(void 0!==n[e.api_root+e.mid+e.aid])e.metadata=n[e.api_root+e.mid+e.aid],void 0!==e.metadataSuccess?e.metadataSuccess(e):e.success(e);else if(r[e.api_root+e.mid+e.aid]){var i=void 0!==e.metadataSuccess?e.metadataSuccess:e.success;o[e.api_root+e.mid+e.aid].push({callback:i,parameters:e})}else{r[e.api_root+e.mid+e.aid]=!0;i=void 0!==e.metadataSuccess?e.metadataSuccess:e.success;void 0===o[e.api_root+e.mid+e.aid]&&(o[e.api_root+e.mid+e.aid]=[]),o[e.api_root+e.mid+e.aid].push({callback:i,parameters:e}),t.ajax({url:e.api_root+"models/"+e.mid+"/arraysets/"+e.aid+"/metadata",contentType:"application/json",success:function(t){n[e.api_root+e.mid+e.aid]=t,r[e.api_root+e.mid+e.aid]=!1;for(var i=0;i<o[e.api_root+e.mid+e.aid].length;i++){var a=o[e.api_root+e.mid+e.aid][i].parameters;a.metadata=t,o[e.api_root+e.mid+e.aid][i].callback(a)}},error:function(t,n,r){e.error&&e.error(t,n,r)}})}}function l(t,e,n,r){return"int32"==e?void 0!==n?new Int32Array(t,4*n,r):new Int32Array(t):"int16"==e?void 0!==n?new Int16Array(t,2*n,r):new Int16Array(t):"int8"==e?void 0!==n?new Int8Array(t,n,r):new Int8Array(t):"uint32"==e?void 0!==n?new Uint32Array(t,4*n,r):new Uint32Array(t):"uint16"==e?void 0!==n?new Uint16Array(t,2*n,r):new Uint16Array(t):"uint8"==e?void 0!==n?new Uint8Array(t,n,r):new Uint8Array(t):"float64"==e?void 0!==n?new Float64Array(t,8*n,r):new Float64Array(t):"float32"==e?void 0!==n?new Float32Array(t,4*n,r):new Float32Array(t):void console.error("Unknown array buffer type: "+e)}}).call(this,n(1))},337:function(t,e,n){"use strict";(function(t){var e=l(n(2)),r=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(n(3)),l(n(0))),o=l(n(4)),i=l(n(25)),a=l(n(338));function l(t){return t&&t.__esModule?t:{default:t}}r.default.components.register("slycat-job-checker",{viewModel:function(n){var a={_id:(0,i.default)(window.location).segment(-1)},l=this;l.remote=o.default.fromJS({hostname:null,username:null,password:null,status:null,status_type:null,enable:!0,focus:!1,sid:null,session_exists:!1}),l.remote.focus.extend({notify:"always"}),l.jid=n.jid,l.output=r.default.observable("Output for the current job will be posted here...");var s=-1,c="";l.connect=function(){l.remote.enable(!1),l.remote.status_type("info"),l.remote.status("Connecting..."),l.remote.session_exists()?(l.remote.enable(!0),l.remote.status_type(null),l.remote.status(null),t("#slycat-job-checker-connect-modal").modal("hide"),t("#slycat-job-checker-cancel").removeAttr("disabled"),l.checkjob()):e.default.post_remotes({hostname:l.remote.hostname(),username:l.remote.username(),password:l.remote.password(),success:function(e){l.remote.session_exists(!0),l.remote.sid(e),l.remote.enable(!0),l.remote.status_type(null),l.remote.status(null),t("#slycat-job-checker-connect-modal").modal("hide"),t("#slycat-job-checker-cancel").removeAttr("disabled"),l.checkjob()},error:function(e,n,r){t("#slycat-job-checker-cancel").attr("disabled"),l.remote.enable(!0),l.remote.status_type("danger"),l.remote.status(r),l.remote.focus("password")}})},l.cancel=function(){l.remote.password(""),t("#slycat-job-checker-connect-modal").modal("hide"),l.output(l.output()+"\nPlease reload the page to check job "+l.jid()+"'s status.")},l.cancel_pull=function(){l.remote.password(""),console.log("cancel"),t("#slycat-pull-job-connect-modal").modal("hide"),l.output(l.output()+"\nPlease reload the page to check job "+l.jid()+"'s status.")};var u=function(t){e.default.get_checkjob({hostname:l.remote.hostname(),jid:l.jid(),success:function(t){if(t.errors)l.output(l.output()+"\n[Error] Could not check job iD="+l.jid()+" status: "+t.errors);else{var e=t.status.state;!function(t){return c===t}(e)?l.output(l.output()+"\nJob ID="+l.jid()+" is "+e):l.output(l.output()+"."),"COMPLETED"!==e&&"FAILED"!==e||(clearInterval(s),l.output(l.output()+"\n\nPlease reload to view model."),window.location.reload(!0),c=""),"CANCELLED"!==e&&"REMOVED"!==e||(clearInterval(s),c=""),c=e}},error:function(t,e,n){l.output(l.output()+"\n[Error] Could not check job status: "+e+" :"+n)}})};l.pullDataFromHpc=function(){console.log("1"),l.remote.enable(!1),l.remote.status_type("info"),l.remote.status("Connecting..."),l.remote.session_exists()?(console.log("got session"),l.remote.enable(!0),l.remote.status_type(null),l.remote.status(null),t("#slycat-pull-job-connect-modal").modal("hide"),l.pullHPCData()):e.default.post_remotes({hostname:l.remote.hostname(),username:l.remote.username(),password:l.remote.password(),success:function(e){l.remote.session_exists(!0),l.remote.sid(e),l.remote.enable(!0),l.remote.status_type(null),l.remote.status(null),t("#slycat-pull-job-connect-modal").modal("hide"),l.checkjob()},error:function(e,n,r){t("#slycat-job-checker-cancel").attr("disabled"),l.remote.enable(!0),l.remote.status_type("danger"),l.remote.status(r),l.remote.focus("password")}})},l.pullHPCData=function(){console.log("2"),e.default.get_model_command({mid:a._id,type:"timeseries",command:"pull_data",success:function(t){l.output(l.output()+"\nstarted pull status :"+t.errors)},error:function(t,e,n){l.output(l.output()+"\npull status: "+e+" :"+n)}})},l.checkjob=function(){c="",s=setInterval(u,1e3)},l.set_jid=function(t){l.jid(t)},t("#slycat-job-checker-connect").on("click",function(e){e.preventDefault(),e.stopPropagation(),t("#slycat-job-checker-connect-modal").modal()}),t("#slycat-job-pull").on("click",function(e){e.preventDefault(),e.stopPropagation(),t("#slycat-pull-job-connect-modal").modal()}),t("#slycat-job-checker-clear").on("click",function(t){t.preventDefault(),t.stopPropagation(),l.output("")}),t("#slycat-job-checker-cancel").on("click",function(t){t.preventDefault(),t.stopPropagation(),e.default.delete_job({hostname:l.remote.hostname(),jid:l.jid()})})},template:a.default})}).call(this,n(1))},338:function(t,e){t.exports='<div class="slycat-job-checker bootstrap-styles">\n  <div class="slycat-job-checker-controls">\n    <button id="slycat-job-checker-connect" class="btn btn-default">Connect To View Job Output</button>\n    <button id="slycat-job-checker-clear" class="btn btn-default">Clear Output</button>\n    <button id="slycat-job-pull" class="btn btn-default">Pull data</button>\n    <button id="slycat-job-checker-cancel" class="btn btn-danger" disabled>Cancel Job</button>\n  </div>\n  <div class="slycat-job-checker-output" data-bind="text: output"></div>\n\n  <div id="slycat-job-checker-connect-modal" class="modal fade" data-backdrop="static">\n    <div class="modal-dialog">\n      <div class="modal-content zoom-sensitive">\n        <div class="modal-header">\n          <h4 class="modal-title">Connect to host...</h4>\n        </div>\n        <div class="modal-body">\n          <form class="form-horizontal" role="form">\n            <slycat-remote-controls params="hostname:remote.hostname,username:remote.username,password:remote.password,status:remote.status,status_type:remote.status_type,enable:remote.enable,focus:remote.focus,activate:connect,session_exists:remote.session_exists"></slycat-remote-controls>\n          </form>\n        </div>\n        <div class="modal-footer">\n          <button class="btn btn-primary" data-bind="click:connect,enable:remote.enable">Connect</button>\n          <button class="btn btn-default pull-left" data-bind="click:cancel">Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div id="slycat-pull-job-connect-modal" class="modal fade" data-backdrop="static">\n    <div class="modal-dialog">\n      <div class="modal-content zoom-sensitive">\n        <div class="modal-header">\n          <h4 class="modal-title">Connect to host...</h4>\n        </div>\n        <div class="modal-body">\n          <form class="form-horizontal" role="form">\n            <slycat-remote-controls params="hostname:remote.hostname,username:remote.username,password:remote.password,status:remote.status,status_type:remote.status_type,enable:remote.enable,focus:remote.focus,activate:connect,session_exists:remote.session_exists"></slycat-remote-controls>\n          </form>\n        </div>\n        <div class="modal-footer">\n          <button class="btn btn-primary" data-bind="click:pullDataFromHpc,enable:remote.enable">Connect</button>\n          <button class="btn btn-default pull-left" data-bind="click:cancel_pull">Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n'},408:function(t,e,n){var r=n(409);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,o);r.locals&&(t.exports=r.locals)},409:function(t,e,n){var r=n(38);(t.exports=n(36)(!1)).push([t.i,"/* Copyright (c) 2013, 2018 National Technology and Engineering Solutions of Sandia, LLC . Under the terms of Contract  DE-NA0003525 with National Technology and Engineering Solutions of Sandia, LLC, the U.S. Government  retains certain rights in this software. */\n\n.ui-layout-resizer\n{\n  background-color: #ddc;\n}\n.ui-layout-toggler\n{\n  background-color: #ccb;\n}\n.ui-layout-resizer-open.ui-layout-resizer-hover, .ui-layout-resizer-dragging, .ui-layout-toggler-hover\n{\n  background-color: #fc6;\n}\n.ui-layout-pane, .ui-layout-container\n{\n  background: white;\n  padding: 0;\n  border: 0;\n  margin: 0;\n}\n\n#edit-model-button,\n#rerun-timeseries-button\n{\n  float: right;\n}\n\n/* cluster table styles */\n\n#cluster-pane\n{\n  z-index: 3 !important; /* Required to make bootstrap dropdowns appear over lower panes */\n}\n#controls {\n  margin: 2px 0px;\n}\n.center {\n  text-align: center;\n}\n\n#cluster-viewer\n{\n  margin: 5px;\n  border-collapse: collapse;\n}\n#cluster-viewer td,\n#cluster-viewer th\n{\n  padding: 3px;\n}\n#cluster-viewer td.output\n{\n  background: #dbd9eb;\n  cursor: pointer;\n}\n#cluster-viewer td.output.selected\n{\n  background: #7767b0;\n  color: white;\n}\n\n/* dendrogram styles */\n#dendrogram-pane #dendrogram-sort-control \n{\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  cursor: pointer;\n  background: #DBD9EB url("+r(n(334))+") no-repeat center center;\n  padding: 4px;\n  margin: 0 0 5px 18px;\n  height: 17px;\n  min-width: 17px;\n}\n\n#dendrogram-pane #dendrogram-sort-control.selected\n{\n  background: #7767B0 url("+r(n(335))+") no-repeat center center;\n  color: #FFFFFF;\n  cursor: default;\n}\n\n#dendrogram-pane #dendrogram-controls \n{\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  margin: 5px 0 0px 18px;\n}\n\n#dendrogram-viewer .node .glyph circle\n{\n  stroke: grey;\n}\n\n#dendrogram-viewer .node.selected .glyph circle\n{\n  fill: #7767b0 !important;\n  stroke: black;\n}\n\n#dendrogram-viewer .node .glyph text\n{\n  cursor: pointer;\n}\n\n#dendrogram-viewer .node .subtree\n{\n  cursor: pointer;\n}\n\na \n{\n  cursor: pointer;\n}\n\n#dendrogram-viewer .node .subtree path\n{\n  stroke: none;\n}\n\n/* Hiding the additional glyph initially */\n#dendrogram-viewer .node .subtree path.filled-glyph\n{\n  display: none;\n}\n/* Showing it for selected nodes */\n#dendrogram-viewer .node.selected .subtree path.filled-glyph\n{\n  display: inline;\n}\n\n#dendrogram-viewer .node.selected .subtree text\n{\n  fill: white;\n}\n\n#dendrogram-viewer .node .sparkline path\n{\n  fill: none;\n  stroke: black;\n}\n\n#dendrogram-viewer .link\n{\n  fill: none;\n  stroke: #C9C9C9;\n}\n\n/* waveform styles */\n\n#waveform\n{\n  width: 1000px;\n  height: 700px;\n}\n\n/* data table styles */\n\n#data-pane\n{\n  overflow: auto;\n}\n\n/* Waveform Progress Indicator */\n#waveform-progress,\n#waveform-selection-progress\n{\n    background-color: transparent;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    width: 200px;\n    height: 200px;\n    margin: -100px 0 0 -100px;\n    display: none;\n}\n#waveform-selection-progress\n{\n  z-index: 1;\n}\n#waveform-selector-progress {\n  background-color: transparent;\n  position: absolute;\n  left: 0px;\n  top: 3px;\n  width: 100%;\n  height: 15px;\n  text-align: center;\n  display: none;\n}\n#waveform-selector-progress-wrapper {\n  display: none;\n}\n#waveform-pane:hover #waveform-selector-progress-wrapper {\n  display: block;\n}\n/* Use these colors for the dark night mode */\n#waveform-viewer.nightMode,\n.nightMode rect.selectionMask\n{\n  background-color: #333333;\n  fill: #333333;\n  fill-opacity: 0.5;\n}\n/* Use these colors for the white day mode */\n#waveform-viewer.dayMode,\n.dayMode rect.selectionMask\n{\n  background-color: white;\n  fill: white;\n  fill-opacity: 0.7;\n}\n\n#waveform-viewer .waveform path.unselected {\n  stroke-width: 1;\n  fill: none;\n  stroke-linecap: round;\n}\n#waveform-viewer .waveform path.unselected:hover {\n  stroke-width: 4;\n}\n#waveform-viewer .selection path.highlight {\n  stroke-width: 4.0;\n  fill: none;\n  stroke-linecap: round;\n}\n#table\n{\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n#dendrogram-sparkline-backdrop {\n  height: 100%;\n  width: 130px;\n  position: absolute;\n  right: 0;\n  z-index: -1;\n}\n#dendrogram-viewer g.sparkline path {\n  stroke-linecap: round;\n}\n#dendrogram-viewer g.sparkline path:hover,\n#dendrogram-viewer g.sparkline path.highlight\n{\n  stroke-width: 4px;\n}\n#dendrogram-viewer g.sparkline path.highlight {\n  \n}\n#dendrogram-viewer g.sparkline path.nullValue {\n  stroke-dasharray: 2px, 2px;\n}\n#dendrogram-viewer g.sparkline path.highlight.nullValue {\n  stroke-dasharray: 2px, 5px;\n}\n.legend-axis path,\n.legend-axis line,\n.x-axis path, \n.y-axis path\n{\n  fill: none;\n  stroke: black;\n  shape-rendering: crispedges;\n}\n\n#color-switcher ul.dropdown-menu\n{\n  background-color: #F2F2F2;\n}\n.bootstrap-styles #color-switcher .dropdown-menu > li > a:hover\n{\n  background-color: #E4E4E4;\n}\n.bootstrap-styles #color-switcher .dropdown-menu > .active > a:hover\n{\n  background-color: #337AB7;\n}\n#controls  ul.dropdown-menu  {\n  max-height: 300px;\n  overflow-y: auto;\n}\n",""])},410:function(t,e,n){"use strict";(function(t){n(282),t.widget("timeseries.cluster",{options:{clusters:[],cluster:0},_create:function(){var e=this;this.select_cluster=function(t){this.element.find("td.selected").removeClass("selected"),this.element.find("td:eq("+t+")").addClass("selected")};var n=this.options.clusters,r=(this.options.cluster,t("<tr>").appendTo(t("<thead>").appendTo(this.element)));t("<th>").text("Outputs:").appendTo(r),t.each(n,function(n,o){t("<td>").addClass("output").appendTo(r).data("name",o).data("self",e).data("index",n).text(o).click(function(t,n){return function(){t.select_cluster(n),e.options.cluster=n,t.element.trigger("cluster-changed",n)}}(e,n))}),this.select_cluster(this.options.cluster)}})}).call(this,n(1))},411:function(t,e,n){"use strict";(function(t){var e=c(n(318)),r=c(n(332)),o=c(n(62)),i=c(n(15)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3)),l=c(n(47)),s=c(n(333));function c(t){return t&&t.__esModule?t:{default:t}}n(282),n(256),t.widget("timeseries.controls",{options:{mid:null,model_name:null,aid:null,metadata:null,"color-variable":null,clusters:[],cluster:null,color_variables:[],selection:[],hidden_simulations:[],indices:[],highlight:[]},_create:function(){var e=this,n=t("#general-controls",this.element);this.color_control=t('<div class="btn-group btn-group-xs"></div>').appendTo(n),this.color_button=t('      <button class="btn btn-default dropdown-toggle" type="button" id="color-dropdown" data-toggle="dropdown" aria-expanded="true" title="Change Line Color">         Line Color         <span class="caret"></span>       </button>       ').appendTo(e.color_control),this.color_items=t('<ul id="y-axis-switcher" class="dropdown-menu" role="menu" aria-labelledby="color-dropdown">').appendTo(e.color_control),this.csv_button=t("      <button class='btn btn-default' title='Download Data Table'>         <span class='fa fa-download' aria-hidden='true'></span>       </button>       ").click(function(){0!=e.options.highlight.length||null!=e.options.selection&&e.options.selection.length!=e.options.metadata["row-count"]?function(){var t,n="",r=[{className:"btn-default",label:"Cancel"},{className:"btn-primary",label:"Save Entire Table",icon_class:"fa fa-table"}];t=null!=e.options.selection&&e.options.selection.length>0?e.options.highlight.filter(function(t){return-1!=e.options.selection.indexOf(t)}):e.options.highlight;t.length>0&&(n+="You have "+t.length+" rows selected. ",r.splice(r.length-1,0,{className:"btn-primary",label:"Save Selected",icon_class:"fa fa-check"}));if(null!=e.options.selection&&e.options.selection.length>0&&e.options.selection.length<e.options.metadata["row-count"]){var o=e.options.selection.length;n+="You have "+o+" rows visible. ",r.splice(r.length-1,0,{className:"btn-primary",label:"Save Visible",icon_class:"fa fa-eye"})}n+="What would you like to do?",a.dialog({title:"Download Choices",message:n,buttons:r,callback:function(n){"Save Entire Table"==n.label?e._write_data_table():"Save Selected"==n.label?e._write_data_table(t):"Save Visible"==n.label&&e._write_data_table(e.options.selection)}})}():e._write_data_table()}).appendTo(n),e._set_color_variables()},_write_data_table:function(e){var n=this;t.ajax({type:"POST",url:i.default+"models/"+n.options.mid+"/arraysets/"+n.options.aid+"/data",data:(0,o.default)({hyperchunks:"0/.../..."}),contentType:"application/json",success:function(t){n._write_csv(n._convert_to_csv(t,e),n.options.model_name+"_data_table.csv")},error:function(t,e,n){window.alert("Error retrieving data table: "+n)}})},_write_csv:function(t,e){var n=new Blob([t],{type:"application/csv;charset=utf-8;"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.style="visibility:hidden",o.download=e||"slycatDataTable.csv",document.body.appendChild(o),o.click(),document.body.removeChild(o)},_convert_to_csv:function(t,e){var n=l.default.zip.apply(l.default,(0,r.default)(t));void 0!=e&&e.length>0&&(e.sort(),n=l.default.at(n,e));var o=this.options.metadata["column-names"].slice(0,-1);return n.unshift(o),s.default.unparse(n)},_set_color_variables:function(){var n=this;this.color_items.empty();var r=!0,o=!1,i=void 0;try{for(var a,l=(0,e.default)(this.options.color_variables);!(r=(a=l.next()).done);r=!0){var s=a.value;t("<li role='presentation'>").toggleClass("active",n.options["color-variable"]==s).attr("data-colorvariable",s).appendTo(n.color_items).append(t('<a role="menuitem" tabindex="-1">').html(this.options.metadata["column-names"][s]).click(function(){var e=t(this).parent();if(e.hasClass("active"))return!1;n.color_items.find("li").removeClass("active"),e.addClass("active"),n.element.trigger("color-selection-changed",e.attr("data-colorvariable"))}))}}catch(t){o=!0,i=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}},_set_selected_color:function(){this.color_items.find("li").removeClass("active"),this.color_items.find('li[data-colorvariable="'+this.options["color-variable"]+'"]').addClass("active")},_cloneArrayBuffer:function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},_setOption:function(t,e){this.options[t]=e,"color-variable"==t?this._set_selected_color():"color_variables"==t&&this._set_color_variables()}})}).call(this,n(1))},412:function(t,e,n){"use strict";(function(t){var e=function(t){return t&&t.__esModule?t:{default:t}}(n(283));t.widget("timeseries.legend",{options:{width:300,height:300,metadata:null,label:"Label",min:null,max:null,border:25,v_type:null,uniqueValues:null},_create:function(){this.svg=e.default.select(this.element.get(0)).append("svg"),this.legend_layer=this.svg.append("g").attr("class","legend"),this.legend_axis_layer=this.legend_layer.append("g").attr("class","legend-axis"),this.updates={},this.update_timer=null,this._schedule_update({update_width:!0,update_height:!0,render_legend:!0,update_legend_colors:!0,update_legend_position:!0,update_legend_axis:!0,update_label:!0})},_setOption:function(t,e){this.options[t]=e,"v"==t?this._schedule_update({update_color_domain:!0,render_data:!0,render_selection:!0,update_legend_axis:!0}):"width"==t?this._schedule_update({update_width:!0}):"height"==t?this._schedule_update({update_height:!0,update_legend_position:!0,update_legend_axis:!0,update_label:!0}):"gradient"==t?this._schedule_update({update_legend_colors:!0}):"min"==t||"max"==t?this._schedule_update({update_legend_axis:!0}):"label"==t&&this._schedule_update({update_label:!0})},_schedule_update:function(t){var e=this;for(var n in t)e.updates[n]=t[n];e.update_timer||(e.update_timer=window.setTimeout(function(){e._update()},0))},_update:function(){if(this.update_timer=null,this.updates.update_width&&(this.element.attr("width",this.options.width),this.svg.attr("width",this.options.width)),this.updates.update_height&&(this.element.attr("height",this.options.height),this.svg.attr("height",this.options.height)),this.updates.render_legend){this.legend_layer.append("defs").append("linearGradient").attr("id","color-gradient").attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");this.legend_layer.append("rect").classed("color",!0).attr("width",10).attr("height",200).attr("x",0).attr("y",0).style("fill","url(#color-gradient)")}if(this.updates.update_legend_colors){var t=this.legend_layer.select("#color-gradient").selectAll("stop").data(this.options.gradient);t.exit().remove(),t.enter().append("stop"),t.attr("offset",function(t){return t.offset+"%"}).attr("stop-color",function(t){return t.color})}if(this.updates.update_legend_position){this.element.width();var n=this.element.height(),r=parseInt(n-2*this.options.border),o=this.options.border+28,i=this.options.border;this.legend_layer.attr("transform","translate("+o+","+i+")").attr("data-transx",o).attr("data-transy",i),this.legend_layer.select("rect.color").attr("height",r)}if(this.updates.update_legend_axis){"string"!=this.options.v_type?this.legend_scale=e.default.scale.linear().domain([this.options.max,this.options.min]).range([0,parseInt(this.legend_layer.select("rect.color").attr("height"))]):this.legend_scale=e.default.scale.ordinal().domain(this.options.uniqueValues.reverse()).rangePoints([0,parseInt(this.legend_layer.select("rect.color").attr("height"))]),this.legend_axis=e.default.svg.axis().scale(this.legend_scale).orient("right"),this.legend_axis_layer.attr("transform","translate("+parseInt(this.legend_layer.select("rect.color").attr("width"))+",0)").call(this.legend_axis);this.legend_layer.select("rect.color").style("fill","url(#color-gradient)")}if(this.updates.update_label){this.legend_layer.selectAll(".label").remove();var a=(r=parseInt(this.legend_layer.select("rect.color").attr("height")))/2;this.legend_layer.append("text").attr("class","label").attr("x",-15).attr("y",a).attr("transform","rotate(-90,-15,"+a+")").style("text-anchor","middle").style("font-weight","bold").text(this.options.label)}this.updates={}}})}).call(this,n(1))},413:function(t,e,n){"use strict";(function(t){var e=function(t){return t&&t.__esModule?t:{default:t}}(n(283));n(305),n(306),n(307),n(308),n(309),n(310);var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(336));t.widget("timeseries.table",{options:{api_root:"",mid:null,aid:null,metadata:null,"row-selection":[],"variable-selection":[],"sort-variable":null,"sort-order":null,colormap:null,colorscale:null,table_filter:[],waveform_indexes:[],selection:null,row_count:null,image_columns:[]},_create:function(){var t,n,r=this;function o(t){return null==t?"&nbsp;":(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(t,n,r,i,a){return i.colorscale?"<div class='highlightWrapper"+(null==r?" null":"")+(e.default.hcl(i.colorscale(r)).l>50?" light":" dark")+"' style='background:"+i.colorscale(r)+"'>"+o(r)+"</div>":null==r?"<div class='highlightWrapper"+(null==r?" null":"")+"'>"+o(r)+"</div>":o(r)}function a(t,e,n){var o={id:t,field:t,name:r.options.metadata["column-names"][t],sortable:!1,headerCssClass:e,cssClass:n,formatter:i,header:{buttons:[{cssClass:r.options["sort-variable"]==t?"ascending"==r.options["sort-order"]?"icon-sort-ascending":"icon-sort-descending":"icon-sort-off",tooltip:r.options["sort-variable"]==t&&"ascending"==r.options["sort-order"]?"Sort descending":"Sort ascending",command:r.options["sort-variable"]==t&&"ascending"==r.options["sort-order"]?"sort-descending":"sort-ascending"}]}};return r.options.image_columns.indexOf(t)>-1&&(o.headerCssClass+=" headerImage"),o}r.columns=[],r.columns.push(a(r.options.metadata["column-count"]-1,"headerSimId","rowSimId"));for(var l=0;l<r.options.metadata["column-count"]-1;l++)t="headerInput",n="rowInput",r.options.image_columns.indexOf(l)>-1&&(t="headerOther",n="rowOther"),r.columns.push(a(l,t,n))},resize_canvas:function(){this.grid.resizeCanvas()},_setOption:function(n,o){function i(t,e){a.options["sort-variable"]=t,a.options["sort-order"]=e,a.data.set_sort(t,e,function(){if(a.options["row-selection"].length>0){var t=a.data.getSimulationRowIndexes(a.options["row-selection"]);a.trigger_row_selection=!1,a.grid.setSelectedRows(t),a.grid.resetActiveCell(),t.length&&a.grid.scrollRowToTop(Math.min.apply(Math,t))}}),a.element.trigger("variable-sort-changed",[t,e])}var a=this;if("row-selection"==n){a.options[n]=o;var l=a.data.getSimulationRowIndexes(a.options["row-selection"]);a.trigger_row_selection=!1,a.grid.setSelectedRows(l),a.grid.resetActiveCell(),l.length&&a.grid.scrollRowToTop(Math.min.apply(Math,l))}else if("row-selection-silent"==n)a.options["row-selection"]=o;else if("variable-selection"==n){if(a._array_equal(a.options[n],o))return;a.options[n]=o,a._color_variables(o)}else if("colorscale"==n)a.options[n]=o,a._color_variables(a.options["variable-selection"]);else if("selection"==n){var s,c,u=function(t){var e=void 0,n=void 0;if(void 0!==t){var r;if("descending"==a.options["sort-order"]){for(var o=[],l=0;l<t.length;l++)o.push(t[l]);t=o.reverse()}var s=[];for(l=0;l<a.options.table_filter.length;l++)s.push(t.indexOf(a.options.table_filter[l]));n=(e=(r=new Int32Array(s)).length>1?Array.apply([],r):[r[0]]).slice(0).sort(function(t,e){return t-e})}if(a.data=new a._data_provider({api_root:a.options.api_root,mid:a.options.mid,aid:a.options.aid,metadata:a.options.metadata,sort_column:a.options["sort-variable"],sort_order:a.options["sort-order"],table_filter:a.options.table_filter,row_count:a.options.row_count,sorted_table_filter:e,retrieve_table_filter:n}),a.grid){if(a.grid.setData(a.data),a.data.setGrid(a.grid),a.grid.invalidate(),a.options["row-selection"].length>0){var c=a.data.getSimulationRowIndexes(a.options["row-selection"]);a.trigger_row_selection=!1,a.grid.setSelectedRows(c),a.grid.resetActiveCell(),c.length&&a.grid.scrollRowToTop(Math.min.apply(Math,c))}}else{a.trigger_row_selection=!0,a.grid=new Slick.Grid(a.element,a.data,a.columns,{explicitInitialization:!0,enableColumnReorder:!1}),a.data.setGrid(a.grid);var u=new Slick.Plugins.HeaderButtons;if(u.onCommand.subscribe(function(t,e){var n=e.column,r=e.button,o=e.command,l=e.grid;for(var s in a.columns)a.columns[s].header.buttons[0].cssClass="icon-sort-off",a.columns[s].header.buttons[0].tooltip="Sort ascending",a.columns[s].header.buttons[0].command="sort-ascending",l.updateColumnHeader(a.columns[s].id);"sort-ascending"==o?(r.cssClass="icon-sort-ascending",r.command="sort-descending",r.tooltip="Sort descending",i(n.id,"ascending")):"sort-descending"==o&&(r.cssClass="icon-sort-descending",r.command="sort-ascending",r.tooltip="Sort ascending",i(n.id,"descending"))}),a.grid.registerPlugin(u),a.grid.registerPlugin(new Slick.AutoTooltips({enableForHeaderCells:!0})),a.grid.setSelectionModel(new Slick.RowSelectionModel),a.grid.onSelectedRowsChanged.subscribe(function(t,e){if(a.trigger_row_selection){for(var n=[],r=0;r<e.rows.length;r++)n.push(a.grid.getDataItem(e.rows[r])[a.options.metadata["column-count"]-1]);a.options["row-selection"]=n,a.element.trigger("row-selection-changed",[n])}a.trigger_row_selection=!0}),a.grid.onHeaderClick.subscribe(function(t,e){a._array_equal([e.column.field],a.options["variable-selection"])||-1!=a.options.image_columns.indexOf(e.column.field)||(a.options["variable-selection"]=[e.column.field],a.element.trigger("variable-selection-changed",{variable:a.options["variable-selection"],colorscale:e.column.colorscale}))}),a._color_variables(a.options["variable-selection"]),a.grid.init(),a.options["row-selection"].length>0){c=a.data.getSimulationRowIndexes(a.options["row-selection"]);a.trigger_row_selection=!1,a.grid.setSelectedRows(c),a.grid.resetActiveCell(),c.length&&a.grid.scrollRowToTop(Math.min.apply(Math,c))}}a.data.onDataLoaded.subscribe(function(t,e){for(var n=e.from;n<=e.to;n++)a.grid.invalidateRow(n);a.grid.render()})};a.options[n]=o;var A=[],d=[];if(t.each(o,function(t,e){s=e["data-table-index"],c=e["waveform-index"],null!=s&&(A.push(s),d.push(c))}),a.options.table_filter=A,a.options.waveform_indexes=d,a.options.row_count=A.length,null!==a.options["sort-variable"]&&null!==a.options["sort-order"]&&a.options.table_filter.length>0)if(a.options["sort-variable"]==a.options.metadata["column-count"]-1)u(new Int32Array(e.default.range(a.options.metadata["row-count"])));else{var h=new XMLHttpRequest;h.open("GET",a.options.api_root+"models/"+a.options.mid+"/arraysets/"+a.options.aid+"/data?hyperchunks=0/rank(a"+a.options["sort-variable"]+',"asc")/...&byteorder='+(r.is_little_endian()?"little":"big")),h.responseType="arraybuffer",h.onload=function(t){for(var e=[],n=new Int32Array(this.response),r=0;r<n.length;r+=2)e.push(n[r]);e=new Int32Array(e),u(e)},h.send()}else u()}else if("sort-variable"==n)for(var f in a.options[n]=o,null===o&&(a.options["sort-order"]=null),i(a.options["sort-variable"],a.options["sort-order"]),a.columns)a.columns[f].header.buttons[0].cssClass="icon-sort-off",a.columns[f].header.buttons[0].tooltip="Sort ascending",a.columns[f].header.buttons[0].command="sort-ascending",a.grid.updateColumnHeader(a.columns[f].id)},_color_variables:function(e){var n=this.grid.getColumns();for(var r in n){var o=n[r];null!==this.options.colorscale&&-1!=t.inArray(o.id,e)?(o.colorscale=this.options.colorscale,o.cssClass=o.cssClass.split(" ")[0]+" highlight"):(o.colorscale=null,o.cssClass=o.cssClass.split(" ")[0])}this.grid.invalidate()},_data_provider:function(n){var o=this;o.api_root=n.api_root,o.mid=n.mid,o.aid=n.aid,o.metadata=n.metadata,o.sort_column=n.sort_column,o.sort_order=n.sort_order,o.table_filter=n.table_filter,void 0==n.sorted_table_filter?o.sorted_table_filter=n.table_filter:o.sorted_table_filter=n.sorted_table_filter,void 0==n.retrieve_table_filter?o.retrieve_table_filter=n.table_filter:o.retrieve_table_filter=n.retrieve_table_filter,o.row_count=n.row_count,o.ranked_indices={},o.pages={},o.pages_in_progress={},o.page_size=50,o.onDataLoaded=new Slick.Event,o.get_indices_old=function(e,n,i,a){if(0!=a&&(a=!0),0!=n.length){var l="";null!==o.sort_column&&null!==o.sort_order&&(l="&sort="+o.sort_column+":"+o.sort_order);for(var s="",c=0;c<n.length;++c){s+=n[c];break}for(c=1;c<n.length;++c)s+=",",s+=n[c];if(a){var u=new XMLHttpRequest;u.open("GET",o.api_root+"models/"+o.mid+"/tables/"+o.aid+"/arrays/0/"+e+"-indices?rows="+s+"&index=Index&byteorder="+(r.is_little_endian()?"little":"big")+l),u.responseType="arraybuffer",u.callback=i,u.onload=function(t){this.callback(new Int32Array(this.response))},u.send()}else t.ajax({type:"GET",url:o.api_root+"models/"+o.mid+"/tables/"+o.aid+"/arrays/0/"+e+"-indices?rows="+s+"&index=Index"+l,async:!1,callback:i,success:function(t){this.callback(new Int32Array(t))}})}else i([])},o.get_indices=function(t,n,i){if(0!=n.length)if(null==o.sort_column||null==o.sort_order)i(n);else if(o.ranked_indices[o.sort_column]){var a=o.ranked_indices[o.sort_column];if("descending"==o.sort_order){for(var l=[],s=0;s<a.length;s++)l.push(a[s]);a=l.reverse()}var c=[];for(s=0;s<n.length;s++)"unsorted"==t?c.push(a[n[s]]):"sorted"==t&&c.push(a.indexOf(n[s]));i(new Int32Array(c))}else if(o.sort_column==o.metadata["column-count"]-1)o.ranked_indices[o.sort_column]=new Int32Array(e.default.range(o.metadata["row-count"])),o.get_indices(t,n,i);else{var u=new XMLHttpRequest;u.open("GET",o.api_root+"models/"+o.mid+"/arraysets/"+o.aid+"/data?hyperchunks=0/rank(a"+o.sort_column+',"asc")/...&byteorder='+(r.is_little_endian()?"little":"big")),u.responseType="arraybuffer",u.direction=t,u.rows=n,u.callback=i,u.onload=function(t){for(var e=[],n=new Int32Array(this.response),r=0;r<n.length;r+=2)e.push(n[r]);o.ranked_indices[o.sort_column]=new Int32Array(e),o.get_indices(this.direction,this.rows,this.callback)},u.send()}else i([])},o.setGrid=function(t){o.grid=t},o.getLength=function(){return o.row_count},o.getItem_old=function(e){var n=o.metadata["column-count"],r=Math.floor(e/o.page_size),i=r*o.page_size;if(!(r in o.pages)){var a=i,l=(r+1)*o.page_size,s="";null!==o.sort_column&&null!==o.sort_order&&(s="&sort="+o.sort_column+":"+o.sort_order);var c=o.retrieve_table_filter.slice(a,l).join(",");t.ajax({type:"GET",url:o.api_root+"models/"+o.mid+"/tables/"+o.aid+"/arrays/0/chunk?rows="+c+"&columns=0-"+n+"&index=Index"+s,async:!1,success:function(t){o.pages[r]=t},error:function(t,e,n){console.log("error",t,e,n)}})}for(var u={},A=0;A!=n;++A)u[A]=o.pages[r].data[A][e-i];return u},o.getItem=function(e){var n=o.metadata["column-count"],r=Math.floor(e/o.page_size),i=r*o.page_size;if(o.pages_in_progress[r])return null;if(!(r in o.pages)){o.pages_in_progress[r]=!0;var a=i,l=(r+1)*o.page_size,s=o.retrieve_table_filter.slice(a,l).join("|"),c="";if(null!==o.sort_column&&null!==o.sort_order){var u="a"+o.sort_column,A=o.sort_order;"ascending"==A?A="asc":"descending"==A&&(A="desc"),o.sort_column==o.metadata["column-count"]-1&&(u="index(0)"),c="/order: rank("+u+', "'+A+'")'}return t.ajax({type:"GET",url:o.api_root+"models/"+o.mid+"/arraysets/"+o.aid+"/data?hyperchunks=0/0:"+(n-1)+"|index(0)"+c+"/"+s,success:function(t){o.pages[r]=[];for(var e=n-0,i=t.length/e,s=0;s<i;s++){for(var c={},u=0;u!=n;++u)c[u]=t[(u-0)*i+s];o.pages[r].push(c)}o.pages_in_progress[r]=!1,o.onDataLoaded.notify({from:a,to:l})},error:function(t,e,n){console.log("error",t,e,n)}}),null}return o.pages[r][e-i]},o.getItemMetadata=function(t){return null},o.set_sort=function(t,e,n){t==o.sort_column&&e==o.sort_order||(null==t||null==e?(o.sort_column=t,o.sort_order=e,o.sorted_table_filter=o.table_filter,o.retrieve_table_filter=o.table_filter,o.pages={},o.grid.invalidate(),n()):(o.sort_column=t,o.sort_order=e,o.get_indices("sorted",o.table_filter,function(t){t.length>1?o.sorted_table_filter=Array.apply([],t):o.sorted_table_filter=[t[0]],o.retrieve_table_filter=o.sorted_table_filter.slice(0).sort(function(t,e){return t-e}),o.pages={},o.grid.invalidate(),n()})))},o.getSimulationRowIndexes=function(t){for(var e,n,r,i=[],a=0;a<t.length;a++)(e=o.table_filter.indexOf(t[a]))>-1&&(n=o.sorted_table_filter[e],r=o.retrieve_table_filter.indexOf(n),i.push(r));return i}},_array_equal:function(e,n){return 0==t(e).not(n).length&&0==t(n).not(e).length}})}).call(this,n(1))},414:function(t,e,n){"use strict";(function(t){var e=function(t){return t&&t.__esModule?t:{default:t}}(n(283)),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(336));n(256),t.widget("timeseries.dendrogram",{options:{api_root:"",mid:null,clusters:[],cluster:0,cluster_data:null,collapsed_nodes:null,expanded_nodes:null,selected_nodes:null,color_array:null,color_scale:null,data_table_index_array:null,dendrogram_sort_order:!0,highlight:[],image_columns:[]},_create:function(){this._set_cluster()},_set_cluster:function(){var n=this;n.container=e.default.select("#dendrogram-viewer");for(var o=this.options.cluster_data,i=this.options.collapsed_nodes,a=this.options.expanded_nodes,l=this.options.selected_nodes,s=(n.options.api_root,n.options.mid,o.linkage),c=o["input-indices"],u=o.exemplars,A=[],d=0;d<c.length;d++)A.push({"node-index":A.length,leaves:1,exemplar:u[d],selected:!1,"waveform-index":d,"data-table-index":c[d]});for(d=0;d<s.length;d++)A.push({"node-index":A.length,children:[A[s[d][0]],A[s[d][1]]],leaves:s[d][3],exemplar:u[d+c.length],selected:!1,"waveform-index":null,"data-table-index":null});var h=this.element.parent().width()-20-20-110,f=this.element.parent().height()-20-20,p=e.default.layout.cluster().size([f,h]).separation(function(){return 1});n.container.selectAll("g").remove(),n.sortControl=t('<div id="dendrogram-sort-control"></div>').appendTo("#dendrogram-pane").click(function(){t(this).hasClass("selected")||(n.options.dendrogram_sort_order=!0,n._set_dendrogram_sort_order_state(),n.element.trigger("sort-by-dendrogram-order"))}),n.outputsButtonLabel=t("#dendrogram-controls button.outputs .buttonLabel"),n.outputs_items=t("#dendrogram-controls ul.outputs"),n._set_dendrogram_sort_order_state(),n._set_outputs();var g=n.container.append("svg:g").attr("transform","translate(20,20)"),v=A[A.length-1];n.root=v,v.x0=f/2,v.y0=0;var m=p.nodes(v).reverse(),w=-1;if(m.forEach(function(t){w=Math.max(w,t.depth)}),null==i&&null==a&&null==l||m.forEach(function(t){null!=l&&l.length>0&&l.indexOf(t["node-index"])>-1&&(t.selected=!0),i&&i.indexOf(t["node-index"])>-1&&t.children?S(t):a&&a.indexOf(t["node-index"])>-1&&t._children&&S(t)}),null==a&&null==i&&m.forEach(function(t){3==t.depth&&S(t)}),null==l)C(n,v,!0);else{k(),M();var y=[];x(v,y),n.element.trigger("node-selection-changed",{node:null,skip_bookmarking:!0,selection:y})}function b(t){for(var e=[],n=null,r=0;r<t.length;r++)null!=(n=t[r]["node-index"])&&e.push(n);return e}function _(t,e){return t.target._children?"M"+t.source.y+","+t.source.x+"V"+t.target.x+"H"+h:"M"+t.source.y+","+t.source.x+"V"+t.target.x+"H"+t.target.y}function x(t,e){if(t.selected&&e.push({"node-index":t["node-index"],"waveform-index":t["waveform-index"],"data-table-index":t["data-table-index"]}),t.children)for(var n=0;n<t.children.length;n++)x(t.children[n],e);if(t._children)for(n=0;n<t._children.length;n++)x(t._children[n],e)}function C(t,e,n){!function t(e){if(e.selected=!0,e.children)for(var n=0;n<e.children.length;n++)t(e.children[n]);if(e._children)for(n=0;n<e._children.length;n++)t(e._children[n])}(e),k(),M();var r=[];x(v,r),t.options.selected_nodes=b(r),t.element.trigger("node-selection-changed",{node:e,skip_bookmarking:n,selection:r})}function k(){n.container.selectAll(".node").classed("selected",function(t){return t.selected})}function M(){n.container.selectAll("path.link").attr("style",function(t){if(function t(e){if(e.selected)return!0;if(e.children){for(var n=0;n<e.children.length;n++)if(t(e.children[n]))return!0}else if(e._children)for(var n=0;n<e._children.length;n++)if(t(e._children[n]))return!0;return!1}(t.target))return t.source.selected?"stroke: black;":"stroke: #646464;"})}function S(t){t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null),n.element.trigger("node-toggled",t)}!function o(i,a){var l=e.default.event&&e.default.event.altKey?5e3:500;var s=p.nodes(v).reverse();var c=-1;s.forEach(function(t){c=Math.max(c,t.children?t.depth:-1)});s.forEach(function(t){(t.children||t._children)&&(t.y=t.depth*(h/(c+1)))});var u=g.selectAll("g.node").data(s,function(t){return t["node-index"]});function d(t,e){if(t.children)for(var n=0;n<t.children.length;n++)t.children[n].depth==e&&t.children[n].children?S(t.children[n]):t.children[n].depth<e&&t.children[n]._children?(S(t.children[n]),d(t.children[n],e)):t.children[n].depth<e&&t.children[n].children&&d(t.children[n],e)}var f=u.enter().append("svg:g").attr("class","node").classed("selected",function(t){return t.selected}).attr("transform",function(t){return"translate("+i.y0+","+i.x0+")"}).style("opacity",1e-6);var m=f.append("svg:g").attr("class","subtree").style("opacity",1e-6).style("display",function(t){return t.leaves>1?"inline":"none"}).on("click",function(t){S(t);d(t,t.depth+9999),o(t)});m.append("svg:path").attr("class","subtree-glyph").attr("title","Expand all").attr("alt","Expand all").attr("d","M 0 0 L 40 -13 L 40 13 Z").style("fill","url(#subtree-gradient)");m.append("svg:path").attr("class","filled-glyph").attr("title","Expand all").attr("alt","Expand all").attr("d","M 0 0 L 40 -13 L 40 13 Z").style("fill","#7767b0");m.append("svg:text").attr("x",28).attr("dy",".4em").attr("text-anchor","middle").attr("title","Expand all").attr("alt","Expand all").text(function(t){return t.leaves});m.append("svg:text").attr("x",-9).attr("dy",-5).attr("text-anchor","middle").text("+").style("fill","black").on("click",function(t){S(t);d(t,t.depth+2),o(t),e.default.event.stopPropagation()});var w=f.append("svg:g").attr("class","glyph").on("click",function(r){e.default.event.ctrlKey||e.default.event.metaKey?r.selected?function(e,n,r){(function t(e){e.selected=!1;if(e.children)for(var n=0;n<e.children.length;n++)t(e.children[n]);if(e._children)for(var n=0;n<e._children.length;n++)t(e._children[n])})(n),function e(n){if(n.children||n._children){if(n.selected){var r=!1,o=!1;return n.children&&t.each(n.children,function(t,n){o=e(n),r=r||o}),n._children&&t.each(n._children,function(t,n){o=e(n),r=r||o}),n.selected=r,r}return n.children&&t.each(n.children,function(t,n){e(n)}),n._children&&t.each(n._children,function(t,n){e(n)}),!1}return!!n.selected}(v),k(),M();var o=[];x(v,o),e.options.selected_nodes=b(o),e.element.trigger("node-selection-changed",{node:n,skip_bookmarking:r,selection:o})}(n,r):C(n,r):(t.each(A,function(t,e){e.selected=!1}),C(n,r))});w.append("svg:circle").attr("r",4.5).style("cursor","pointer").style("fill",function(t){return t.children||t._children?"#dbd9eb":"white"});w.append("svg:text").attr("x",-9).attr("dy",13).attr("text-anchor","middle").text("–").style("fill","black").style("display",function(t){return t._children||!t.children&&!t._children?"none":"inline"}).on("click",function(t){S(t),o(t),e.default.event.stopPropagation()});var y=f.append("svg:g").attr("class","sparkline").attr("transform",function(t){return t.leaves>1?"translate(55, 0)":"translate(15, 0)"}).style("opacity",1e-6).style("display","none");var E=y.append("svg:path").style("stroke",function(e,r){if(null!==n.options.color_scale&&null!=n.options.color_array){var o=e["data-table-index"];if(null!=o){var i=n.options.color_array[o];return null!=i?n.options.color_scale(i):t("#color-switcher").colorswitcher("get_null_color")}return"black"}return"black"}).classed("nullValue",function(t,e){return!(null==t["data-table-index"]||null!=t["data-table-index"]&&null!==n.options.color_array[t["data-table-index"]])}).on("click",function(t){n._handle_highlight(t,e.default.event,this)});n._set_highlight();function R(t){return Array.isArray(t)?t:JSON.parse(t)}r.get_model_arrayset_metadata({api_root:n.options.api_root,mid:n.options.mid,aid:"preview-"+R(n.options.clusters)[n.options.cluster],success:function(o){E.each(function(o,i){void 0==o.exemplar?t(this).attr("d",""):r.get_model_arrayset({api_root:n.options.api_root,mid:n.options.mid,aid:"preview-"+R(n.options.clusters)[n.options.cluster],arrays:o.exemplar+":"+(o.exemplar+1),element:this,success:function(n,r,o){for(var i=n[0].value,a=[],l=0;l!=i.length;++l)a.push(i[l]);var s=e.default.min(a),c=e.default.max(a),u=e.default.scale.linear().domain([0,a.length-1]).range([0,100]),A=e.default.scale.linear().domain([c,s]).range([-15,15]).nice(),d=e.default.svg.line().x(function(t,e){return u(e)}).y(function(t){return A(t)});t(o.element).attr("d",d(a))}})})}});var N=u.transition().duration(l).attr("transform",function(t){return"translate("+(t._children?h-40:t.y)+","+t.x+")"}).style("opacity",1);N.select(".subtree").style("opacity",function(t){return t._children?1:1e-6}).style("display",function(t){return t._children?"inline":"none"});N.select(".subtree-glyph").style("fill","url(#subtree-gradient)");N.select(".sparkline").style("opacity",function(t){return t._children||!t.children&&!t._children?1:1e-6}).each("end",function(){e.default.select(this).style("display",function(t){return t._children||!t.children&&!t._children?"inline":"none"})});N.select(".glyph text").style("display",function(t){return t._children||!t.children&&!t._children?"none":"inline"});var D=u.exit().transition().duration(l).attr("transform",function(t){return"translate("+i.y+","+i.x+")"}).style("opacity",1e-6).remove();D.select(".sparkline").each("start",function(){e.default.select(this).style("display","none")});var P=g.selectAll("path.link").data(p.links(s),function(t){return t.target["node-index"]});P.enter().insert("svg:path","g").attr("class","link").attr("d",function(t){var e={x:i.x0,y:i.y0};return _({source:e,target:e})}).transition().duration(l).attr("d",_);P.transition().duration(l).attr("d",_);P.exit().transition().duration(l).attr("d",function(t){var e={x:i.x,y:i.y};return _({source:e,target:e})}).remove();M();s.forEach(function(t){t.x0=t.x,t.y0=t.y});if(!a){var T=[],I=[];!function t(e){if(e.children){T.push(e["node-index"]);for(var n=0;n<e.children.length;n++)t(e.children[n])}else e._children&&I.push(e["node-index"])}(v),n.options.expanded_nodes=T,n.options.collapsed_nodes=I,n.element.trigger("expanded-collapsed-nodes-changed",{expanded:T,collapsed:I})}}(v,!0)},_set_color:function(){var e=this;this.container.selectAll("g.sparkline path").style("stroke",function(n,r){var o=n["data-table-index"];if(null!=o){var i=e.options.color_array[o];return null!=i?e.options.color_scale(i):t("#color-switcher").colorswitcher("get_null_color")}return"black"}).classed("nullValue",function(t,n){return null!=t["data-table-index"]&&(null==t["data-table-index"]||null===e.options.color_array[t["data-table-index"]])})},_set_highlight:function(){var t=this;!function e(n){var r=!1;if(n.children){for(var o=0;o<n.children.length;o++)e(n.children[o])&&(r=!0);n.highlight=r}else if(n._children){for(var o=0;o<n._children.length;o++)e(n._children[o])&&(r=!0);n.highlight=r}else null!=n["data-table-index"]&&t.options.highlight.indexOf(n["data-table-index"])>-1?(n.highlight=!0,r=!0):(n.highlight=!1,r=!1);return r}(t.root),this.container.selectAll("g.sparkline path").classed("highlight",function(t,e){return!!t.highlight})},_handle_highlight:function(t,e,n){var r=function t(e){var n=[];if(e.children)for(var r=0;r<e.children.length;r++)null!=e.children[r]["data-table-index"]?n.push(e.children[r]["data-table-index"]):n=n.concat(t(e.children[r]));else if(e._children)for(var r=0;r<e._children.length;r++)null!=e._children[r]["data-table-index"]?n.push(e._children[r]["data-table-index"]):n=n.concat(t(e._children[r]));else null!=e["data-table-index"]&&n.push(e["data-table-index"]);return n}(t);if(e.ctrlKey||e.metaKey)if(t.highlight)for(var o=0;o<r.length;o++){var i=this.options.highlight.indexOf(r[o]);i>-1&&this.options.highlight.splice(i,1)}else for(o=0;o<r.length;o++)-1==this.options.highlight.indexOf(r[o])&&this.options.highlight.push(r[o]);else this.options.highlight=r;this._set_highlight(),this.element.trigger("waveform-selection-changed",[this.options.highlight])},_set_dendrogram_sort_order_state:function(){var t=this;t.sortControl.attr("title",function(e,n){return t.options.dendrogram_sort_order?"Inputs are sorted in dendrogram order":"Sort inputs in dendrogram order"}).toggleClass("selected",t.options.dendrogram_sort_order)},_set_outputs:function(){var e=this;e.outputs_items.empty();for(var n=0;n<e.options.clusters.length;n++)t("<li role='presentation'>").toggleClass("active",e.options.cluster==n).attr("data-cluster",n).appendTo(e.outputs_items).append(t('<a role="menuitem" tabindex="-1">').html(e.options.clusters[n]).click(function(){var n=t(this).parent();if(n.hasClass("active"))return!1;e.outputs_items.find("li").removeClass("active"),n.addClass("active"),e.options.cluster=n.attr("data-cluster"),e.element.trigger("cluster-changed",n.attr("data-cluster"))}));e.outputsButtonLabel.text(e.options.clusters[e.options.cluster])},resize_canvas:function(){this._set_cluster()},_setOption:function(t,e){this.options[t]=e,"cluster_data"==t?this._set_cluster():"color-options"==t?(this.options.color_array=e.color_array,this.options.color_scale=e.color_scale,this._set_color()):"color_scale"==t?this._set_color():"dendrogram_sort_order"==t?this._set_dendrogram_sort_order_state():"highlight"==t&&(void 0==e&&(this.options.highlight=[]),this._set_highlight())}})}).call(this,n(1))},415:function(t,e,n){"use strict";(function(t){var e=r(n(283));r(n(416));function r(t){return t&&t.__esModule?t:{default:t}}t.widget("timeseries.waveformplot",{options:{mid:null,waveforms:null,selection:null,highlight:[],color_array:null,color_scale:null,nullWaveformColor:"gray",nullWaveformDasharray:"5,5",hover:[]},_create:function(){var n=this;this.waveforms=this.options.waveforms,this.container=e.default.select("#waveform-viewer"),this.width=t("#waveform-pane").width(),this.height=t("#waveform-pane").height(),this.padding_top=20,this.padding_right=20,this.padding_bottom=40,this.padding_left=60,this.diagram_width=this.width-this.padding_right-this.padding_left,this.diagram_height=this.height-this.padding_top-this.padding_bottom,this.waveformPieContainer=t("#waveform-progress"),this.waveformPie=t("#waveform-progress .waveformPie"),this.waveformPie.knob({min:0,readOnly:!0,displayInput:!1,fgColor:"#7767B0",bgColor:"#DBD9EB",width:200,height:200,thickness:.35,step:1}),this.waveformSelectionPieContainer=t("#waveform-selection-progress"),this.waveformSelectionPie=t("#waveform-selection-progress .waveformPie"),this.waveformSelectionPie.knob({min:0,readOnly:!0,displayInput:!1,fgColor:"#7767B0",bgColor:"#DBD9EB",width:200,height:200,thickness:.35,step:1}),this.waveformSelectorPieContainer=t("#waveform-selector-progress"),this.waveformSelectorPie=t("#waveform-selector-progress .waveformPie"),this.waveformSelectorPie.knob({min:0,readOnly:!0,displayInput:!1,fgColor:"#7767B0",bgColor:"#DBD9EB",width:15,height:15,thickness:.5,step:1}),this.waveformProcessingTimeout={timeoutID:null},this.waveformSelectionProcessingTimeout={timeoutID:null},this.previewWaveformsTimeout=null,this.showWaveformPieContainerTimeout=null,this.showWaveformSelectionPieContainerTimeout=null,this.showWaveformSelectorPieContainerTimeout=null,this.color_array=this.options.color_array,this.color_scale=this.options.color_scale,this.container.selectAll("canvas").remove(),this.x_axis_layer=this.container.append("g").attr("class","x-axis"),this.y_axis_layer=this.container.append("g").attr("class","y-axis"),this.canvas_datum=e.default.select(n.element.parent().get(0)).insert("canvas",":first-child").style({position:"absolute",left:this.padding_left+"px",top:this.padding_top+"px"}).node(),this.canvas_datum_ctx=this.canvas_datum.getContext("2d",{alpha:!0}),this.canvas_selection=e.default.select(n.element.parent().get(0)).append("canvas").style({position:"absolute",left:this.padding_left+"px",top:this.padding_top+"px"}).node(),this.canvas_selection_ctx=this.canvas_selection.getContext("2d",{alpha:!0}),this.canvas_hover=e.default.select(n.element.parent().get(0)).append("canvas").style({position:"absolute",left:this.padding_left+"px",top:this.padding_top+"px"}).node(),this.canvas_hover_ctx=this.canvas_hover.getContext("2d",{alpha:!0}),this.canvas_offscreen=document.createElement("canvas"),this.canvas_offscreen_ctx=this.canvas_offscreen.getContext("2d",{alpha:!0}),this.canvas_picker=document.createElement("canvas"),this.canvas_picker_ctx=this.canvas_picker.getContext("2d",{alpha:!0}),this.canvas_hover.addEventListener("mousemove",function(t){var e,r,o=t.layerX,i=t.layerY,a=n.canvas_picker_ctx.getImageData(o,i,1,1).data;a[0],a[1],a[2],a[3],255==a[3]?(e=function(t,e,n){return t<<16|e<<8|n}(a[0],a[1],a[2]),r=n.paths[e],n.canvas_picker_ctx.isPointInStroke(r,o,i)&&(n.options.hover=[e],n._hover())):n.options.hover.length>0&&(n.options.hover=[],n._hover())}),this.canvas_hover.addEventListener("click",function(t){if(t.ctrlKey||t.metaKey){var e=n.options.highlight.indexOf(n.options.hover[0]);e<0?n.options.highlight.push(n.options.hover[0]):(n.options.highlight.splice(e,1),n.options.hover=[],n._hover())}else n.options.highlight=n.options.hover.slice();n._selection(),n.element.trigger("waveform-selection-changed",[n.options.highlight]),t.stopPropagation()});var r=this.options.selection;if(null===r){r=[];for(var o=0;o<this.waveforms.length;o++)r.push(this.waveforms[o]["input-index"]);this.options.selection=r}this._set_visible(),this._selection()},_calculate_paths:function(){var t,n,r,o=e.default.min(this.waveforms,function(t){return e.default.min(t.time)}),i=e.default.max(this.waveforms,function(t){return e.default.max(t.time)}),a=e.default.min(this.waveforms,function(t){return e.default.min(t.value)}),l=e.default.max(this.waveforms,function(t){return e.default.max(t.value)});this.x=e.default.scale.linear().domain([o,i]).range([0,this.diagram_width]),this.y=e.default.scale.linear().domain([l,a]).range([0,this.diagram_height]),this.paths=[];for(var s=0;s<this.waveforms.length;s++){r=new Path2D,n=(t=this.waveforms[s]).time.length;for(var c=0;c!=n;++c){r.moveTo(this.x(t.time[c]),this.y(t.value[c]));break}for(c=1;c<n;++c)r.lineTo(this.x(t.time[c]),this.y(t.value[c]));this.paths[t["input-index"]]=r}},_set_visible:function(){var n=this,r=this.options.selection;this.waveforms=this.options.waveforms,n._stopProcessingWaveforms();var o=e.default.min(this.waveforms,function(t){return e.default.min(t.time)}),i=e.default.max(this.waveforms,function(t){return e.default.max(t.time)}),a=e.default.min(this.waveforms,function(t){return e.default.min(t.value)}),l=e.default.max(this.waveforms,function(t){return e.default.max(t.value)});this.x=e.default.scale.linear().domain([o,i]).range([0,this.diagram_width]),this.y=e.default.scale.linear().domain([l,a]).range([0,this.diagram_height]),this.x_axis=e.default.svg.axis().scale(this.x).orient("bottom"),this.x_axis_layer.attr("transform","translate("+(this.padding_left-1)+","+(this.padding_top+this.diagram_height+1)+")").call(this.x_axis),this.y_axis=e.default.svg.axis().scale(this.y).orient("left"),this.y_axis_layer.attr("transform","translate("+(this.padding_left-1)+","+(this.padding_top+1)+")").call(this.y_axis),e.default.selectAll("canvas").attr("width",this.diagram_width).attr("height",this.diagram_height),this.canvas_offscreen.width=this.diagram_width,this.canvas_offscreen.height=this.diagram_height,this.canvas_picker.width=this.diagram_width,this.canvas_picker.height=this.diagram_height;var s=t("#color-switcher").colorswitcher("get_background"),c=t("#color-switcher").colorswitcher("get_opacity");this.canvas_hover_ctx.fillStyle="rgba("+s.r+", "+s.g+", "+s.b+", "+c+")",this.canvas_selection_ctx.fillStyle="rgba("+s.r+", "+s.g+", "+s.b+", "+c+")";var u=[];if(void 0!==r)for(var A=0;A<r.length;A++)u.push(n.waveforms[r[A]]);else u=n.waveforms;this.canvas_offscreen_ctx.lineWidth=1,this.canvas_picker_ctx.lineWidth=3,this.canvas_hover_ctx.lineWidth=3,this.canvas_selection_ctx.lineWidth=3;var d=null!=n.options.color_scale&&null!=n.options.color_array;function h(t){n.canvas_picker_ctx.strokeStyle=function(t){var n=t>>16&255,r=t>>8&255,o=255&t;return e.default.rgb(n,r,o)}(t["input-index"]),n.canvas_picker_ctx.stroke(n.paths[t["input-index"]])}function f(){clearTimeout(n.showWaveformSelectorPieContainerTimeout),n.waveformSelectorPieContainer.hide()}this.waveformsLength=u.length,this.waveformsLength>0&&(n.waveformPie.trigger("configure",{max:this.waveformsLength}),n.waveformSelectorPie.trigger("configure",{max:this.waveformsLength}),n.showWaveformPieContainerTimeout=setTimeout(function(){n.waveformPieContainer.show(0)},1e3),this._calculate_paths(),n._timedProcessArray(u,function(e){var r=d&&null!==n.options.color_array[e["input-index"]];if(r)var o=n.options.color_scale(n.options.color_array[e["input-index"]]);else{var o=t("#color-switcher").colorswitcher("get_null_color");n.canvas_offscreen_ctx.setLineDash([8,4])}n.canvas_offscreen_ctx.strokeStyle=o,n.canvas_offscreen_ctx.stroke(n.paths[e["input-index"]]),r||n.canvas_offscreen_ctx.setLineDash([])},function(){clearTimeout(n.showWaveformPieContainerTimeout),n.waveformPieContainer.hide(),clearTimeout(n.previewWaveformsTimeout),n.previewWaveformsTimeout=void 0,n.canvas_datum_ctx.drawImage(n.canvas_offscreen,0,0),n.showWaveformSelectorPieContainerTimeout=setTimeout(function(){n.waveformSelectorPieContainer.show(0)},1e3),n._timedProcessArray(u,h,f,n.waveformSelectorPie,n.waveformProcessingTimeout)},n.waveformPie,n.waveformProcessingTimeout),function(t,e,r){null==r&&(r=500);n.previewWaveformsTimeout=setTimeout(function o(){e.drawImage(t,0,0),n.previewWaveformsTimeout&&(n.previewWaveformsTimeout=setTimeout(o,r))},r)}(n.canvas_offscreen,n.canvas_datum_ctx))},_hover:function(e){for(var n=this.options.selection,r=this.options.hover,o=[],i=0;i<r.length;i++)n.indexOf(r[i])>-1&&o.push(r[i]);r=o;var a=[];for(i=0;i<r.length;i++){var l=r[i];l<this.waveforms.length&&a.push(this.waveforms[l])}this.canvas_hover_ctx.clearRect(0,0,this.canvas_hover.width,this.canvas_hover.height),a.length>0&&this.canvas_hover_ctx.fillRect(0,0,this.canvas_hover.width,this.canvas_hover.height);var s,c,u=null!=this.options.color_scale&&null!=this.options.color_array;for(i=0;i<a.length;i++){if(s=a[i]["input-index"],c=u&&null!==this.options.color_array[s])var A=this.options.color_scale(this.options.color_array[s]);else{A=t("#color-switcher").colorswitcher("get_null_color");this.canvas_hover_ctx.setLineDash([8,4])}this.canvas_hover_ctx.strokeStyle=A,this.canvas_hover_ctx.stroke(this.paths[s]),c||this.canvas_hover_ctx.setLineDash([])}},_selection:function(e){var n=this;n._stopProcessingWaveformsSelection();for(var r=n.options.selection,o=n.options.highlight,i=[],a=0;a<o.length;a++)r.indexOf(o[a])>-1&&i.push(o[a]);o=i;var l=[];for(a=0;a<o.length;a++){var s=o[a];s<n.waveforms.length&&l.push(n.waveforms[s])}n.canvas_selection_ctx.clearRect(0,0,n.canvas_selection.width,n.canvas_selection.height),l.length>0&&(n.canvas_selection_ctx.fillRect(0,0,n.canvas_hover.width,n.canvas_hover.height),n.waveformSelectionPie.trigger("configure",{max:l.length}),n.showWaveformSelectionPieContainerTimeout=setTimeout(function(){n.waveformSelectionPieContainer.show(0)},1e3),n._timedProcessArray(l,function(e){var r=c&&null!==n.options.color_array[e["input-index"]];if(r)var o=n.options.color_scale(n.options.color_array[e["input-index"]]);else{var o=t("#color-switcher").colorswitcher("get_null_color");n.canvas_selection_ctx.setLineDash([8,4])}n.canvas_selection_ctx.strokeStyle=o,n.canvas_selection_ctx.stroke(n.paths[e["input-index"]]),r||n.canvas_selection_ctx.setLineDash([])},function(){clearTimeout(n.showWaveformSelectionPieContainerTimeout),n.waveformSelectionPieContainer.hide()},n.waveformSelectionPie,n.waveformSelectionProcessingTimeout));var c=null!=n.options.color_scale&&null!=n.options.color_array},_stopProcessingWaveforms:function(){clearTimeout(this.waveformProcessingTimeout.timeoutID),clearTimeout(this.previewWaveformsTimeout),this.previewWaveformsTimeout=void 0,clearTimeout(this.showWaveformPieContainerTimeout),this.waveformPieContainer.hide()},_stopProcessingWaveformsSelection:function(){clearTimeout(this.waveformSelectionProcessingTimeout.timeoutID),clearTimeout(this.showWaveformSelectionPieContainerTimeout),this.waveformSelectionPieContainer.hide()},_timedProcessArray:function(t,e,n,r,o){var i=t.concat();o.timeoutID=setTimeout(function a(){var l=+new Date;do{e(i.shift())}while(i.length>0&&+new Date-l<50);i.length>0?o.timeoutID=setTimeout(a,100):n(t),r.val(t.length-i.length).trigger("change")},100)},resize_canvas:function(){this.width=t("#waveform-pane").width(),this.height=t("#waveform-pane").height(),this.diagram_width=this.width-this.padding_left-this.padding_right,this.diagram_height=this.height-this.padding_top-this.padding_bottom,this._set_visible(),this._selection()},_setOption:function(t,e){if(this.options[t]=e,"selection"==t)this._set_visible();else if("highlight"==t)this._selection();else if("color-options"==t)this.options.color_array=e.color_array,this.options.color_scale=e.color_scale,this._set_visible(),this._selection();else if("color_scale"==t)this._set_visible(),this._selection();else if("waveforms"==t){if(this.container.selectAll("g.waveform").remove(),this.container.selectAll("g.selection").remove(),this.container.selectAll("rect.selectionMask").remove(),this.options.waveforms=e.waveforms,null===e.selection){visible=[];for(var n=0;n<this.options.waveforms.length;n++)visible.push(this.options.waveforms[n]["input-index"]);this.options.selection=visible}else this.options.selection=e.selection;void 0!==e.highlight&&(this.options.highlight=e.highlight),this._set_visible(),this._selection()}}})}).call(this,n(1))},416:function(t,e,n){var r,o,i;o=[n(1)],void 0===(i="function"==typeof(r=function(t){"use strict";var e={},n=Math.max,r=Math.min;e.c={},e.c.d=t(document),e.c.t=function(t){return t.originalEvent.touches.length-1},e.o=function(){var n=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var e=function(t,e){var r;for(r in e)n.o[r]=e[r];n._carve().init(),n._configure()._draw()};if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=t.extend({min:void 0!==this.$.data("min")?this.$.data("min"):0,max:void 0!==this.$.data("max")?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||"readonly"===this.$.attr("readonly"),cursor:(!0===this.$.data("cursor")?30:this.$.data("cursor"))||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(t){return t},parse:function(t){return parseFloat(t)}},this.o),this.o.flip="anticlockwise"===this.o.rotation||"acw"===this.o.rotation,this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(e){var r=t(this);n.i[e]=r,n.v[e]=n.o.parse(r.val()),r.bind("change blur",function(){var t={};t[e]=r.val(),n.val(n._validate(t))})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),""===this.v&&(this.v=this.o.min),this.$.bind("change blur",function(){n.val(n._validate(n.o.parse(n.$.val())))})),!this.o.displayInput&&this.$.hide(),this.$c=t(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=t('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!=0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!=0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",e).parent().bind("configure",e),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}},this._carve=function(){if(this.relative){var t=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),e=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(t,e)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var t=!0;n.g=n.c,n.clear(),n.dH&&(t=n.dH()),!1!==t&&n.draw()},this._touch=function(t){var r=function(t){var e=n.xy2val(t.originalEvent.touches[n.t].pageX,t.originalEvent.touches[n.t].pageY);e!=n.cv&&(n.cH&&!1===n.cH(e)||(n.change(n._validate(e)),n._draw()))};return this.t=e.c.t(t),r(t),e.c.d.bind("touchmove.k",r).bind("touchend.k",function(){e.c.d.unbind("touchmove.k touchend.k"),n.val(n.cv)}),this},this._mouse=function(t){var r=function(t){var e=n.xy2val(t.pageX,t.pageY);e!=n.cv&&(n.cH&&!1===n.cH(e)||(n.change(n._validate(e)),n._draw()))};return r(t),e.c.d.bind("mousemove.k",r).bind("keyup.k",function(t){if(27===t.keyCode){if(e.c.d.unbind("mouseup.k mousemove.k keyup.k"),n.eH&&!1===n.eH())return;n.cancel()}}).bind("mouseup.k",function(t){e.c.d.unbind("mousemove.k mouseup.k keyup.k"),n.val(n.cv)}),this},this._xy=function(){var t=this.$c.offset();return this.x=t.left,this.y=t.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(t){t.preventDefault(),n._xy()._mouse(t)}).bind("touchstart",function(t){t.preventDefault(),n._xy()._touch(t)}),this.listen()),this.relative&&t(window).resize(function(){n._carve().init(),n._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(t){var e=~~((t<0?-.5:.5)+t/this.o.step)*this.o.step;return Math.round(100*e)/100},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(t){},this.val=function(t){},this.xy2val=function(t,e){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(t,e){var n;return t=t.substring(1,7),"rgba("+(n=[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)])[0]+","+n[1]+","+n[2]+","+e+")"},this.copy=function(t,e){for(var n in t)e[n]=t[n]}},e.Dial=function(){e.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=t.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(t,e){if(null==t)return this.v;t=this.o.parse(t),!1!==e&&t!=this.v&&this.rH&&!1===this.rH(t)||(this.cv=this.o.stopper?n(r(t,this.o.max),this.o.min):t,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw())},this.xy2val=function(t,e){var o,i;return o=Math.atan2(t-(this.x+this.w2),-(e-this.y-this.w2))-this.angleOffset,this.o.flip&&(o=this.angleArc-o-this.PI2),this.angleArc!=this.PI2&&o<0&&o>-.5?o=0:o<0&&(o+=this.PI2),i=o*(this.o.max-this.o.min)/this.angleArc+this.o.min,this.o.stopper&&(i=n(r(i,this.o.max),this.o.min)),i},this.listen=function(){var e,o,i,a,l=this,s=function(t){t.preventDefault();var i=t.originalEvent,a=i.detail||i.wheelDeltaX,s=i.detail||i.wheelDeltaY,c=l._validate(l.o.parse(l.$.val()))+(a>0||s>0?l.o.step:a<0||s<0?-l.o.step:0);c=n(r(c,l.o.max),l.o.min),l.val(c,!1),l.rH&&(clearTimeout(e),e=setTimeout(function(){l.rH(c),e=null},100),o||(o=setTimeout(function(){e&&l.rH(c),o=null},200)))},c=1,u={37:-l.o.step,38:l.o.step,39:l.o.step,40:-l.o.step};this.$.bind("keydown",function(e){var o=e.keyCode;if(o>=96&&o<=105&&(o=e.keyCode=o-48),i=parseInt(String.fromCharCode(o)),isNaN(i)&&(13!==o&&8!==o&&9!==o&&189!==o&&(190!==o||l.$.val().match(/\./))&&e.preventDefault(),t.inArray(o,[37,38,39,40])>-1)){e.preventDefault();var s=l.o.parse(l.$.val())+u[o]*c;l.o.stopper&&(s=n(r(s,l.o.max),l.o.min)),l.change(l._validate(s)),l._draw(),a=window.setTimeout(function(){c*=2},30)}}).bind("keyup",function(t){isNaN(i)?a&&(window.clearTimeout(a),a=null,c=1,l.val(l.$.val())):l.$.val()>l.o.max&&l.$.val(l.o.max)||l.$.val()<l.o.min&&l.$.val(l.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",s),this.$.bind("mousewheel DOMMouseScroll",s)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var t=n(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(3*this.w/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/t>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(t){this.cv=t,this.$.val(this.o.format(t))},this.angle=function(t){return(t-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(t){var e,n;return t=this.angle(t),this.o.flip?(e=this.endAngle+1e-5,n=e-t-1e-5):(e=this.startAngle-1e-5,n=e+t+1e-5),this.o.cursor&&(e=n-this.cursorExt)&&(n+=this.cursorExt),{s:e,e:n,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var t,e=this.g,n=this.arc(this.cv),r=1;e.lineWidth=this.lineWidth,e.lineCap=this.lineCap,"none"!==this.o.bgColor&&(e.beginPath(),e.strokeStyle=this.o.bgColor,e.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),e.stroke()),this.o.displayPrevious&&(t=this.arc(this.v),e.beginPath(),e.strokeStyle=this.pColor,e.arc(this.xy,this.xy,this.radius,t.s,t.e,t.d),e.stroke(),r=this.cv==this.v),e.beginPath(),e.strokeStyle=r?this.o.fgColor:this.fgColor,e.arc(this.xy,this.xy,this.radius,n.s,n.e,n.d),e.stroke()},this.cancel=function(){this.val(this.v)}},t.fn.dial=t.fn.knob=function(n){return this.each(function(){var r=new e.Dial;r.o=n,r.$=t(this),r.run()}).parent()}})?r.apply(e,o):r)||(t.exports=i)},417:function(t,e,n){"use strict";(function(t){var e=function(t){return t&&t.__esModule?t:{default:t}}(n(283));n(282),t.widget("slycat.colorswitcher",{options:{colormap:"day"},_create:function(){var n=this;this.color_maps={night:{label:"Night",background:e.default.rgb(128,128,128),null_color:"rgb(75,75,75)",opacity:"0.5",colors:[e.default.rgb(59,76,192),e.default.rgb(68,90,204),e.default.rgb(77,104,215),e.default.rgb(87,117,225),e.default.rgb(98,130,234),e.default.rgb(108,142,241),e.default.rgb(119,154,247),e.default.rgb(130,165,251),e.default.rgb(141,176,254),e.default.rgb(152,185,255),e.default.rgb(163,194,255),e.default.rgb(174,201,253),e.default.rgb(184,208,249),e.default.rgb(194,213,244),e.default.rgb(204,217,238),e.default.rgb(213,219,230),e.default.rgb(221,221,221),e.default.rgb(229,216,209),e.default.rgb(236,211,197),e.default.rgb(241,204,185),e.default.rgb(245,196,173),e.default.rgb(247,187,160),e.default.rgb(247,177,148),e.default.rgb(247,166,135),e.default.rgb(244,154,123),e.default.rgb(241,141,111),e.default.rgb(236,127,99),e.default.rgb(229,112,88),e.default.rgb(222,96,77),e.default.rgb(213,80,66),e.default.rgb(203,62,56),e.default.rgb(192,40,47),e.default.rgb(180,4,38)]},day:{label:"Day",background:e.default.rgb(255,255,255),null_color:"gray",opacity:"0.7",colors:[e.default.rgb(100,108,234),e.default.rgb(115,118,240),e.default.rgb(128,128,244),e.default.rgb(140,138,248),e.default.rgb(151,147,250),e.default.rgb(161,155,251),e.default.rgb(169,163,251),e.default.rgb(177,170,250),e.default.rgb(184,177,248),e.default.rgb(189,182,245),e.default.rgb(193,187,241),e.default.rgb(197,191,236),e.default.rgb(199,194,230),e.default.rgb(200,196,224),e.default.rgb(201,198,216),e.default.rgb(200,199,208),e.default.rgb(198,198,198),e.default.rgb(210,197,195),e.default.rgb(220,194,192),e.default.rgb(229,191,187),e.default.rgb(236,186,181),e.default.rgb(243,181,175),e.default.rgb(248,175,168),e.default.rgb(251,168,160),e.default.rgb(254,159,152),e.default.rgb(255,150,143),e.default.rgb(255,140,133),e.default.rgb(253,129,123),e.default.rgb(250,117,112),e.default.rgb(246,105,101),e.default.rgb(240,91,90),e.default.rgb(233,75,78),e.default.rgb(225,57,66)]},rainbow:{label:"Rainbow Night",background:e.default.rgb(128,128,128),null_color:"rgb(75,75,75)",opacity:"0.6",colors:[e.default.rgb(0,0,255),e.default.rgb(0,255,255),e.default.rgb(255,255,0),e.default.rgb(255,0,0)]},rainbow_day:{label:"Rainbow Day",background:e.default.rgb(255,255,255),null_color:"gray",opacity:"0.7",colors:[e.default.rgb(0,0,255),e.default.rgb(0,255,255),e.default.rgb(255,255,0),e.default.rgb(255,0,0)]}},this.button=t('<button class="btn btn-xs btn-default dropdown-toggle" type="button" id="colors-dropdown" data-toggle="dropdown" aria-expanded="true" title="Line Color Theme">           Colors           <span class="caret"></span>         </button>').appendTo(this.element),this.list=t('<ul class="dropdown-menu" role="menu" aria-labelledby="colors-dropdown">').appendTo(this.element),t.each(this.color_maps,function(e,r){for(var o=n.get_gradient_data(e),i=[],a=0;a<o.length;a++)i.push(o[a].color+" "+o[a].offset+"%");var l=n.get_background(e);t('<li role="presentation">').addClass("color").toggleClass("active",e==n.options.colormap).attr("data-colormap",e).appendTo(n.list).append(t('<a role="menuitem" tabindex="-1">').html(r.label).click(function(){var e=t(this).parent();if(e.hasClass("active"))return!1;n.options.colormap=e.attr("data-colormap"),n.list.find(".color").removeClass("active"),e.addClass("active"),n.element.trigger("colormap-changed",[n.options.colormap])}).css({"background-image":"linear-gradient(to bottom, "+i.join(", ")+"), linear-gradient(to bottom, "+l+", "+l+")","background-size":"5px 75%, 50px 100%","background-position":"right 10px center, right 5px center","background-repeat":"no-repeat, no-repeat","padding-right":"70px"}))})},_setOption:function(t,e){this.options[t]=e,"colormap"==t&&(this.list.find(".color").removeClass("active"),this.list.find("[data-colormap='"+this.options.colormap+"']").addClass("active"))},get_background:function(t){return void 0===t&&(t=this.options.colormap),this.color_maps[t].background},get_null_color:function(t){return void 0===t&&(t=this.options.colormap),this.color_maps[t].null_color},get_opacity:function(t){return void 0===t&&(t=this.options.colormap),this.color_maps[t].opacity},get_color_scale:function(t,n,r){void 0===t&&(t=this.options.colormap),void 0===n&&(n=0),void 0===r&&(r=1);var o=[],i=e.default.scale.linear().domain([0,this.color_maps[t].colors.length-1]).range([n,r]);for(var a in this.color_maps[t].colors)o.push(i(a));return e.default.scale.linear().domain(o).range(this.color_maps[t].colors)},get_color_map:function(t,e,n){return this.get_color_scale(t,e,n)},get_color_scale_ordinal:function(t,n){void 0===t&&(t=this.options.colormap),void 0===n&&(n=[0,1]);for(var r=e.default.scale.ordinal().domain(n).rangePoints([0,100],0),o=this.get_color_scale(t,0,100),i=[],a=0;a<n.length;a++)i.push(o(r(n[a])));return e.default.scale.ordinal().domain(n).range(i)},get_color_map_ordinal:function(t,e){return this.get_color_scale_ordinal(t,e)},get_gradient_data:function(t){void 0===t&&(t=this.options.colormap);for(var e=this.color_maps[t].colors,n=e.length,r=[],o=0;o<n;o++)r.push({offset:o*(100/(n-1)),color:e[n-1-o]});return r},setUpColorMapsForAllColumns:function(t,e){for(var n=0;n!=e.length;++n)e[n].colorMap=this.get_color_scale(t,e[n].columnMin,e[n].columnMax)}})}).call(this,n(1))}}]);
//# sourceMappingURL=ui_timeseries_module.js.map